var BD=Object.defineProperty,VD=Object.defineProperties;var $D=Object.getOwnPropertyDescriptors;var Fc=Object.getOwnPropertySymbols;var J0=Object.prototype.hasOwnProperty,K0=Object.prototype.propertyIsEnumerable;var Y0=(t,e,n)=>e in t?BD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,I=(t,e)=>{for(var n in e||={})J0.call(e,n)&&Y0(t,n,e[n]);if(Fc)for(var n of Fc(e))K0.call(e,n)&&Y0(t,n,e[n]);return t},U=(t,e)=>VD(t,$D(e));var Yp=(t,e)=>{var n={};for(var r in t)J0.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Fc)for(var r of Fc(t))e.indexOf(r)<0&&K0.call(t,r)&&(n[r]=t[r]);return n};var X0=new RegExp(`(\\:not\\()|(([\\.\\#]?)[-\\w]+)|(?:\\[([-.\\w*\\\\$]+)(?:=(["']?)([^\\]"']*)\\5)?\\])|(\\))|(\\s*,\\s*)`,"g"),ts=class t{element=null;classNames=[];attrs=[];notSelectors=[];static parse(e){let n=[],r=(l,c)=>{c.notSelectors.length>0&&!c.element&&c.classNames.length==0&&c.attrs.length==0&&(c.element="*"),l.push(c)},i=new t,o,s=i,a=!1;for(X0.lastIndex=0;o=X0.exec(e);){if(o[1]){if(a)throw new Error("Nesting :not in a selector is not allowed");a=!0,s=new t,i.notSelectors.push(s)}let l=o[2];if(l){let d=o[3];d==="#"?s.addAttribute("id",l.slice(1)):d==="."?s.addClassName(l.slice(1)):s.setElement(l)}let c=o[4];if(c&&s.addAttribute(s.unescapeAttribute(c),o[6]),o[7]&&(a=!1,s=i),o[8]){if(a)throw new Error("Multiple selectors in :not are not supported");r(n,i),i=s=new t}}return r(n,i),n}unescapeAttribute(e){let n="",r=!1;for(let i=0;i<e.length;i++){let o=e.charAt(i);if(o==="\\"){r=!0;continue}if(o==="$"&&!r)throw new Error(`Error in attribute selector "${e}". Unescaped "$" is not supported. Please escape with "\\$".`);r=!1,n+=o}return n}escapeAttribute(e){return e.replace(/\\/g,"\\\\").replace(/\$/g,"\\$")}isElementSelector(){return this.hasElementSelector()&&this.classNames.length==0&&this.attrs.length==0&&this.notSelectors.length===0}hasElementSelector(){return!!this.element}setElement(e=null){this.element=e}getAttrs(){let e=[];return this.classNames.length>0&&e.push("class",this.classNames.join(" ")),e.concat(this.attrs)}addAttribute(e,n=""){this.attrs.push(e,n&&n.toLowerCase()||"")}addClassName(e){this.classNames.push(e.toLowerCase())}toString(){let e=this.element||"";if(this.classNames&&this.classNames.forEach(n=>e+=`.${n}`),this.attrs)for(let n=0;n<this.attrs.length;n+=2){let r=this.escapeAttribute(this.attrs[n]),i=this.attrs[n+1];e+=`[${r}${i?"="+i:""}]`}return this.notSelectors.forEach(n=>e+=`:not(${n})`),e}},iu=class t{static createNotMatcher(e){let n=new t;return n.addSelectables(e,null),n}_elementMap=new Map;_elementPartialMap=new Map;_classMap=new Map;_classPartialMap=new Map;_attrValueMap=new Map;_attrValuePartialMap=new Map;_listContexts=[];addSelectables(e,n){let r=null;e.length>1&&(r=new gh(e),this._listContexts.push(r));for(let i=0;i<e.length;i++)this._addSelectable(e[i],n,r)}_addSelectable(e,n,r){let i=this,o=e.element,s=e.classNames,a=e.attrs,l=new vh(e,n,r);if(o&&(a.length===0&&s.length===0?this._addTerminal(i._elementMap,o,l):i=this._addPartial(i._elementPartialMap,o)),s)for(let c=0;c<s.length;c++){let d=a.length===0&&c===s.length-1,p=s[c];d?this._addTerminal(i._classMap,p,l):i=this._addPartial(i._classPartialMap,p)}if(a)for(let c=0;c<a.length;c+=2){let d=c===a.length-2,p=a[c],h=a[c+1];if(d){let g=i._attrValueMap,v=g.get(p);v||(v=new Map,g.set(p,v)),this._addTerminal(v,h,l)}else{let g=i._attrValuePartialMap,v=g.get(p);v||(v=new Map,g.set(p,v)),i=this._addPartial(v,h)}}}_addTerminal(e,n,r){let i=e.get(n);i||(i=[],e.set(n,i)),i.push(r)}_addPartial(e,n){let r=e.get(n);return r||(r=new t,e.set(n,r)),r}match(e,n){let r=!1,i=e.element,o=e.classNames,s=e.attrs;for(let a=0;a<this._listContexts.length;a++)this._listContexts[a].alreadyMatched=!1;if(r=this._matchTerminal(this._elementMap,i,e,n)||r,r=this._matchPartial(this._elementPartialMap,i,e,n)||r,o)for(let a=0;a<o.length;a++){let l=o[a];r=this._matchTerminal(this._classMap,l,e,n)||r,r=this._matchPartial(this._classPartialMap,l,e,n)||r}if(s)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1],d=this._attrValueMap.get(l);c&&(r=this._matchTerminal(d,"",e,n)||r),r=this._matchTerminal(d,c,e,n)||r;let p=this._attrValuePartialMap.get(l);c&&(r=this._matchPartial(p,"",e,n)||r),r=this._matchPartial(p,c,e,n)||r}return r}_matchTerminal(e,n,r,i){if(!e||typeof n!="string")return!1;let o=e.get(n)||[],s=e.get("*");if(s&&(o=o.concat(s)),o.length===0)return!1;let a,l=!1;for(let c=0;c<o.length;c++)a=o[c],l=a.finalize(r,i)||l;return l}_matchPartial(e,n,r,i){if(!e||typeof n!="string")return!1;let o=e.get(n);return o?o.match(r,i):!1}},gh=class{selectors;alreadyMatched=!1;constructor(e){this.selectors=e}},vh=class{selector;cbContext;listContext;notSelectors;constructor(e,n,r){this.selector=e,this.cbContext=n,this.listContext=r,this.notSelectors=e.notSelectors}finalize(e,n){let r=!0;return this.notSelectors.length>0&&(!this.listContext||!this.listContext.alreadyMatched)&&(r=!iu.createNotMatcher(this.notSelectors).match(e,null)),r&&n&&(!this.listContext||!this.listContext.alreadyMatched)&&(this.listContext&&(this.listContext.alreadyMatched=!0),n(this.selector,this.cbContext)),r}},ou=class{registry;constructor(e){this.registry=e}match(e){return this.registry.has(e)?this.registry.get(e):[]}};var Si=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(Si||{}),Vm=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Vm||{}),Ta=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Ta||{}),Z0={name:"custom-elements"},Q0={name:"no-errors-schema"};var Me=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(Me||{});function UD(t){let e=t.classNames&&t.classNames.length?[8,...t.classNames]:[];return[t.element&&t.element!=="*"?t.element:"",...t.attrs,...e]}function HD(t){let e=t.classNames&&t.classNames.length?[8,...t.classNames]:[];return t.element?[5,t.element,...t.attrs,...e]:t.attrs.length?[3,...t.attrs,...e]:t.classNames&&t.classNames.length?[9,...t.classNames]:[]}function qD(t){let e=UD(t),n=t.notSelectors&&t.notSelectors.length?t.notSelectors.map(r=>HD(r)):[];return e.concat(...n)}function $m(t){return t?ts.parse(t).map(qD):[]}var _r=(function(t){return t[t.Directive=0]="Directive",t[t.Component=1]="Component",t[t.Injectable=2]="Injectable",t[t.Pipe=3]="Pipe",t[t.NgModule=4]="NgModule",t})(_r||{});var su;function GD(t){return YD(jD(t.nodes).join("")+`[${t.meaning}]`)}function zD(t){return t.id||HE(t)}function HE(t){let e=new yh,n=t.nodes.map(r=>r.visit(e,null));return qE(n.join(""),t.meaning)}var au=class{visitText(e,n){return e.value}visitContainer(e,n){return`[${e.children.map(r=>r.visit(this)).join(", ")}]`}visitIcu(e,n){let r=Object.keys(e.cases).map(i=>`${i} {${e.cases[i].visit(this)}}`);return`{${e.expression}, ${e.type}, ${r.join(", ")}}`}visitTagPlaceholder(e,n){return e.isVoid?`<ph tag name="${e.startName}"/>`:`<ph tag name="${e.startName}">${e.children.map(r=>r.visit(this)).join(", ")}</ph name="${e.closeName}">`}visitPlaceholder(e,n){return e.value?`<ph name="${e.name}">${e.value}</ph>`:`<ph name="${e.name}"/>`}visitIcuPlaceholder(e,n){return`<ph icu name="${e.name}">${e.value.visit(this)}</ph>`}visitBlockPlaceholder(e,n){return`<ph block name="${e.startName}">${e.children.map(r=>r.visit(this)).join(", ")}</ph name="${e.closeName}">`}},WD=new au;function jD(t){return t.map(e=>e.visit(WD,null))}var yh=class extends au{visitIcu(e){let n=Object.keys(e.cases).map(r=>`${r} {${e.cases[r].visit(this)}}`);return`{${e.type}, ${n.join(", ")}}`}};function YD(t){su??=new TextEncoder;let e=[...su.encode(t)],n=XD(e,Um.Big),r=e.length*8,i=new Uint32Array(80),o=1732584193,s=4023233417,a=2562383102,l=271733878,c=3285377520;n[r>>5]|=128<<24-r%32,n[(r+64>>9<<4)+15]=r;for(let d=0;d<n.length;d+=16){let p=o,h=s,g=a,v=l,w=c;for(let x=0;x<80;x++){x<16?i[x]=n[d+x]:i[x]=Jp(i[x-3]^i[x-8]^i[x-14]^i[x-16],1);let S=JD(x,s,a,l),N=S[0],R=S[1],P=[Jp(o,5),N,c,R,i[x]].reduce(Oo);c=l,l=a,a=Jp(s,30),s=o,o=P}o=Oo(o,p),s=Oo(s,h),a=Oo(a,g),l=Oo(l,v),c=Oo(c,w)}return ya(o)+ya(s)+ya(a)+ya(l)+ya(c)}function ya(t){return(t>>>0).toString(16).padStart(8,"0")}function JD(t,e,n,r){return t<20?[e&n|~e&r,1518500249]:t<40?[e^n^r,1859775393]:t<60?[e&n|e&r|n&r,2400959708]:[e^n^r,3395469782]}function e_(t){su??=new TextEncoder;let e=su.encode(t),n=new DataView(e.buffer,e.byteOffset,e.byteLength),r=t_(n,e.length,0),i=t_(n,e.length,102072);return r==0&&(i==0||i==1)&&(r=r^319790063,i=i^-1801410264),BigInt.asUintN(32,BigInt(r))<<BigInt(32)|BigInt.asUintN(32,BigInt(i))}function qE(t,e=""){let n=e_(t);return e&&(n=BigInt.asUintN(64,n<<BigInt(1))|n>>BigInt(63)&BigInt(1),n+=e_(e)),BigInt.asUintN(63,n).toString()}function t_(t,e,n){let r=2654435769,i=2654435769,o=0,s=e-12;for(;o<=s;o+=12){r+=t.getUint32(o,!0),i+=t.getUint32(o+4,!0),n+=t.getUint32(o+8,!0);let l=n_(r,i,n);r=l[0],i=l[1],n=l[2]}let a=e-o;return n+=e,a>=4?(r+=t.getUint32(o,!0),o+=4,a>=8?(i+=t.getUint32(o,!0),o+=4,a>=9&&(n+=t.getUint8(o++)<<8),a>=10&&(n+=t.getUint8(o++)<<16),a===11&&(n+=t.getUint8(o++)<<24)):(a>=5&&(i+=t.getUint8(o++)),a>=6&&(i+=t.getUint8(o++)<<8),a===7&&(i+=t.getUint8(o++)<<16))):(a>=1&&(r+=t.getUint8(o++)),a>=2&&(r+=t.getUint8(o++)<<8),a===3&&(r+=t.getUint8(o++)<<16)),n_(r,i,n)[2]}function n_(t,e,n){return t-=e,t-=n,t^=n>>>13,e-=n,e-=t,e^=t<<8,n-=t,n-=e,n^=e>>>13,t-=e,t-=n,t^=n>>>12,e-=n,e-=t,e^=t<<16,n-=t,n-=e,n^=e>>>5,t-=e,t-=n,t^=n>>>3,e-=n,e-=t,e^=t<<10,n-=t,n-=e,n^=e>>>15,[t,e,n]}var Um=(function(t){return t[t.Little=0]="Little",t[t.Big=1]="Big",t})(Um||{});function Oo(t,e){return KD(t,e)[1]}function KD(t,e){let n=(t&65535)+(e&65535),r=(t>>>16)+(e>>>16)+(n>>>16);return[r>>>16,r<<16|n&65535]}function Jp(t,e){return t<<e|t>>>32-e}function XD(t,e){let n=t.length+3>>>2,r=[];for(let i=0;i<n;i++)r[i]=ZD(t,i*4,e);return r}function r_(t,e){return e>=t.length?0:t[e]}function ZD(t,e,n){let r=0;if(n===Um.Big)for(let i=0;i<4;i++)r+=r_(t,e+i)<<24-8*i;else for(let i=0;i<4;i++)r+=r_(t,e+i)<<8*i;return r}var GE=(function(t){return t[t.None=0]="None",t[t.Const=1]="Const",t})(GE||{}),lu=class{modifiers;constructor(e=GE.None){this.modifiers=e}hasModifier(e){return(this.modifiers&e)!==0}},kr=(function(t){return t[t.Dynamic=0]="Dynamic",t[t.Bool=1]="Bool",t[t.String=2]="String",t[t.Int=3]="Int",t[t.Number=4]="Number",t[t.Function=5]="Function",t[t.Inferred=6]="Inferred",t[t.None=7]="None",t})(kr||{}),Zn=class extends lu{name;constructor(e,n){super(n),this.name=e}visitType(e,n){return e.visitBuiltinType(this,n)}},hn=class extends lu{value;typeParams;constructor(e,n,r=null){super(n),this.value=e,this.typeParams=r}visitType(e,n){return e.visitExpressionType(this,n)}};var kl=new Zn(kr.Dynamic),Wt=new Zn(kr.Inferred),QD=new Zn(kr.Bool),i9=new Zn(kr.Int),Hm=new Zn(kr.Number),qm=new Zn(kr.String),o9=new Zn(kr.Function),Qn=new Zn(kr.None),Fa=(function(t){return t[t.Minus=0]="Minus",t[t.Plus=1]="Plus",t})(Fa||{}),M=(function(t){return t[t.Equals=0]="Equals",t[t.NotEquals=1]="NotEquals",t[t.Assign=2]="Assign",t[t.Identical=3]="Identical",t[t.NotIdentical=4]="NotIdentical",t[t.Minus=5]="Minus",t[t.Plus=6]="Plus",t[t.Divide=7]="Divide",t[t.Multiply=8]="Multiply",t[t.Modulo=9]="Modulo",t[t.And=10]="And",t[t.Or=11]="Or",t[t.BitwiseOr=12]="BitwiseOr",t[t.BitwiseAnd=13]="BitwiseAnd",t[t.Lower=14]="Lower",t[t.LowerEquals=15]="LowerEquals",t[t.Bigger=16]="Bigger",t[t.BiggerEquals=17]="BiggerEquals",t[t.NullishCoalesce=18]="NullishCoalesce",t[t.Exponentiation=19]="Exponentiation",t[t.In=20]="In",t[t.AdditionAssignment=21]="AdditionAssignment",t[t.SubtractionAssignment=22]="SubtractionAssignment",t[t.MultiplicationAssignment=23]="MultiplicationAssignment",t[t.DivisionAssignment=24]="DivisionAssignment",t[t.RemainderAssignment=25]="RemainderAssignment",t[t.ExponentiationAssignment=26]="ExponentiationAssignment",t[t.AndAssignment=27]="AndAssignment",t[t.OrAssignment=28]="OrAssignment",t[t.NullishCoalesceAssignment=29]="NullishCoalesceAssignment",t})(M||{});function eA(t,e){return t==null||e==null?t==e:t.isEquivalent(e)}function zE(t,e,n){let r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function Jt(t,e){return zE(t,e,(n,r)=>n.isEquivalent(r))}var De=class{type;sourceSpan;constructor(e,n){this.type=e||null,this.sourceSpan=n||null}prop(e,n){return new Kt(this,e,null,n)}key(e,n,r){return new Ir(this,e,n,r)}callFn(e,n,r){return new Ot(this,e,null,n,r)}instantiate(e,n,r){return new Ba(this,e,n,r)}conditional(e,n=null,r){return new er(this,e,n,null,r)}equals(e,n){return new ve(M.Equals,this,e,null,n)}notEquals(e,n){return new ve(M.NotEquals,this,e,null,n)}identical(e,n){return new ve(M.Identical,this,e,null,n)}notIdentical(e,n){return new ve(M.NotIdentical,this,e,null,n)}minus(e,n){return new ve(M.Minus,this,e,null,n)}plus(e,n){return new ve(M.Plus,this,e,null,n)}divide(e,n){return new ve(M.Divide,this,e,null,n)}multiply(e,n){return new ve(M.Multiply,this,e,null,n)}modulo(e,n){return new ve(M.Modulo,this,e,null,n)}power(e,n){return new ve(M.Exponentiation,this,e,null,n)}and(e,n){return new ve(M.And,this,e,null,n)}bitwiseOr(e,n){return new ve(M.BitwiseOr,this,e,null,n)}bitwiseAnd(e,n){return new ve(M.BitwiseAnd,this,e,null,n)}or(e,n){return new ve(M.Or,this,e,null,n)}lower(e,n){return new ve(M.Lower,this,e,null,n)}lowerEquals(e,n){return new ve(M.LowerEquals,this,e,null,n)}bigger(e,n){return new ve(M.Bigger,this,e,null,n)}biggerEquals(e,n){return new ve(M.BiggerEquals,this,e,null,n)}isBlank(e){return this.equals(oA,e)}nullishCoalesce(e,n){return new ve(M.NullishCoalesce,this,e,null,n)}toStmt(){return new gn(this,null)}},mn=class t extends De{name;constructor(e,n,r){super(n,r),this.name=e}isEquivalent(e){return e instanceof t&&this.name===e.name}isConstant(){return!1}visitExpression(e,n){return e.visitReadVarExpr(this,n)}clone(){return new t(this.name,this.type,this.sourceSpan)}set(e){return new ve(M.Assign,this,e,null,this.sourceSpan)}},ns=class t extends De{expr;constructor(e,n,r){super(n,r),this.expr=e}visitExpression(e,n){return e.visitTypeofExpr(this,n)}isEquivalent(e){return e instanceof t&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new t(this.expr.clone())}},cu=class t extends De{expr;constructor(e,n,r){super(n,r),this.expr=e}visitExpression(e,n){return e.visitVoidExpr(this,n)}isEquivalent(e){return e instanceof t&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new t(this.expr.clone())}},pe=class t extends De{node;constructor(e,n,r){super(n,r),this.node=e}isEquivalent(e){return e instanceof t&&this.node===e.node}isConstant(){return!1}visitExpression(e,n){return e.visitWrappedNodeExpr(this,n)}clone(){return new t(this.node,this.type,this.sourceSpan)}},Ot=class t extends De{fn;args;pure;constructor(e,n,r,i,o=!1){super(r,i),this.fn=e,this.args=n,this.pure=o}get receiver(){return this.fn}isEquivalent(e){return e instanceof t&&this.fn.isEquivalent(e.fn)&&Jt(this.args,e.args)&&this.pure===e.pure}isConstant(){return!1}visitExpression(e,n){return e.visitInvokeFunctionExpr(this,n)}clone(){return new t(this.fn.clone(),this.args.map(e=>e.clone()),this.type,this.sourceSpan,this.pure)}},Oa=class t extends De{tag;template;constructor(e,n,r,i){super(r,i),this.tag=e,this.template=n}isEquivalent(e){return e instanceof t&&this.tag.isEquivalent(e.tag)&&this.template.isEquivalent(e.template)}isConstant(){return!1}visitExpression(e,n){return e.visitTaggedTemplateLiteralExpr(this,n)}clone(){return new t(this.tag.clone(),this.template.clone(),this.type,this.sourceSpan)}},Ba=class t extends De{classExpr;args;constructor(e,n,r,i){super(r,i),this.classExpr=e,this.args=n}isEquivalent(e){return e instanceof t&&this.classExpr.isEquivalent(e.classExpr)&&Jt(this.args,e.args)}isConstant(){return!1}visitExpression(e,n){return e.visitInstantiateExpr(this,n)}clone(){return new t(this.classExpr.clone(),this.args.map(e=>e.clone()),this.type,this.sourceSpan)}},ht=class t extends De{value;constructor(e,n,r){super(n,r),this.value=e}isEquivalent(e){return e instanceof t&&this.value===e.value}isConstant(){return!0}visitExpression(e,n){return e.visitLiteralExpr(this,n)}clone(){return new t(this.value,this.type,this.sourceSpan)}},Va=class t extends De{elements;expressions;constructor(e,n,r){super(null,r),this.elements=e,this.expressions=n}isEquivalent(e){return e instanceof t&&zE(this.elements,e.elements,(n,r)=>n.text===r.text)&&Jt(this.expressions,e.expressions)}isConstant(){return!1}visitExpression(e,n){return e.visitTemplateLiteralExpr(this,n)}clone(){return new t(this.elements.map(e=>e.clone()),this.expressions.map(e=>e.clone()))}},uu=class t extends De{text;rawText;constructor(e,n,r){super(qm,n),this.text=e,this.rawText=r??_h(Zc(e))}visitExpression(e,n){return e.visitTemplateLiteralElementExpr(this,n)}isEquivalent(e){return e instanceof t&&e.text===this.text&&e.rawText===this.rawText}isConstant(){return!0}clone(){return new t(this.text,this.sourceSpan,this.rawText)}},Mi=class{text;sourceSpan;constructor(e,n){this.text=e,this.sourceSpan=n}},Ko=class{text;sourceSpan;associatedMessage;constructor(e,n,r){this.text=e,this.sourceSpan=n,this.associatedMessage=r}},tA="|",i_="@@",nA="\u241F",du=class t extends De{metaBlock;messageParts;placeHolderNames;expressions;constructor(e,n,r,i,o){super(qm,o),this.metaBlock=e,this.messageParts=n,this.placeHolderNames=r,this.expressions=i}isEquivalent(e){return!1}isConstant(){return!1}visitExpression(e,n){return e.visitLocalizedString(this,n)}clone(){return new t(this.metaBlock,this.messageParts,this.placeHolderNames,this.expressions.map(e=>e.clone()),this.sourceSpan)}serializeI18nHead(){let e=this.metaBlock.description||"";return this.metaBlock.meaning&&(e=`${this.metaBlock.meaning}${tA}${e}`),this.metaBlock.customId&&(e=`${e}${i_}${this.metaBlock.customId}`),this.metaBlock.legacyIds&&this.metaBlock.legacyIds.forEach(n=>{e=`${e}${nA}${n}`}),o_(e,this.messageParts[0].text,this.getMessagePartSourceSpan(0))}getMessagePartSourceSpan(e){return this.messageParts[e]?.sourceSpan??this.sourceSpan}getPlaceholderSourceSpan(e){return this.placeHolderNames[e]?.sourceSpan??this.expressions[e]?.sourceSpan??this.sourceSpan}serializeI18nTemplatePart(e){let n=this.placeHolderNames[e-1],r=this.messageParts[e],i=n.text;return n.associatedMessage?.legacyIds.length===0&&(i+=`${i_}${qE(n.associatedMessage.messageString,n.associatedMessage.meaning)}`),o_(i,r.text,this.getMessagePartSourceSpan(e))}},Zc=t=>t.replace(/\\/g,"\\\\"),rA=t=>t.replace(/^:/,"\\:"),iA=t=>t.replace(/:/g,"\\:"),_h=t=>t.replace(/`/g,"\\`").replace(/\${/g,"$\\{");function o_(t,e,n){return t===""?{cooked:e,raw:_h(rA(Zc(e))),range:n}:{cooked:`:${t}:${e}`,raw:_h(`:${iA(Zc(t))}:${Zc(e)}`),range:n}}var Vi=class t extends De{value;typeParams;constructor(e,n,r=null,i){super(n,i),this.value=e,this.typeParams=r}isEquivalent(e){return e instanceof t&&this.value.name===e.value.name&&this.value.moduleName===e.value.moduleName}isConstant(){return!1}visitExpression(e,n){return e.visitExternalExpr(this,n)}clone(){return new t(this.value,this.type,this.typeParams,this.sourceSpan)}};var er=class t extends De{condition;falseCase;trueCase;constructor(e,n,r=null,i,o){super(i||n.type,o),this.condition=e,this.falseCase=r,this.trueCase=n}isEquivalent(e){return e instanceof t&&this.condition.isEquivalent(e.condition)&&this.trueCase.isEquivalent(e.trueCase)&&eA(this.falseCase,e.falseCase)}isConstant(){return!1}visitExpression(e,n){return e.visitConditionalExpr(this,n)}clone(){return new t(this.condition.clone(),this.trueCase.clone(),this.falseCase?.clone(),this.type,this.sourceSpan)}};var $a=class t extends De{condition;constructor(e,n){super(QD,n),this.condition=e}isEquivalent(e){return e instanceof t&&this.condition.isEquivalent(e.condition)}isConstant(){return!1}visitExpression(e,n){return e.visitNotExpr(this,n)}clone(){return new t(this.condition.clone(),this.sourceSpan)}},st=class t{name;type;constructor(e,n=null){this.name=e,this.type=n}isEquivalent(e){return this.name===e.name}clone(){return new t(this.name,this.type)}},Yr=class t extends De{params;statements;name;constructor(e,n,r,i,o){super(r,i),this.params=e,this.statements=n,this.name=o}isEquivalent(e){return(e instanceof t||e instanceof Ua)&&Jt(this.params,e.params)&&Jt(this.statements,e.statements)}isConstant(){return!1}visitExpression(e,n){return e.visitFunctionExpr(this,n)}toDeclStmt(e,n){return new Ua(e,this.params,this.statements,this.type,n,this.sourceSpan)}clone(){return new t(this.params.map(e=>e.clone()),this.statements,this.type,this.sourceSpan,this.name)}},$i=class t extends De{params;body;constructor(e,n,r,i){super(r,i),this.params=e,this.body=n}isEquivalent(e){return!(e instanceof t)||!Jt(this.params,e.params)?!1:this.body instanceof De&&e.body instanceof De?this.body.isEquivalent(e.body):Array.isArray(this.body)&&Array.isArray(e.body)?Jt(this.body,e.body):!1}isConstant(){return!1}visitExpression(e,n){return e.visitArrowFunctionExpr(this,n)}clone(){return new t(this.params.map(e=>e.clone()),Array.isArray(this.body)?this.body:this.body.clone(),this.type,this.sourceSpan)}toDeclStmt(e,n){return new Xe(e,this,Wt,n,this.sourceSpan)}},Ui=class t extends De{operator;expr;parens;constructor(e,n,r,i,o=!0){super(r||Hm,i),this.operator=e,this.expr=n,this.parens=o}isEquivalent(e){return e instanceof t&&this.operator===e.operator&&this.expr.isEquivalent(e.expr)}isConstant(){return!1}visitExpression(e,n){return e.visitUnaryOperatorExpr(this,n)}clone(){return new t(this.operator,this.expr.clone(),this.type,this.sourceSpan,this.parens)}},Pn=class t extends De{expr;constructor(e,n,r){super(n,r),this.expr=e}visitExpression(e,n){return e.visitParenthesizedExpr(this,n)}isEquivalent(e){return e instanceof t&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new t(this.expr.clone())}},ve=class t extends De{operator;rhs;lhs;constructor(e,n,r,i,o){super(i||n.type,o),this.operator=e,this.rhs=r,this.lhs=n}isEquivalent(e){return e instanceof t&&this.operator===e.operator&&this.lhs.isEquivalent(e.lhs)&&this.rhs.isEquivalent(e.rhs)}isConstant(){return!1}visitExpression(e,n){return e.visitBinaryOperatorExpr(this,n)}clone(){return new t(this.operator,this.lhs.clone(),this.rhs.clone(),this.type,this.sourceSpan)}isAssignment(){let e=this.operator;return e===M.Assign||e===M.AdditionAssignment||e===M.SubtractionAssignment||e===M.MultiplicationAssignment||e===M.DivisionAssignment||e===M.RemainderAssignment||e===M.ExponentiationAssignment||e===M.AndAssignment||e===M.OrAssignment||e===M.NullishCoalesceAssignment}},Kt=class t extends De{receiver;name;constructor(e,n,r,i){super(r,i),this.receiver=e,this.name=n}get index(){return this.name}isEquivalent(e){return e instanceof t&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name}isConstant(){return!1}visitExpression(e,n){return e.visitReadPropExpr(this,n)}set(e){return new ve(M.Assign,this.receiver.prop(this.name),e,null,this.sourceSpan)}clone(){return new t(this.receiver.clone(),this.name,this.type,this.sourceSpan)}},Ir=class t extends De{receiver;index;constructor(e,n,r,i){super(r,i),this.receiver=e,this.index=n}isEquivalent(e){return e instanceof t&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)}isConstant(){return!1}visitExpression(e,n){return e.visitReadKeyExpr(this,n)}set(e){return new ve(M.Assign,this.receiver.key(this.index),e,null,this.sourceSpan)}clone(){return new t(this.receiver.clone(),this.index.clone(),this.type,this.sourceSpan)}},Rn=class t extends De{entries;constructor(e,n,r){super(n,r),this.entries=e}isConstant(){return this.entries.every(e=>e.isConstant())}isEquivalent(e){return e instanceof t&&Jt(this.entries,e.entries)}visitExpression(e,n){return e.visitLiteralArrayExpr(this,n)}clone(){return new t(this.entries.map(e=>e.clone()),this.type,this.sourceSpan)}},rs=class t{key;value;quoted;constructor(e,n,r){this.key=e,this.value=n,this.quoted=r}isEquivalent(e){return this.key===e.key&&this.value.isEquivalent(e.value)}clone(){return new t(this.key,this.value.clone(),this.quoted)}},tr=class t extends De{entries;valueType=null;constructor(e,n,r){super(n,r),this.entries=e,n&&(this.valueType=n.valueType)}isEquivalent(e){return e instanceof t&&Jt(this.entries,e.entries)}isConstant(){return this.entries.every(e=>e.value.isConstant())}visitExpression(e,n){return e.visitLiteralMapExpr(this,n)}clone(){let e=this.entries.map(n=>n.clone());return new t(e,this.type,this.sourceSpan)}};var is=new ht(null,null,null),oA=new ht(null,Wt,null),dt=(function(t){return t[t.None=0]="None",t[t.Final=1]="Final",t[t.Private=2]="Private",t[t.Exported=4]="Exported",t[t.Static=8]="Static",t})(dt||{}),Eh=class{text;multiline;trailingNewline;constructor(e,n,r){this.text=e,this.multiline=n,this.trailingNewline=r}toString(){return this.multiline?` ${this.text} `:this.text}},fu=class extends Eh{tags;constructor(e){super("",!0,!0),this.tags=e}toString(){return uA(this.tags)}},Hi=class{modifiers;sourceSpan;leadingComments;constructor(e=dt.None,n=null,r){this.modifiers=e,this.sourceSpan=n,this.leadingComments=r}hasModifier(e){return(this.modifiers&e)!==0}addLeadingComment(e){this.leadingComments=this.leadingComments??[],this.leadingComments.push(e)}},Xe=class t extends Hi{name;value;type;constructor(e,n,r,i,o,s){super(i,o,s),this.name=e,this.value=n,this.type=r||n&&n.type||null}isEquivalent(e){return e instanceof t&&this.name===e.name&&(this.value?!!e.value&&this.value.isEquivalent(e.value):!e.value)}visitStatement(e,n){return e.visitDeclareVarStmt(this,n)}},Ua=class t extends Hi{name;params;statements;type;constructor(e,n,r,i,o,s,a){super(o,s,a),this.name=e,this.params=n,this.statements=r,this.type=i||null}isEquivalent(e){return e instanceof t&&Jt(this.params,e.params)&&Jt(this.statements,e.statements)}visitStatement(e,n){return e.visitDeclareFunctionStmt(this,n)}},gn=class t extends Hi{expr;constructor(e,n,r){super(dt.None,n,r),this.expr=e}isEquivalent(e){return e instanceof t&&this.expr.isEquivalent(e.expr)}visitStatement(e,n){return e.visitExpressionStmt(this,n)}},ft=class t extends Hi{value;constructor(e,n=null,r){super(dt.None,n,r),this.value=e}isEquivalent(e){return e instanceof t&&this.value.isEquivalent(e.value)}visitStatement(e,n){return e.visitReturnStmt(this,n)}},pu=class t extends Hi{condition;trueCase;falseCase;constructor(e,n,r=[],i,o){super(dt.None,i,o),this.condition=e,this.trueCase=n,this.falseCase=r}isEquivalent(e){return e instanceof t&&this.condition.isEquivalent(e.condition)&&Jt(this.trueCase,e.trueCase)&&Jt(this.falseCase,e.falseCase)}visitStatement(e,n){return e.visitIfStmt(this,n)}};function sA(t=[]){return new fu(t)}function de(t,e,n){return new mn(t,e,n)}function q(t,e=null,n){return new Vi(t,null,e,n)}function pt(t,e,n){return new hn(t,e,n)}function Nl(t){return new ns(t)}function xe(t,e,n){return new Rn(t,e,n)}function At(t,e=null){return new tr(t.map(n=>new rs(n.key,n.value,n.quoted)),e,null)}function aA(t,e){return new $a(t,e)}function Kr(t,e,n,r,i){return new Yr(t,e,n,r,i)}function Ln(t,e,n,r){return new $i(t,e,n,r)}function gd(t,e,n,r,i){return new pu(t,e,n,r,i)}function lA(t,e,n,r){return new Oa(t,e,n,r)}function T(t,e,n){return new ht(t,e,n)}function cA(t,e,n,r,i){return new du(t,e,n,r,i)}function s_(t){let e="";if(t.tagName&&(e+=` @${t.tagName}`),t.text){if(t.text.match(/\/\*|\*\//))throw new Error('JSDoc text cannot contain "/*" and "*/"');e+=" "+t.text.replace(/@/g,"\\@")}return e}function uA(t){if(t.length===0)return"";if(t.length===1&&t[0].tagName&&!t[0].text)return`*${s_(t[0])} `;let e=`*
`;for(let n of t)e+=" *",e+=s_(n).replace(/\n/g,`
 * `),e+=`
`;return e+=" ",e}var dA="_c",a_=de("<unknown>"),fA={},pA=50,hu=class t extends De{resolved;original;shared=!1;constructor(e){super(e.type),this.resolved=e,this.original=e}visitExpression(e,n){return n===fA?this.original.visitExpression(e,n):this.resolved.visitExpression(e,n)}isEquivalent(e){return e instanceof t&&this.resolved.isEquivalent(e.resolved)}isConstant(){return!0}clone(){throw new Error("Not supported.")}fixup(e){this.resolved=e,this.shared=!0}},mu=class{isClosureCompilerEnabled;statements=[];literals=new Map;literalFactories=new Map;sharedConstants=new Map;_claimedNames=new Map;nextNameIndex=0;constructor(e=!1){this.isClosureCompilerEnabled=e}getConstLiteral(e,n){if(e instanceof ht&&!l_(e)||e instanceof hu)return e;let r=Xo.INSTANCE.keyOf(e),i=this.literals.get(r),o=!1;if(i||(i=new hu(e),this.literals.set(r,i),o=!0),!o&&!i.shared||o&&n){let s=this.freshName(),a,l;this.isClosureCompilerEnabled&&l_(e)?(a=new Yr([],[new ft(e)]),l=de(s).callFn([])):(a=e,l=de(s)),this.statements.push(new Xe(s,a,Wt,dt.Final)),i.fixup(l)}return i}getSharedConstant(e,n){let r=e.keyOf(n);if(!this.sharedConstants.has(r)){let i=this.freshName();this.sharedConstants.set(r,de(i)),this.statements.push(e.toSharedConstantDeclaration(i,n))}return this.sharedConstants.get(r)}getLiteralFactory(e){if(e instanceof Rn){let n=e.entries.map(i=>i.isConstant()?i:a_),r=Xo.INSTANCE.keyOf(xe(n));return this._getLiteralFactory(r,e.entries,i=>xe(i))}else{let n=At(e.entries.map(i=>({key:i.key,value:i.value.isConstant()?i.value:a_,quoted:i.quoted}))),r=Xo.INSTANCE.keyOf(n);return this._getLiteralFactory(r,e.entries.map(i=>i.value),i=>At(i.map((o,s)=>({key:e.entries[s].key,value:o,quoted:e.entries[s].quoted}))))}}getSharedFunctionReference(e,n,r=!0){let i=e instanceof $i;for(let s of this.statements)if(i&&s instanceof Xe&&s.value?.isEquivalent(e)||!i&&s instanceof Ua&&e instanceof Yr&&e.isEquivalent(s))return de(s.name);let o=r?this.uniqueName(n):n;return this.statements.push(e instanceof Yr?e.toDeclStmt(o,dt.Final):new Xe(o,e,Wt,dt.Final,e.sourceSpan)),de(o)}_getLiteralFactory(e,n,r){let i=this.literalFactories.get(e),o=n.filter(s=>!s.isConstant());if(!i){let s=n.map((d,p)=>d.isConstant()?this.getConstLiteral(d,!0):de(`a${p}`)),a=s.filter(hA).map(d=>new st(d.name,kl)),l=Ln(a,r(s),Wt),c=this.freshName();this.statements.push(new Xe(c,l,Wt,dt.Final)),i=de(c),this.literalFactories.set(e,i)}return{literalFactory:i,literalFactoryArguments:o}}uniqueName(e,n=!0){let r=this._claimedNames.get(e)??0,i=r===0&&!n?`${e}`:`${e}${r}`;return this._claimedNames.set(e,r+1),i}freshName(){return this.uniqueName(dA)}},Xo=class t{static INSTANCE=new t;keyOf(e){if(e instanceof ht&&typeof e.value=="string")return`"${e.value}"`;if(e instanceof ht)return String(e.value);if(e instanceof Rn){let n=[];for(let r of e.entries)n.push(this.keyOf(r));return`[${n.join(",")}]`}else if(e instanceof tr){let n=[];for(let r of e.entries){let i=r.key;r.quoted&&(i=`"${i}"`),n.push(i+":"+this.keyOf(r.value))}return`{${n.join(",")}}`}else{if(e instanceof Vi)return`import("${e.value.moduleName}", ${e.value.name})`;if(e instanceof mn)return`read(${e.name})`;if(e instanceof ns)return`typeof(${this.keyOf(e.expr)})`;throw new Error(`${this.constructor.name} does not handle expressions of type ${e.constructor.name}`)}}};function hA(t){return t instanceof mn}function l_(t){return t instanceof ht&&typeof t.value=="string"&&t.value.length>=pA}var C="@angular/core",y=(()=>{class t{static NEW_METHOD="factory";static TRANSFORM_METHOD="transform";static PATCH_DEPS="patchedDeps";static core={name:null,moduleName:C};static namespaceHTML={name:"\u0275\u0275namespaceHTML",moduleName:C};static namespaceMathML={name:"\u0275\u0275namespaceMathML",moduleName:C};static namespaceSVG={name:"\u0275\u0275namespaceSVG",moduleName:C};static element={name:"\u0275\u0275element",moduleName:C};static elementStart={name:"\u0275\u0275elementStart",moduleName:C};static elementEnd={name:"\u0275\u0275elementEnd",moduleName:C};static domElement={name:"\u0275\u0275domElement",moduleName:C};static domElementStart={name:"\u0275\u0275domElementStart",moduleName:C};static domElementEnd={name:"\u0275\u0275domElementEnd",moduleName:C};static domElementContainer={name:"\u0275\u0275domElementContainer",moduleName:C};static domElementContainerStart={name:"\u0275\u0275domElementContainerStart",moduleName:C};static domElementContainerEnd={name:"\u0275\u0275domElementContainerEnd",moduleName:C};static domTemplate={name:"\u0275\u0275domTemplate",moduleName:C};static domListener={name:"\u0275\u0275domListener",moduleName:C};static advance={name:"\u0275\u0275advance",moduleName:C};static syntheticHostProperty={name:"\u0275\u0275syntheticHostProperty",moduleName:C};static syntheticHostListener={name:"\u0275\u0275syntheticHostListener",moduleName:C};static attribute={name:"\u0275\u0275attribute",moduleName:C};static classProp={name:"\u0275\u0275classProp",moduleName:C};static elementContainerStart={name:"\u0275\u0275elementContainerStart",moduleName:C};static elementContainerEnd={name:"\u0275\u0275elementContainerEnd",moduleName:C};static elementContainer={name:"\u0275\u0275elementContainer",moduleName:C};static styleMap={name:"\u0275\u0275styleMap",moduleName:C};static classMap={name:"\u0275\u0275classMap",moduleName:C};static styleProp={name:"\u0275\u0275styleProp",moduleName:C};static interpolate={name:"\u0275\u0275interpolate",moduleName:C};static interpolate1={name:"\u0275\u0275interpolate1",moduleName:C};static interpolate2={name:"\u0275\u0275interpolate2",moduleName:C};static interpolate3={name:"\u0275\u0275interpolate3",moduleName:C};static interpolate4={name:"\u0275\u0275interpolate4",moduleName:C};static interpolate5={name:"\u0275\u0275interpolate5",moduleName:C};static interpolate6={name:"\u0275\u0275interpolate6",moduleName:C};static interpolate7={name:"\u0275\u0275interpolate7",moduleName:C};static interpolate8={name:"\u0275\u0275interpolate8",moduleName:C};static interpolateV={name:"\u0275\u0275interpolateV",moduleName:C};static nextContext={name:"\u0275\u0275nextContext",moduleName:C};static resetView={name:"\u0275\u0275resetView",moduleName:C};static templateCreate={name:"\u0275\u0275template",moduleName:C};static defer={name:"\u0275\u0275defer",moduleName:C};static deferWhen={name:"\u0275\u0275deferWhen",moduleName:C};static deferOnIdle={name:"\u0275\u0275deferOnIdle",moduleName:C};static deferOnImmediate={name:"\u0275\u0275deferOnImmediate",moduleName:C};static deferOnTimer={name:"\u0275\u0275deferOnTimer",moduleName:C};static deferOnHover={name:"\u0275\u0275deferOnHover",moduleName:C};static deferOnInteraction={name:"\u0275\u0275deferOnInteraction",moduleName:C};static deferOnViewport={name:"\u0275\u0275deferOnViewport",moduleName:C};static deferPrefetchWhen={name:"\u0275\u0275deferPrefetchWhen",moduleName:C};static deferPrefetchOnIdle={name:"\u0275\u0275deferPrefetchOnIdle",moduleName:C};static deferPrefetchOnImmediate={name:"\u0275\u0275deferPrefetchOnImmediate",moduleName:C};static deferPrefetchOnTimer={name:"\u0275\u0275deferPrefetchOnTimer",moduleName:C};static deferPrefetchOnHover={name:"\u0275\u0275deferPrefetchOnHover",moduleName:C};static deferPrefetchOnInteraction={name:"\u0275\u0275deferPrefetchOnInteraction",moduleName:C};static deferPrefetchOnViewport={name:"\u0275\u0275deferPrefetchOnViewport",moduleName:C};static deferHydrateWhen={name:"\u0275\u0275deferHydrateWhen",moduleName:C};static deferHydrateNever={name:"\u0275\u0275deferHydrateNever",moduleName:C};static deferHydrateOnIdle={name:"\u0275\u0275deferHydrateOnIdle",moduleName:C};static deferHydrateOnImmediate={name:"\u0275\u0275deferHydrateOnImmediate",moduleName:C};static deferHydrateOnTimer={name:"\u0275\u0275deferHydrateOnTimer",moduleName:C};static deferHydrateOnHover={name:"\u0275\u0275deferHydrateOnHover",moduleName:C};static deferHydrateOnInteraction={name:"\u0275\u0275deferHydrateOnInteraction",moduleName:C};static deferHydrateOnViewport={name:"\u0275\u0275deferHydrateOnViewport",moduleName:C};static deferEnableTimerScheduling={name:"\u0275\u0275deferEnableTimerScheduling",moduleName:C};static conditionalCreate={name:"\u0275\u0275conditionalCreate",moduleName:C};static conditionalBranchCreate={name:"\u0275\u0275conditionalBranchCreate",moduleName:C};static conditional={name:"\u0275\u0275conditional",moduleName:C};static repeater={name:"\u0275\u0275repeater",moduleName:C};static repeaterCreate={name:"\u0275\u0275repeaterCreate",moduleName:C};static repeaterTrackByIndex={name:"\u0275\u0275repeaterTrackByIndex",moduleName:C};static repeaterTrackByIdentity={name:"\u0275\u0275repeaterTrackByIdentity",moduleName:C};static componentInstance={name:"\u0275\u0275componentInstance",moduleName:C};static text={name:"\u0275\u0275text",moduleName:C};static enableBindings={name:"\u0275\u0275enableBindings",moduleName:C};static disableBindings={name:"\u0275\u0275disableBindings",moduleName:C};static getCurrentView={name:"\u0275\u0275getCurrentView",moduleName:C};static textInterpolate={name:"\u0275\u0275textInterpolate",moduleName:C};static textInterpolate1={name:"\u0275\u0275textInterpolate1",moduleName:C};static textInterpolate2={name:"\u0275\u0275textInterpolate2",moduleName:C};static textInterpolate3={name:"\u0275\u0275textInterpolate3",moduleName:C};static textInterpolate4={name:"\u0275\u0275textInterpolate4",moduleName:C};static textInterpolate5={name:"\u0275\u0275textInterpolate5",moduleName:C};static textInterpolate6={name:"\u0275\u0275textInterpolate6",moduleName:C};static textInterpolate7={name:"\u0275\u0275textInterpolate7",moduleName:C};static textInterpolate8={name:"\u0275\u0275textInterpolate8",moduleName:C};static textInterpolateV={name:"\u0275\u0275textInterpolateV",moduleName:C};static restoreView={name:"\u0275\u0275restoreView",moduleName:C};static pureFunction0={name:"\u0275\u0275pureFunction0",moduleName:C};static pureFunction1={name:"\u0275\u0275pureFunction1",moduleName:C};static pureFunction2={name:"\u0275\u0275pureFunction2",moduleName:C};static pureFunction3={name:"\u0275\u0275pureFunction3",moduleName:C};static pureFunction4={name:"\u0275\u0275pureFunction4",moduleName:C};static pureFunction5={name:"\u0275\u0275pureFunction5",moduleName:C};static pureFunction6={name:"\u0275\u0275pureFunction6",moduleName:C};static pureFunction7={name:"\u0275\u0275pureFunction7",moduleName:C};static pureFunction8={name:"\u0275\u0275pureFunction8",moduleName:C};static pureFunctionV={name:"\u0275\u0275pureFunctionV",moduleName:C};static pipeBind1={name:"\u0275\u0275pipeBind1",moduleName:C};static pipeBind2={name:"\u0275\u0275pipeBind2",moduleName:C};static pipeBind3={name:"\u0275\u0275pipeBind3",moduleName:C};static pipeBind4={name:"\u0275\u0275pipeBind4",moduleName:C};static pipeBindV={name:"\u0275\u0275pipeBindV",moduleName:C};static domProperty={name:"\u0275\u0275domProperty",moduleName:C};static ariaProperty={name:"\u0275\u0275ariaProperty",moduleName:C};static property={name:"\u0275\u0275property",moduleName:C};static animationEnterListener={name:"\u0275\u0275animateEnterListener",moduleName:C};static animationLeaveListener={name:"\u0275\u0275animateLeaveListener",moduleName:C};static animationEnter={name:"\u0275\u0275animateEnter",moduleName:C};static animationLeave={name:"\u0275\u0275animateLeave",moduleName:C};static i18n={name:"\u0275\u0275i18n",moduleName:C};static i18nAttributes={name:"\u0275\u0275i18nAttributes",moduleName:C};static i18nExp={name:"\u0275\u0275i18nExp",moduleName:C};static i18nStart={name:"\u0275\u0275i18nStart",moduleName:C};static i18nEnd={name:"\u0275\u0275i18nEnd",moduleName:C};static i18nApply={name:"\u0275\u0275i18nApply",moduleName:C};static i18nPostprocess={name:"\u0275\u0275i18nPostprocess",moduleName:C};static pipe={name:"\u0275\u0275pipe",moduleName:C};static projection={name:"\u0275\u0275projection",moduleName:C};static projectionDef={name:"\u0275\u0275projectionDef",moduleName:C};static reference={name:"\u0275\u0275reference",moduleName:C};static inject={name:"\u0275\u0275inject",moduleName:C};static injectAttribute={name:"\u0275\u0275injectAttribute",moduleName:C};static directiveInject={name:"\u0275\u0275directiveInject",moduleName:C};static invalidFactory={name:"\u0275\u0275invalidFactory",moduleName:C};static invalidFactoryDep={name:"\u0275\u0275invalidFactoryDep",moduleName:C};static templateRefExtractor={name:"\u0275\u0275templateRefExtractor",moduleName:C};static forwardRef={name:"forwardRef",moduleName:C};static resolveForwardRef={name:"resolveForwardRef",moduleName:C};static replaceMetadata={name:"\u0275\u0275replaceMetadata",moduleName:C};static getReplaceMetadataURL={name:"\u0275\u0275getReplaceMetadataURL",moduleName:C};static \u0275\u0275defineInjectable={name:"\u0275\u0275defineInjectable",moduleName:C};static declareInjectable={name:"\u0275\u0275ngDeclareInjectable",moduleName:C};static InjectableDeclaration={name:"\u0275\u0275InjectableDeclaration",moduleName:C};static resolveWindow={name:"\u0275\u0275resolveWindow",moduleName:C};static resolveDocument={name:"\u0275\u0275resolveDocument",moduleName:C};static resolveBody={name:"\u0275\u0275resolveBody",moduleName:C};static getComponentDepsFactory={name:"\u0275\u0275getComponentDepsFactory",moduleName:C};static defineComponent={name:"\u0275\u0275defineComponent",moduleName:C};static declareComponent={name:"\u0275\u0275ngDeclareComponent",moduleName:C};static setComponentScope={name:"\u0275\u0275setComponentScope",moduleName:C};static ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:C};static ViewEncapsulation={name:"ViewEncapsulation",moduleName:C};static ComponentDeclaration={name:"\u0275\u0275ComponentDeclaration",moduleName:C};static FactoryDeclaration={name:"\u0275\u0275FactoryDeclaration",moduleName:C};static declareFactory={name:"\u0275\u0275ngDeclareFactory",moduleName:C};static FactoryTarget={name:"\u0275\u0275FactoryTarget",moduleName:C};static defineDirective={name:"\u0275\u0275defineDirective",moduleName:C};static declareDirective={name:"\u0275\u0275ngDeclareDirective",moduleName:C};static DirectiveDeclaration={name:"\u0275\u0275DirectiveDeclaration",moduleName:C};static InjectorDef={name:"\u0275\u0275InjectorDef",moduleName:C};static InjectorDeclaration={name:"\u0275\u0275InjectorDeclaration",moduleName:C};static defineInjector={name:"\u0275\u0275defineInjector",moduleName:C};static declareInjector={name:"\u0275\u0275ngDeclareInjector",moduleName:C};static NgModuleDeclaration={name:"\u0275\u0275NgModuleDeclaration",moduleName:C};static ModuleWithProviders={name:"ModuleWithProviders",moduleName:C};static defineNgModule={name:"\u0275\u0275defineNgModule",moduleName:C};static declareNgModule={name:"\u0275\u0275ngDeclareNgModule",moduleName:C};static setNgModuleScope={name:"\u0275\u0275setNgModuleScope",moduleName:C};static registerNgModuleType={name:"\u0275\u0275registerNgModuleType",moduleName:C};static PipeDeclaration={name:"\u0275\u0275PipeDeclaration",moduleName:C};static definePipe={name:"\u0275\u0275definePipe",moduleName:C};static declarePipe={name:"\u0275\u0275ngDeclarePipe",moduleName:C};static declareClassMetadata={name:"\u0275\u0275ngDeclareClassMetadata",moduleName:C};static declareClassMetadataAsync={name:"\u0275\u0275ngDeclareClassMetadataAsync",moduleName:C};static setClassMetadata={name:"\u0275setClassMetadata",moduleName:C};static setClassMetadataAsync={name:"\u0275setClassMetadataAsync",moduleName:C};static setClassDebugInfo={name:"\u0275setClassDebugInfo",moduleName:C};static queryRefresh={name:"\u0275\u0275queryRefresh",moduleName:C};static viewQuery={name:"\u0275\u0275viewQuery",moduleName:C};static loadQuery={name:"\u0275\u0275loadQuery",moduleName:C};static contentQuery={name:"\u0275\u0275contentQuery",moduleName:C};static viewQuerySignal={name:"\u0275\u0275viewQuerySignal",moduleName:C};static contentQuerySignal={name:"\u0275\u0275contentQuerySignal",moduleName:C};static queryAdvance={name:"\u0275\u0275queryAdvance",moduleName:C};static twoWayProperty={name:"\u0275\u0275twoWayProperty",moduleName:C};static twoWayBindingSet={name:"\u0275\u0275twoWayBindingSet",moduleName:C};static twoWayListener={name:"\u0275\u0275twoWayListener",moduleName:C};static declareLet={name:"\u0275\u0275declareLet",moduleName:C};static storeLet={name:"\u0275\u0275storeLet",moduleName:C};static readContextLet={name:"\u0275\u0275readContextLet",moduleName:C};static attachSourceLocations={name:"\u0275\u0275attachSourceLocations",moduleName:C};static NgOnChangesFeature={name:"\u0275\u0275NgOnChangesFeature",moduleName:C};static InheritDefinitionFeature={name:"\u0275\u0275InheritDefinitionFeature",moduleName:C};static CopyDefinitionFeature={name:"\u0275\u0275CopyDefinitionFeature",moduleName:C};static ProvidersFeature={name:"\u0275\u0275ProvidersFeature",moduleName:C};static HostDirectivesFeature={name:"\u0275\u0275HostDirectivesFeature",moduleName:C};static ExternalStylesFeature={name:"\u0275\u0275ExternalStylesFeature",moduleName:C};static listener={name:"\u0275\u0275listener",moduleName:C};static getInheritedFactory={name:"\u0275\u0275getInheritedFactory",moduleName:C};static sanitizeHtml={name:"\u0275\u0275sanitizeHtml",moduleName:C};static sanitizeStyle={name:"\u0275\u0275sanitizeStyle",moduleName:C};static sanitizeResourceUrl={name:"\u0275\u0275sanitizeResourceUrl",moduleName:C};static sanitizeScript={name:"\u0275\u0275sanitizeScript",moduleName:C};static sanitizeUrl={name:"\u0275\u0275sanitizeUrl",moduleName:C};static sanitizeUrlOrResourceUrl={name:"\u0275\u0275sanitizeUrlOrResourceUrl",moduleName:C};static trustConstantHtml={name:"\u0275\u0275trustConstantHtml",moduleName:C};static trustConstantResourceUrl={name:"\u0275\u0275trustConstantResourceUrl",moduleName:C};static validateIframeAttribute={name:"\u0275\u0275validateIframeAttribute",moduleName:C};static inputDecorator={name:"Input",moduleName:C};static outputDecorator={name:"Output",moduleName:C};static viewChildDecorator={name:"ViewChild",moduleName:C};static viewChildrenDecorator={name:"ViewChildren",moduleName:C};static contentChildDecorator={name:"ContentChild",moduleName:C};static contentChildrenDecorator={name:"ContentChildren",moduleName:C};static InputSignalBrandWriteType={name:"\u0275INPUT_SIGNAL_BRAND_WRITE_TYPE",moduleName:C};static UnwrapDirectiveSignalInputs={name:"\u0275UnwrapDirectiveSignalInputs",moduleName:C};static unwrapWritableSignal={name:"\u0275unwrapWritableSignal",moduleName:C};static assertType={name:"\u0275assertType",moduleName:C}}return t})(),mA=/-+([a-z0-9])/g;function gA(t){return t.replace(mA,(...e)=>e[1].toUpperCase())}function vA(t,e){return WE(t,":",e)}function yA(t,e){return WE(t,".",e)}function WE(t,e,n){let r=t.indexOf(e);return r==-1?n:[t.slice(0,r).trim(),t.slice(r+1).trim()]}function _A(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r>=55296&&r<=56319&&t.length>n+1){let i=t.charCodeAt(n+1);i>=56320&&i<=57343&&(n++,r=(r-55296<<10)+i-56320+65536)}r<=127?e.push(r):r<=2047?e.push(r>>6&31|192,r&63|128):r<=65535?e.push(r>>12|224,r>>6&63|128,r&63|128):r<=2097151&&e.push(r>>18&7|240,r>>12&63|128,r>>6&63|128,r&63|128)}return e}function jE(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(jE).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;if(!t.toString)return"object";let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}var Ch=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},ka=globalThis,EA=/^([1-9]|1[0-8])\./;function YE(t){return t.startsWith("0.")?!0:!EA.test(t)}var CA=3,wA="# sourceMappingURL=data:application/json;base64,",wh=class{file;sourcesContent=new Map;lines=[];lastCol0=0;hasMappings=!1;constructor(e=null){this.file=e}addSource(e,n=null){return this.sourcesContent.has(e)||this.sourcesContent.set(e,n),this}addLine(){return this.lines.push([]),this.lastCol0=0,this}addMapping(e,n,r,i){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(n!=null&&!this.sourcesContent.has(n))throw new Error(`Unknown source file "${n}"`);if(e==null)throw new Error("The column in the generated code must be provided");if(e<this.lastCol0)throw new Error("Mapping should be added in output order");if(n&&(r==null||i==null))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=e,this.currentLine.push({col0:e,sourceUrl:n,sourceLine0:r,sourceCol0:i}),this}get currentLine(){return this.lines.slice(-1)[0]}toJSON(){if(!this.hasMappings)return null;let e=new Map,n=[],r=[];Array.from(this.sourcesContent.keys()).forEach((c,d)=>{e.set(c,d),n.push(c),r.push(this.sourcesContent.get(c)||null)});let i="",o=0,s=0,a=0,l=0;return this.lines.forEach(c=>{o=0,i+=c.map(d=>{let p=Oc(d.col0-o);return o=d.col0,d.sourceUrl!=null&&(p+=Oc(e.get(d.sourceUrl)-s),s=e.get(d.sourceUrl),p+=Oc(d.sourceLine0-a),a=d.sourceLine0,p+=Oc(d.sourceCol0-l),l=d.sourceCol0),p}).join(","),i+=";"}),i=i.slice(0,-1),{file:this.file||"",version:CA,sourceRoot:"",sources:n,sourcesContent:r,mappings:i}}toJsComment(){return this.hasMappings?"//"+wA+SA(JSON.stringify(this,null,0)):""}};function SA(t){let e="",n=_A(t);for(let r=0;r<n.length;){let i=n[r++],o=r<n.length?n[r++]:null,s=r<n.length?n[r++]:null;e+=xa(i>>2),e+=xa((i&3)<<4|(o===null?0:o>>4)),e+=o===null?"=":xa((o&15)<<2|(s===null?0:s>>6)),e+=o===null||s===null?"=":xa(s&63)}return e}function Oc(t){t=t<0?(-t<<1)+1:t<<1;let e="";do{let n=t&31;t=t>>5,t>0&&(n=n|32),e+=xa(n)}while(t>0);return e}var TA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function xa(t){if(t<0||t>=64)throw new Error("Can only encode value in the range [0, 63]");return TA[t]}var xA=/'|\\|\n|\r|\$/g,IA=/^[$A-Z_][0-9A-Z_$]*$/i,Sh="  ",gu=class{indent;partsLength=0;parts=[];srcSpans=[];constructor(e){this.indent=e}},DA=new Map([[M.And,"&&"],[M.Bigger,">"],[M.BiggerEquals,">="],[M.BitwiseOr,"|"],[M.BitwiseAnd,"&"],[M.Divide,"/"],[M.Assign,"="],[M.Equals,"=="],[M.Identical,"==="],[M.Lower,"<"],[M.LowerEquals,"<="],[M.Minus,"-"],[M.Modulo,"%"],[M.Exponentiation,"**"],[M.Multiply,"*"],[M.NotEquals,"!="],[M.NotIdentical,"!=="],[M.NullishCoalesce,"??"],[M.Or,"||"],[M.Plus,"+"],[M.In,"in"],[M.AdditionAssignment,"+="],[M.SubtractionAssignment,"-="],[M.MultiplicationAssignment,"*="],[M.DivisionAssignment,"/="],[M.RemainderAssignment,"%="],[M.ExponentiationAssignment,"**="],[M.AndAssignment,"&&="],[M.OrAssignment,"||="],[M.NullishCoalesceAssignment,"??="]]),Th=class t{_indent;static createRoot(){return new t(0)}_lines;constructor(e){this._indent=e,this._lines=[new gu(e)]}get _currentLine(){return this._lines[this._lines.length-1]}println(e,n=""){this.print(e||null,n,!0)}lineIsEmpty(){return this._currentLine.parts.length===0}lineLength(){return this._currentLine.indent*Sh.length+this._currentLine.partsLength}print(e,n,r=!1){n.length>0&&(this._currentLine.parts.push(n),this._currentLine.partsLength+=n.length,this._currentLine.srcSpans.push(e&&e.sourceSpan||null)),r&&this._lines.push(new gu(this._indent))}removeEmptyLastLine(){this.lineIsEmpty()&&this._lines.pop()}incIndent(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}decIndent(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}toSource(){return this.sourceLines.map(e=>e.parts.length>0?c_(e.indent)+e.parts.join(""):"").join(`
`)}toSourceMapGenerator(e,n=0){let r=new wh(e),i=!1,o=()=>{i||(r.addSource(e," ").addMapping(0,e,0,0),i=!0)};for(let s=0;s<n;s++)r.addLine(),o();return this.sourceLines.forEach((s,a)=>{r.addLine();let l=s.srcSpans,c=s.parts,d=s.indent*Sh.length,p=0;for(;p<l.length&&!l[p];)d+=c[p].length,p++;for(p<l.length&&a===0&&d===0?i=!0:o();p<l.length;){let h=l[p],g=h.start.file,v=h.start.line,w=h.start.col;for(r.addSource(g.url,g.content).addMapping(d,g.url,v,w),d+=c[p].length,p++;p<l.length&&(h===l[p]||!l[p]);)d+=c[p].length,p++}}),r}spanOf(e,n){let r=this._lines[e];if(r){let i=n-c_(r.indent).length;for(let o=0;o<r.parts.length;o++){let s=r.parts[o];if(s.length>i)return r.srcSpans[o];i-=s.length}}return null}get sourceLines(){return this._lines.length&&this._lines[this._lines.length-1].parts.length===0?this._lines.slice(0,-1):this._lines}},xh=class{_escapeDollarInStrings;lastIfCondition=null;constructor(e){this._escapeDollarInStrings=e}printLeadingComments(e,n){if(e.leadingComments!==void 0)for(let r of e.leadingComments)r instanceof fu?n.print(e,`/*${r.toString()}*/`,r.trailingNewline):r.multiline?n.print(e,`/* ${r.text} */`,r.trailingNewline):r.text.split(`
`).forEach(i=>{n.println(e,`// ${i}`)})}visitExpressionStmt(e,n){return this.printLeadingComments(e,n),e.expr.visitExpression(this,n),n.println(e,";"),null}visitReturnStmt(e,n){return this.printLeadingComments(e,n),n.print(e,"return "),e.value.visitExpression(this,n),n.println(e,";"),null}visitIfStmt(e,n){this.printLeadingComments(e,n),n.print(e,"if ("),this.lastIfCondition=e.condition,e.condition.visitExpression(this,n),this.lastIfCondition=null,n.print(e,") {");let r=e.falseCase!=null&&e.falseCase.length>0;return e.trueCase.length<=1&&!r?(n.print(e," "),this.visitAllStatements(e.trueCase,n),n.removeEmptyLastLine(),n.print(e," ")):(n.println(),n.incIndent(),this.visitAllStatements(e.trueCase,n),n.decIndent(),r&&(n.println(e,"} else {"),n.incIndent(),this.visitAllStatements(e.falseCase,n),n.decIndent())),n.println(e,"}"),null}visitInvokeFunctionExpr(e,n){let r=e.fn instanceof $i;return r&&n.print(e.fn,"("),e.fn.visitExpression(this,n),r&&n.print(e.fn,")"),n.print(e,"("),this.visitAllExpressions(e.args,n,","),n.print(e,")"),null}visitTaggedTemplateLiteralExpr(e,n){return e.tag.visitExpression(this,n),e.template.visitExpression(this,n),null}visitTemplateLiteralExpr(e,n){n.print(e,"`");for(let r=0;r<e.elements.length;r++){e.elements[r].visitExpression(this,n);let i=r<e.expressions.length?e.expressions[r]:null;i!==null&&(n.print(i,"${"),i.visitExpression(this,n),n.print(i,"}"))}n.print(e,"`")}visitTemplateLiteralElementExpr(e,n){n.print(e,e.rawText)}visitWrappedNodeExpr(e,n){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")}visitTypeofExpr(e,n){n.print(e,"typeof "),e.expr.visitExpression(this,n)}visitVoidExpr(e,n){n.print(e,"void "),e.expr.visitExpression(this,n)}visitReadVarExpr(e,n){return n.print(e,e.name),null}visitInstantiateExpr(e,n){return n.print(e,"new "),e.classExpr.visitExpression(this,n),n.print(e,"("),this.visitAllExpressions(e.args,n,","),n.print(e,")"),null}visitLiteralExpr(e,n){let r=e.value;return typeof r=="string"?n.print(e,Di(r,this._escapeDollarInStrings)):n.print(e,`${r}`),null}visitLocalizedString(e,n){let r=e.serializeI18nHead();n.print(e,"$localize `"+r.raw);for(let i=1;i<e.messageParts.length;i++)n.print(e,"${"),e.expressions[i-1].visitExpression(this,n),n.print(e,`}${e.serializeI18nTemplatePart(i).raw}`);return n.print(e,"`"),null}visitConditionalExpr(e,n){return n.print(e,"("),e.condition.visitExpression(this,n),n.print(e,"? "),e.trueCase.visitExpression(this,n),n.print(e,": "),e.falseCase.visitExpression(this,n),n.print(e,")"),null}visitDynamicImportExpr(e,n){n.print(e,`import(${e.url})`)}visitNotExpr(e,n){return n.print(e,"!"),e.condition.visitExpression(this,n),null}visitUnaryOperatorExpr(e,n){let r;switch(e.operator){case Fa.Plus:r="+";break;case Fa.Minus:r="-";break;default:throw new Error(`Unknown operator ${e.operator}`)}let i=e!==this.lastIfCondition;return i&&n.print(e,"("),n.print(e,r),e.expr.visitExpression(this,n),i&&n.print(e,")"),null}visitBinaryOperatorExpr(e,n){let r=DA.get(e.operator);if(!r)throw new Error(`Unknown operator ${e.operator}`);let i=e!==this.lastIfCondition;return i&&n.print(e,"("),e.lhs.visitExpression(this,n),n.print(e,` ${r} `),e.rhs.visitExpression(this,n),i&&n.print(e,")"),null}visitReadPropExpr(e,n){return e.receiver.visitExpression(this,n),n.print(e,"."),n.print(e,e.name),null}visitReadKeyExpr(e,n){return e.receiver.visitExpression(this,n),n.print(e,"["),e.index.visitExpression(this,n),n.print(e,"]"),null}visitLiteralArrayExpr(e,n){return n.print(e,"["),this.visitAllExpressions(e.entries,n,","),n.print(e,"]"),null}visitLiteralMapExpr(e,n){return n.print(e,"{"),this.visitAllObjects(r=>{n.print(e,`${Di(r.key,this._escapeDollarInStrings,r.quoted)}:`),r.value.visitExpression(this,n)},e.entries,n,","),n.print(e,"}"),null}visitCommaExpr(e,n){return n.print(e,"("),this.visitAllExpressions(e.parts,n,","),n.print(e,")"),null}visitParenthesizedExpr(e,n){e.expr.visitExpression(this,n)}visitAllExpressions(e,n,r){this.visitAllObjects(i=>i.visitExpression(this,n),e,n,r)}visitAllObjects(e,n,r,i){let o=!1;for(let s=0;s<n.length;s++)s>0&&(r.lineLength()>80?(r.print(null,i,!0),o||(r.incIndent(),r.incIndent(),o=!0)):r.print(null,i,!1)),e(n[s]);o&&(r.decIndent(),r.decIndent())}visitAllStatements(e,n){e.forEach(r=>r.visitStatement(this,n))}};function Di(t,e,n=!0){if(t==null)return null;let r=t.replace(xA,(...o)=>o[0]=="$"?e?"\\$":"$":o[0]==`
`?"\\n":o[0]=="\r"?"\\r":`\\${o[0]}`);return n||!IA.test(r)?`'${r}'`:r}function c_(t){let e="";for(let n=0;n<t;n++)e+=Sh;return e}function vd(t,e){if(e===0)return pt(t);let n=[];for(let r=0;r<e;r++)n.push(kl);return pt(t,void 0,n)}function AA(t,e){let n=Di(e,!1,!1);return n!==e?`${t}[${n}]`:`${t}.${e}`}function bA(t){return kA("ngJitMode",t)}function kA(t,e){let n=new Vi({name:t,moduleName:null}),r=new ve(M.Identical,new ns(n),T("undefined")),i=new ve(M.Or,r,n,void 0,void 0);return new ve(M.And,i,e)}function Je(t){let e=new pe(t);return{value:e,type:e}}function Ai(t,e){let n=xe(t.map(r=>r.value));return e?Ln([],n):n}function Gm(t,e){return{expression:t,forwardRef:e}}function NA({expression:t,forwardRef:e}){switch(e){case 0:case 1:return t;case 2:return MA(t)}}function MA(t){return q(y.forwardRef).callFn([Ln([],t)])}var vu=(function(t){return t[t.Class=0]="Class",t[t.Function=1]="Function",t})(vu||{});function Ti(t){let e=de("__ngFactoryType__"),n=null,r=d_(t)?e:new ve(M.Or,e,t.type.value),i=null;t.deps!==null?t.deps!=="invalid"&&(i=new Ba(r,u_(t.deps,t.target))):(n=de(`\u0275${t.name}_BaseFactory`),i=n.callFn([r]));let o=[],s=null;function a(c){let d=de("__ngConditionalFactory__");o.push(new Xe(d.name,is,Wt));let p=i!==null?d.set(i).toStmt():q(y.invalidFactory).callFn([]).toStmt();return o.push(gd(e,[p],[d.set(c).toStmt()])),d}if(d_(t)){let c=u_(t.delegateDeps,t.target),d=new(t.delegateType===vu.Class?Ba:Ot)(t.delegate,c);s=a(d)}else OA(t)?s=a(t.expression):s=i;if(s===null)o.push(q(y.invalidFactory).callFn([]).toStmt());else if(n!==null){let c=q(y.getInheritedFactory).callFn([t.type.value]),d=new ve(M.Or,n,n.set(c));o.push(new ft(d.callFn([r])))}else o.push(new ft(s));let l=Kr([new st(e.name,kl)],o,Wt,void 0,`${t.name}_Factory`);return n!==null&&(l=Ln([],[new Xe(n.name),new ft(l)]).callFn([],void 0,!0)),{expression:l,statements:[],type:PA(t)}}function PA(t){let e=t.deps!==null&&t.deps!=="invalid"?LA(t.deps):Qn;return pt(q(y.FactoryDeclaration,[vd(t.type.type,t.typeArgumentCount),e]))}function u_(t,e){return t.map((n,r)=>RA(n,e,r))}function RA(t,e,n){if(t.token===null)return q(y.invalidFactoryDep).callFn([T(n)]);if(t.attributeNameType===null){let r=0|(t.self?2:0)|(t.skipSelf?4:0)|(t.host?1:0)|(t.optional?8:0)|(e===_r.Pipe?16:0),i=r!==0||t.optional?T(r):null,o=[t.token];i&&o.push(i);let s=BA(e);return q(s).callFn(o)}else return q(y.injectAttribute).callFn([t.token])}function LA(t){let e=!1,n=t.map(r=>{let i=FA(r);return i!==null?(e=!0,i):T(null)});return e?pt(xe(n)):Qn}function FA(t){let e=[];return t.attributeNameType!==null&&e.push({key:"attribute",value:t.attributeNameType,quoted:!1}),t.optional&&e.push({key:"optional",value:T(!0),quoted:!1}),t.host&&e.push({key:"host",value:T(!0),quoted:!1}),t.self&&e.push({key:"self",value:T(!0),quoted:!1}),t.skipSelf&&e.push({key:"skipSelf",value:T(!0),quoted:!1}),e.length>0?At(e):null}function d_(t){return t.delegateType!==void 0}function OA(t){return t.expression!==void 0}function BA(t){switch(t){case _r.Component:case _r.Directive:case _r.Pipe:return y.directiveInject;case _r.NgModule:case _r.Injectable:default:return y.inject}}var qi=class{start;end;constructor(e,n){this.start=e,this.end=n}toAbsolute(e){return new jt(e+this.start,e+this.end)}},Oe=class{span;sourceSpan;constructor(e,n){this.span=e,this.sourceSpan=n}toString(){return"AST"}},Ha=class extends Oe{nameSpan;constructor(e,n,r){super(e,n),this.nameSpan=r}},Mt=class extends Oe{visit(e,n=null){}},nr=class extends Oe{visit(e,n=null){return e.visitImplicitReceiver(this,n)}},Gi=class extends nr{visit(e,n=null){return e.visitThisReceiver?.(this,n)}},os=class extends Oe{expressions;constructor(e,n,r){super(e,n),this.expressions=r}visit(e,n=null){return e.visitChain(this,n)}},yu=class extends Oe{condition;trueExp;falseExp;constructor(e,n,r,i,o){super(e,n),this.condition=r,this.trueExp=i,this.falseExp=o}visit(e,n=null){return e.visitConditional(this,n)}},Sr=class extends Ha{receiver;name;constructor(e,n,r,i,o){super(e,n,r),this.receiver=i,this.name=o}visit(e,n=null){return e.visitPropertyRead(this,n)}},qa=class extends Ha{receiver;name;constructor(e,n,r,i,o){super(e,n,r),this.receiver=i,this.name=o}visit(e,n=null){return e.visitSafePropertyRead(this,n)}},zi=class extends Oe{receiver;key;constructor(e,n,r,i){super(e,n),this.receiver=r,this.key=i}visit(e,n=null){return e.visitKeyedRead(this,n)}},Ga=class extends Oe{receiver;key;constructor(e,n,r,i){super(e,n),this.receiver=r,this.key=i}visit(e,n=null){return e.visitSafeKeyedRead(this,n)}},Qc=(function(t){return t[t.ReferencedByName=0]="ReferencedByName",t[t.ReferencedDirectly=1]="ReferencedDirectly",t})(Qc||{}),_u=class extends Ha{exp;name;args;type;constructor(e,n,r,i,o,s,a){super(e,n,a),this.exp=r,this.name=i,this.args=o,this.type=s}visit(e,n=null){return e.visitPipe(this,n)}},Ht=class extends Oe{value;constructor(e,n,r){super(e,n),this.value=r}visit(e,n=null){return e.visitLiteralPrimitive(this,n)}},Eu=class extends Oe{expressions;constructor(e,n,r){super(e,n),this.expressions=r}visit(e,n=null){return e.visitLiteralArray(this,n)}},Cu=class extends Oe{keys;values;constructor(e,n,r,i){super(e,n),this.keys=r,this.values=i}visit(e,n=null){return e.visitLiteralMap(this,n)}},Ml=class extends Oe{strings;expressions;constructor(e,n,r,i){super(e,n),this.strings=r,this.expressions=i}visit(e,n=null){return e.visitInterpolation(this,n)}},St=class extends Oe{operation;left;right;constructor(e,n,r,i,o){super(e,n),this.operation=r,this.left=i,this.right=o}visit(e,n=null){return e.visitBinary(this,n)}static isAssignmentOperation(e){return e==="="||e==="+="||e==="-="||e==="*="||e==="/="||e==="%="||e==="**="||e==="&&="||e==="||="||e==="??="}},Zo=class t extends St{operator;expr;left=null;right=null;operation=null;static createMinus(e,n,r){return new t(e,n,"-",r,"-",new Ht(e,n,0),r)}static createPlus(e,n,r){return new t(e,n,"+",r,"-",r,new Ht(e,n,0))}constructor(e,n,r,i,o,s,a){super(e,n,o,s,a),this.operator=r,this.expr=i}visit(e,n=null){return e.visitUnary!==void 0?e.visitUnary(this,n):e.visitBinary(this,n)}},za=class extends Oe{expression;constructor(e,n,r){super(e,n),this.expression=r}visit(e,n=null){return e.visitPrefixNot(this,n)}},Wa=class extends Oe{expression;constructor(e,n,r){super(e,n),this.expression=r}visit(e,n=null){return e.visitTypeofExpression(this,n)}},ja=class extends Oe{expression;constructor(e,n,r){super(e,n),this.expression=r}visit(e,n=null){return e.visitVoidExpression(this,n)}},Ya=class extends Oe{expression;constructor(e,n,r){super(e,n),this.expression=r}visit(e,n=null){return e.visitNonNullAssert(this,n)}},ss=class extends Oe{receiver;args;argumentSpan;constructor(e,n,r,i,o){super(e,n),this.receiver=r,this.args=i,this.argumentSpan=o}visit(e,n=null){return e.visitCall(this,n)}},wu=class extends Oe{receiver;args;argumentSpan;constructor(e,n,r,i,o){super(e,n),this.receiver=r,this.args=i,this.argumentSpan=o}visit(e,n=null){return e.visitSafeCall(this,n)}},Ja=class extends Oe{tag;template;constructor(e,n,r,i){super(e,n),this.tag=r,this.template=i}visit(e,n){return e.visitTaggedTemplateLiteral(this,n)}},Ka=class extends Oe{elements;expressions;constructor(e,n,r,i){super(e,n),this.elements=r,this.expressions=i}visit(e,n){return e.visitTemplateLiteral(this,n)}},Su=class extends Oe{text;constructor(e,n,r){super(e,n),this.text=r}visit(e,n){return e.visitTemplateLiteralElement(this,n)}},Xa=class extends Oe{expression;constructor(e,n,r){super(e,n),this.expression=r}visit(e,n){return e.visitParenthesizedExpression(this,n)}},jt=class{start;end;constructor(e,n){this.start=e,this.end=n}},qt=class extends Oe{ast;source;location;errors;constructor(e,n,r,i,o){super(new qi(0,n===null?0:n.length),new jt(i,n===null?i:i+n.length)),this.ast=e,this.source=n,this.location=r,this.errors=o}visit(e,n=null){return e.visitASTWithSource?e.visitASTWithSource(this,n):this.ast.visit(e,n)}toString(){return`${this.source} in ${this.location}`}},Za=class{sourceSpan;key;value;constructor(e,n,r){this.sourceSpan=e,this.key=n,this.value=r}},Ih=class{sourceSpan;key;value;constructor(e,n,r){this.sourceSpan=e,this.key=n,this.value=r}},Qa=class{visit(e,n){e.visit(this,n)}visitUnary(e,n){this.visit(e.expr,n)}visitBinary(e,n){this.visit(e.left,n),this.visit(e.right,n)}visitChain(e,n){this.visitAll(e.expressions,n)}visitConditional(e,n){this.visit(e.condition,n),this.visit(e.trueExp,n),this.visit(e.falseExp,n)}visitPipe(e,n){this.visit(e.exp,n),this.visitAll(e.args,n)}visitImplicitReceiver(e,n){}visitThisReceiver(e,n){}visitInterpolation(e,n){this.visitAll(e.expressions,n)}visitKeyedRead(e,n){this.visit(e.receiver,n),this.visit(e.key,n)}visitLiteralArray(e,n){this.visitAll(e.expressions,n)}visitLiteralMap(e,n){this.visitAll(e.values,n)}visitLiteralPrimitive(e,n){}visitPrefixNot(e,n){this.visit(e.expression,n)}visitTypeofExpression(e,n){this.visit(e.expression,n)}visitVoidExpression(e,n){this.visit(e.expression,n)}visitNonNullAssert(e,n){this.visit(e.expression,n)}visitPropertyRead(e,n){this.visit(e.receiver,n)}visitSafePropertyRead(e,n){this.visit(e.receiver,n)}visitSafeKeyedRead(e,n){this.visit(e.receiver,n),this.visit(e.key,n)}visitCall(e,n){this.visit(e.receiver,n),this.visitAll(e.args,n)}visitSafeCall(e,n){this.visit(e.receiver,n),this.visitAll(e.args,n)}visitTemplateLiteral(e,n){for(let r=0;r<e.elements.length;r++){this.visit(e.elements[r],n);let i=r<e.expressions.length?e.expressions[r]:null;i!==null&&this.visit(i,n)}}visitTemplateLiteralElement(e,n){}visitTaggedTemplateLiteral(e,n){this.visit(e.tag,n),this.visit(e.template,n)}visitParenthesizedExpression(e,n){this.visit(e.expression,n)}visitAll(e,n){for(let r of e)this.visit(r,n)}},zo=class{name;expression;type;sourceSpan;keySpan;valueSpan;isLiteral;isLegacyAnimation;isAnimation;constructor(e,n,r,i,o,s){this.name=e,this.expression=n,this.type=r,this.sourceSpan=i,this.keySpan=o,this.valueSpan=s,this.isLiteral=this.type===Jn.LITERAL_ATTR,this.isLegacyAnimation=this.type===Jn.LEGACY_ANIMATION,this.isAnimation=this.type===Jn.ANIMATION}},Jn=(function(t){return t[t.DEFAULT=0]="DEFAULT",t[t.LITERAL_ATTR=1]="LITERAL_ATTR",t[t.LEGACY_ANIMATION=2]="LEGACY_ANIMATION",t[t.TWO_WAY=3]="TWO_WAY",t[t.ANIMATION=4]="ANIMATION",t})(Jn||{}),It=(function(t){return t[t.Regular=0]="Regular",t[t.LegacyAnimation=1]="LegacyAnimation",t[t.TwoWay=2]="TwoWay",t[t.Animation=3]="Animation",t})(It||{}),Tu=class{name;targetOrPhase;type;handler;sourceSpan;handlerSpan;keySpan;constructor(e,n,r,i,o,s,a){this.name=e,this.targetOrPhase=n,this.type=r,this.handler=i,this.sourceSpan=o,this.handlerSpan=s,this.keySpan=a}},Dh=class{name;value;sourceSpan;keySpan;valueSpan;constructor(e,n,r,i,o){this.name=e,this.value=n,this.sourceSpan=r,this.keySpan=i,this.valueSpan=o}},Ce=(function(t){return t[t.Property=0]="Property",t[t.Attribute=1]="Attribute",t[t.Class=2]="Class",t[t.Style=3]="Style",t[t.LegacyAnimation=4]="LegacyAnimation",t[t.TwoWay=5]="TwoWay",t[t.Animation=6]="Animation",t})(Ce||{}),xu=class{name;type;securityContext;value;unit;sourceSpan;keySpan;valueSpan;constructor(e,n,r,i,o,s,a,l){this.name=e,this.type=n,this.securityContext=r,this.value=i,this.unit=o,this.sourceSpan=s,this.keySpan=a,this.valueSpan=l}},Kn=(function(t){return t[t.RAW_TEXT=0]="RAW_TEXT",t[t.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",t[t.PARSABLE_DATA=2]="PARSABLE_DATA",t})(Kn||{});function Fn(t,e=!0){if(t[0]!=":")return[null,t];let n=t.indexOf(":",1);if(n===-1){if(e)throw new Error(`Unsupported format "${t}" expecting ":namespace:name"`);return[null,t]}return[t.slice(1,n),t.slice(n+1)]}function f_(t){return Fn(t)[1]==="ng-container"}function Ah(t){return Fn(t)[1]==="ng-content"}function VA(t){return Fn(t)[1]==="ng-template"}function bh(t){return t===null?null:Fn(t)[0]}function eu(t,e){return t?`:${t}:${e}`:e}var yd=class{value;sourceSpan;constructor(e,n){this.value=e,this.sourceSpan=n}visit(e){throw new Error("visit() not implemented for Comment")}},bi=class{value;sourceSpan;constructor(e,n){this.value=e,this.sourceSpan=n}visit(e){return e.visitText(this)}},as=class{value;sourceSpan;i18n;constructor(e,n,r){this.value=e,this.sourceSpan=n,this.i18n=r}visit(e){return e.visitBoundText(this)}},ls=class{name;value;sourceSpan;keySpan;valueSpan;i18n;constructor(e,n,r,i,o,s){this.name=e,this.value=n,this.sourceSpan=r,this.keySpan=i,this.valueSpan=o,this.i18n=s}visit(e){return e.visitTextAttribute(this)}},kh=class t{name;type;securityContext;value;unit;sourceSpan;keySpan;valueSpan;i18n;constructor(e,n,r,i,o,s,a,l,c){this.name=e,this.type=n,this.securityContext=r,this.value=i,this.unit=o,this.sourceSpan=s,this.keySpan=a,this.valueSpan=l,this.i18n=c}static fromBoundElementProperty(e,n){if(e.keySpan===void 0)throw new Error(`Unexpected state: keySpan must be defined for bound attributes but was not for ${e.name}: ${e.sourceSpan}`);return new t(e.name,e.type,e.securityContext,e.value,e.unit,e.sourceSpan,e.keySpan,e.valueSpan,n)}visit(e){return e.visitBoundAttribute(this)}},Nh=class t{name;type;handler;target;phase;sourceSpan;handlerSpan;keySpan;constructor(e,n,r,i,o,s,a,l){this.name=e,this.type=n,this.handler=r,this.target=i,this.phase=o,this.sourceSpan=s,this.handlerSpan=a,this.keySpan=l}static fromParsedEvent(e){let n=e.type===It.Regular?e.targetOrPhase:null,r=e.type===It.LegacyAnimation?e.targetOrPhase:null;if(e.keySpan===void 0)throw new Error(`Unexpected state: keySpan must be defined for bound event but was not for ${e.name}: ${e.sourceSpan}`);return new t(e.name,e.type,e.handler,n,r,e.sourceSpan,e.handlerSpan,e.keySpan)}visit(e){return e.visitBoundEvent(this)}},rr=class{name;attributes;inputs;outputs;directives;children;references;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;isVoid;i18n;constructor(e,n,r,i,o,s,a,l,c,d,p,h,g){this.name=e,this.attributes=n,this.inputs=r,this.outputs=i,this.directives=o,this.children=s,this.references=a,this.isSelfClosing=l,this.sourceSpan=c,this.startSourceSpan=d,this.endSourceSpan=p,this.isVoid=h,this.i18n=g}visit(e){return e.visitElement(this)}},ir=class{nameSpan;sourceSpan;prefetchSpan;whenOrOnSourceSpan;hydrateSpan;constructor(e,n,r,i,o){this.nameSpan=e,this.sourceSpan=n,this.prefetchSpan=r,this.whenOrOnSourceSpan=i,this.hydrateSpan=o}visit(e){return e.visitDeferredTrigger(this)}},Iu=class extends ir{value;constructor(e,n,r,i,o){super(null,n,r,i,o),this.value=e}},Mh=class extends ir{},Ph=class extends ir{},Rh=class extends ir{},Du=class extends ir{reference;constructor(e,n,r,i,o,s){super(n,r,i,o,s),this.reference=e}},Lh=class extends ir{delay;constructor(e,n,r,i,o,s){super(n,r,i,o,s),this.delay=e}},Au=class extends ir{reference;constructor(e,n,r,i,o,s){super(n,r,i,o,s),this.reference=e}},bu=class extends ir{reference;constructor(e,n,r,i,o,s){super(n,r,i,o,s),this.reference=e}},vn=class{nameSpan;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,n,r,i){this.nameSpan=e,this.sourceSpan=n,this.startSourceSpan=r,this.endSourceSpan=i}},el=class extends vn{children;minimumTime;i18n;constructor(e,n,r,i,o,s,a){super(r,i,o,s),this.children=e,this.minimumTime=n,this.i18n=a}visit(e){return e.visitDeferredBlockPlaceholder(this)}},tl=class extends vn{children;afterTime;minimumTime;i18n;constructor(e,n,r,i,o,s,a,l){super(i,o,s,a),this.children=e,this.afterTime=n,this.minimumTime=r,this.i18n=l}visit(e){return e.visitDeferredBlockLoading(this)}},nl=class extends vn{children;i18n;constructor(e,n,r,i,o,s){super(n,r,i,o),this.children=e,this.i18n=s}visit(e){return e.visitDeferredBlockError(this)}},Wi=class extends vn{children;placeholder;loading;error;mainBlockSpan;i18n;triggers;prefetchTriggers;hydrateTriggers;definedTriggers;definedPrefetchTriggers;definedHydrateTriggers;constructor(e,n,r,i,o,s,a,l,c,d,p,h,g){super(l,c,p,h),this.children=e,this.placeholder=o,this.loading=s,this.error=a,this.mainBlockSpan=d,this.i18n=g,this.triggers=n,this.prefetchTriggers=r,this.hydrateTriggers=i,this.definedTriggers=Object.keys(n),this.definedPrefetchTriggers=Object.keys(r),this.definedHydrateTriggers=Object.keys(i)}visit(e){return e.visitDeferredBlock(this)}visitAll(e){this.visitTriggers(this.definedHydrateTriggers,this.hydrateTriggers,e),this.visitTriggers(this.definedTriggers,this.triggers,e),this.visitTriggers(this.definedPrefetchTriggers,this.prefetchTriggers,e),Kp(e,this.children);let n=[this.placeholder,this.loading,this.error].filter(r=>r!==null);Kp(e,n)}visitTriggers(e,n,r){Kp(r,e.map(i=>n[i]))}},ku=class extends vn{expression;cases;unknownBlocks;constructor(e,n,r,i,o,s,a){super(a,i,o,s),this.expression=e,this.cases=n,this.unknownBlocks=r}visit(e){return e.visitSwitchBlock(this)}},rl=class extends vn{expression;children;i18n;constructor(e,n,r,i,o,s,a){super(s,r,i,o),this.expression=e,this.children=n,this.i18n=a}visit(e){return e.visitSwitchBlockCase(this)}},cs=class extends vn{item;expression;trackBy;trackKeywordSpan;contextVariables;children;empty;mainBlockSpan;i18n;constructor(e,n,r,i,o,s,a,l,c,d,p,h,g){super(h,l,d,p),this.item=e,this.expression=n,this.trackBy=r,this.trackKeywordSpan=i,this.contextVariables=o,this.children=s,this.empty=a,this.mainBlockSpan=c,this.i18n=g}visit(e){return e.visitForLoopBlock(this)}},il=class extends vn{children;i18n;constructor(e,n,r,i,o,s){super(o,n,r,i),this.children=e,this.i18n=s}visit(e){return e.visitForLoopBlockEmpty(this)}},Nu=class extends vn{branches;constructor(e,n,r,i,o){super(o,n,r,i),this.branches=e}visit(e){return e.visitIfBlock(this)}},Pi=class extends vn{expression;children;expressionAlias;i18n;constructor(e,n,r,i,o,s,a,l){super(a,i,o,s),this.expression=e,this.children=n,this.expressionAlias=r,this.i18n=l}visit(e){return e.visitIfBlockBranch(this)}},Mu=class{name;sourceSpan;nameSpan;constructor(e,n,r){this.name=e,this.sourceSpan=n,this.nameSpan=r}visit(e){return e.visitUnknownBlock(this)}},zm=class{name;value;sourceSpan;nameSpan;valueSpan;constructor(e,n,r,i,o){this.name=e,this.value=n,this.sourceSpan=r,this.nameSpan=i,this.valueSpan=o}visit(e){return e.visitLetDeclaration(this)}},Na=class{componentName;tagName;fullName;attributes;inputs;outputs;directives;children;references;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;i18n;constructor(e,n,r,i,o,s,a,l,c,d,p,h,g,v){this.componentName=e,this.tagName=n,this.fullName=r,this.attributes=i,this.inputs=o,this.outputs=s,this.directives=a,this.children=l,this.references=c,this.isSelfClosing=d,this.sourceSpan=p,this.startSourceSpan=h,this.endSourceSpan=g,this.i18n=v}visit(e){return e.visitComponent(this)}},JE=class{name;attributes;inputs;outputs;references;sourceSpan;startSourceSpan;endSourceSpan;i18n;constructor(e,n,r,i,o,s,a,l,c){this.name=e,this.attributes=n,this.inputs=r,this.outputs=i,this.references=o,this.sourceSpan=s,this.startSourceSpan=a,this.endSourceSpan=l,this.i18n=c}visit(e){return e.visitDirective(this)}},Yt=class{tagName;attributes;inputs;outputs;directives;templateAttrs;children;references;variables;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;i18n;constructor(e,n,r,i,o,s,a,l,c,d,p,h,g,v){this.tagName=e,this.attributes=n,this.inputs=r,this.outputs=i,this.directives=o,this.templateAttrs=s,this.children=a,this.references=l,this.variables=c,this.isSelfClosing=d,this.sourceSpan=p,this.startSourceSpan=h,this.endSourceSpan=g,this.i18n=v}visit(e){return e.visitTemplate(this)}},us=class{selector;attributes;children;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;i18n;name="ng-content";constructor(e,n,r,i,o,s,a,l){this.selector=e,this.attributes=n,this.children=r,this.isSelfClosing=i,this.sourceSpan=o,this.startSourceSpan=s,this.endSourceSpan=a,this.i18n=l}visit(e){return e.visitContent(this)}},Xr=class{name;value;sourceSpan;keySpan;valueSpan;constructor(e,n,r,i,o){this.name=e,this.value=n,this.sourceSpan=r,this.keySpan=i,this.valueSpan=o}visit(e){return e.visitVariable(this)}},ol=class{name;value;sourceSpan;keySpan;valueSpan;constructor(e,n,r,i,o){this.name=e,this.value=n,this.sourceSpan=r,this.keySpan=i,this.valueSpan=o}visit(e){return e.visitReference(this)}},KE=class{vars;placeholders;sourceSpan;i18n;constructor(e,n,r,i){this.vars=e,this.placeholders=n,this.sourceSpan=r,this.i18n=i}visit(e){return e.visitIcu(this)}},sl=class{tagNames;bindings;listeners;sourceSpan;constructor(e,n,r,i){if(this.tagNames=e,this.bindings=n,this.listeners=r,this.sourceSpan=i,e.length===0)throw new Error("HostElement must have at least one tag name.")}visit(){throw new Error("HostElement cannot be visited")}};function Kp(t,e){let n=[];if(t.visit)for(let r of e)t.visit(r);else for(let r of e){let i=r.visit(t);i&&n.push(i)}return n}var Dt=class{nodes;placeholders;placeholderToMessage;meaning;description;customId;sources;id;legacyIds=[];messageString;constructor(e,n,r,i,o,s){this.nodes=e,this.placeholders=n,this.placeholderToMessage=r,this.meaning=i,this.description=o,this.customId=s,this.id=this.customId,this.messageString=$A(this.nodes),e.length?this.sources=[{filePath:e[0].sourceSpan.start.file.url,startLine:e[0].sourceSpan.start.line+1,startCol:e[0].sourceSpan.start.col+1,endLine:e[e.length-1].sourceSpan.end.line+1,endCol:e[0].sourceSpan.start.col+1}]:this.sources=[]}},_a=class{value;sourceSpan;constructor(e,n){this.value=e,this.sourceSpan=n}visit(e,n){return e.visitText(this,n)}},Tr=class{children;sourceSpan;constructor(e,n){this.children=e,this.sourceSpan=n}visit(e,n){return e.visitContainer(this,n)}},Pu=class{expression;type;cases;sourceSpan;expressionPlaceholder;constructor(e,n,r,i,o){this.expression=e,this.type=n,this.cases=r,this.sourceSpan=i,this.expressionPlaceholder=o}visit(e,n){return e.visitIcu(this,n)}},Zr=class{tag;attrs;startName;closeName;children;isVoid;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,n,r,i,o,s,a,l,c){this.tag=e,this.attrs=n,this.startName=r,this.closeName=i,this.children=o,this.isVoid=s,this.sourceSpan=a,this.startSourceSpan=l,this.endSourceSpan=c}visit(e,n){return e.visitTagPlaceholder(this,n)}},al=class{value;name;sourceSpan;constructor(e,n,r){this.value=e,this.name=n,this.sourceSpan=r}visit(e,n){return e.visitPlaceholder(this,n)}},ds=class{value;name;sourceSpan;previousMessage;constructor(e,n,r){this.value=e,this.name=n,this.sourceSpan=r}visit(e,n){return e.visitIcuPlaceholder(this,n)}},Qr=class{name;parameters;startName;closeName;children;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,n,r,i,o,s,a,l){this.name=e,this.parameters=n,this.startName=r,this.closeName=i,this.children=o,this.sourceSpan=s,this.startSourceSpan=a,this.endSourceSpan=l}visit(e,n){return e.visitBlockPlaceholder(this,n)}};function $A(t){let e=new Fh;return t.map(r=>r.visit(e)).join("")}var Fh=class{visitText(e){return e.value}visitContainer(e){return e.children.map(n=>n.visit(this)).join("")}visitIcu(e){let n=Object.keys(e.cases).map(r=>`${r} {${e.cases[r].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${n.join(" ")}}`}visitTagPlaceholder(e){let n=e.children.map(r=>r.visit(this)).join("");return`{$${e.startName}}${n}{$${e.closeName}}`}visitPlaceholder(e){return`{$${e.name}}`}visitIcuPlaceholder(e){return`{$${e.name}}`}visitBlockPlaceholder(e){let n=e.children.map(r=>r.visit(this)).join("");return`{$${e.startName}}${n}{$${e.closeName}}`}};var UA=class{visitTag(e){let n=this._serializeAttributes(e.attrs);if(e.children.length==0)return`<${e.name}${n}/>`;let r=e.children.map(i=>i.visit(this));return`<${e.name}${n}>${r.join("")}</${e.name}>`}visitText(e){return e.value}visitDeclaration(e){return`<?xml${this._serializeAttributes(e.attrs)} ?>`}_serializeAttributes(e){let n=Object.keys(e).map(r=>`${r}="${e[r]}"`).join(" ");return n.length>0?" "+n:""}visitDoctype(e){return`<!DOCTYPE ${e.rootTag} [
${e.dtd}
]>`}},v9=new UA;function HA(t){return t.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}var XE="i18n",Oh="i18n-",qA="VAR_";function ZE(t){return t===XE||t.startsWith(Oh)}function GA(t){return t.attrs.some(e=>ZE(e.name))}function QE(t){return t.nodes[0]}function Wm(t={},e){let n={};return t&&Object.keys(t).length&&Object.keys(t).forEach(r=>n[Pl(r,e)]=t[r]),n}function Pl(t,e=!0){let n=HA(t);if(!e)return n;let r=n.split("_");if(r.length===1)return t.toLowerCase();let i;/^\d+$/.test(r[r.length-1])&&(i=r.pop());let o=r.shift().toLowerCase();return r.length&&(o+=r.map(s=>s.charAt(0).toUpperCase()+s.slice(1).toLowerCase()).join("")),i?`${o}_${i}`:o}var zA=/[-.]/,jm="_t",ll="ctx",Ym="rf";function eC(t,e){let n=null;return()=>(n||(t(new Xe(jm,void 0,kl)),n=de(e)),n)}function Wo(t){return Array.isArray(t)?xe(t.map(Wo)):T(t,Wt)}function p_(t,e){let n=Object.getOwnPropertyNames(t);return n.length===0?null:At(n.map(r=>{let i=t[r],o,s,a,l;if(typeof i=="string")o=r,a=r,s=i,l=Wo(s);else{a=r,o=i.classPropertyName,s=i.bindingPropertyName;let c=s!==o,d=i.transformFunction!==null,p=Ta.None;if(i.isSignal&&(p|=Ta.SignalBased),d&&(p|=Ta.HasDecoratorInputTransform),e&&(c||d||p!==Ta.None)){let h=[T(p),Wo(s)];(c||d)&&(h.push(Wo(o)),d&&h.push(i.transformFunction)),l=xe(h)}else l=Wo(s)}return{key:a,quoted:zA.test(a),value:l}}))}var ei=class{values=[];set(e,n){if(n){let r=this.values.find(i=>i.key===e);r?r.value=n:this.values.push({key:e,value:n,quoted:!1})}}toLiteralMap(){return At(this.values)}};function WA(t){let e=t instanceof rr?t.name:"ng-template",n=jA(t),r=new ts,i=Fn(e)[1];return r.setElement(i),Object.getOwnPropertyNames(n).forEach(o=>{let s=Fn(o)[1],a=n[o];r.addAttribute(s,a),o.toLowerCase()==="class"&&a.trim().split(/\s+/).forEach(c=>r.addClassName(c))}),r}function jA(t){let e={};return t instanceof Yt&&t.tagName!=="ng-template"?t.templateAttrs.forEach(n=>e[n.name]=""):(t.attributes.forEach(n=>{ZE(n.name)||(e[n.name]=n.value)}),t.inputs.forEach(n=>{(n.type===Ce.Property||n.type===Ce.TwoWay)&&(e[n.name]="")}),t.outputs.forEach(n=>{e[n.name]=""})),e}function h_(t,e){let n=null,r={name:t.name,type:t.type,typeArgumentCount:t.typeArgumentCount,deps:[],target:_r.Injectable};if(t.useClass!==void 0){let a=t.useClass.expression.isEquivalent(t.type.value),l;t.deps!==void 0&&(l=t.deps),l!==void 0?n=Ti(U(I({},r),{delegate:t.useClass.expression,delegateDeps:l,delegateType:vu.Class})):a?n=Ti(r):n={statements:[],expression:m_(t.type.value,t.useClass.expression,e)}}else t.useFactory!==void 0?t.deps!==void 0?n=Ti(U(I({},r),{delegate:t.useFactory,delegateDeps:t.deps||[],delegateType:vu.Function})):n={statements:[],expression:Ln([],t.useFactory.callFn([]))}:t.useValue!==void 0?n=Ti(U(I({},r),{expression:t.useValue.expression})):t.useExisting!==void 0?n=Ti(U(I({},r),{expression:q(y.inject).callFn([t.useExisting.expression])})):n={statements:[],expression:m_(t.type.value,t.type.value,e)};let i=t.type.value,o=new ei;return o.set("token",i),o.set("factory",n.expression),t.providedIn.expression.value!==null&&o.set("providedIn",NA(t.providedIn)),{expression:q(y.\u0275\u0275defineInjectable).callFn([o.toLiteralMap()],void 0,!0),type:YA(t),statements:n.statements}}function YA(t){return new hn(q(y.InjectableDeclaration,[vd(t.type.type,t.typeArgumentCount)]))}function m_(t,e,n){if(t.node===e.node)return e.prop("\u0275fac");if(!n)return g_(e);let r=q(y.resolveForwardRef).callFn([e]);return g_(r)}function g_(t){let e=new st("__ngFactoryType__",kl);return Ln([e],t.prop("\u0275fac").callFn([de(e.name)]))}var JA=[/@/,/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];function KA(t,e){if(e!=null&&!(Array.isArray(e)&&e.length==2))throw new Error(`Expected '${t}' to be an array, [start, end].`);if(e!=null){let n=e[0],r=e[1];JA.forEach(i=>{if(i.test(n)||i.test(r))throw new Error(`['${n}', '${r}'] contains unusable interpolation symbol.`)})}}var Ru=class t{start;end;static fromArray(e){return e?(KA("interpolation",e),new t(e[0],e[1])):Xn}constructor(e,n){this.start=e,this.end=n}},Xn=new Ru("{{","}}"),XA=new Set(["switch"]),ut=0,ZA=8,Jm=9,Ri=10,tC=11,nC=12,Km=13,rC=32,Bh=33,cl=34,iC=35,_d=36,QA=37,Lu=38,ul=39,Mn=40,Tt=41,v_=42,oC=43,pn=44,Fu=45,Ia=46,bn=47,Er=58,Gt=59,Qo=60,yt=61,an=62,y_=63,Xm=48,eb=55,sC=57,ri=65,tb=69,nb=70,rb=88,Cs=90,Jr=91,es=92,ki=93,ib=94,ii=95,ji=97,ob=98,sb=101,Zm=102,aC=110,lC=114,cC=116,uC=117,dC=118,fC=120,Rl=122,Nn=123,__=124,xt=125,pC=160,Bo=64,Vh=96;function dl(t){return t>=Jm&&t<=rC||t==pC}function kn(t){return Xm<=t&&t<=sC}function fs(t){return t>=ji&&t<=Rl||t>=ri&&t<=Cs}function ab(t){return t>=ji&&t<=Zm||t>=ri&&t<=nb||kn(t)}function Ou(t){return t===Ri||t===Km}function E_(t){return Xm<=t&&t<=eb}function Ma(t){return t===ul||t===cl||t===Vh}var fl=class t{file;offset;line;col;constructor(e,n,r,i){this.file=e,this.offset=n,this.line=r,this.col=i}toString(){return this.offset!=null?`${this.file.url}@${this.line}:${this.col}`:this.file.url}moveBy(e){let n=this.file.content,r=n.length,i=this.offset,o=this.line,s=this.col;for(;i>0&&e<0;)if(i--,e++,n.charCodeAt(i)==Ri){o--;let l=n.substring(0,i-1).lastIndexOf(String.fromCharCode(Ri));s=l>0?i-l:i}else s--;for(;i<r&&e>0;){let a=n.charCodeAt(i);i++,e--,a==Ri?(o++,s=0):s++}return new t(this.file,i,o,s)}getContext(e,n){let r=this.file.content,i=this.offset;if(i!=null){i>r.length-1&&(i=r.length-1);let o=i,s=0,a=0;for(;s<e&&i>0&&(i--,s++,!(r[i]==`
`&&++a==n)););for(s=0,a=0;s<e&&o<r.length-1&&(o++,s++,!(r[o]==`
`&&++a==n)););return{before:r.substring(i,this.offset),after:r.substring(this.offset,o+1)}}return null}},Bu=class{content;url;constructor(e,n){this.content=e,this.url=n}},Q=class{start;end;fullStart;details;constructor(e,n,r=e,i=null){this.start=e,this.end=n,this.fullStart=r,this.details=i}toString(){return this.start.file.content.substring(this.start.offset,this.end.offset)}},Wr=(function(t){return t[t.WARNING=0]="WARNING",t[t.ERROR=1]="ERROR",t})(Wr||{}),Z=class extends Error{span;msg;level;relatedError;constructor(e,n,r=Wr.ERROR,i){super(n),this.span=e,this.msg=n,this.level=r,this.relatedError=i,Object.setPrototypeOf(this,new.target.prototype)}contextualMessage(){let e=this.span.start.getContext(100,3);return e?`${this.msg} ("${e.before}[${Wr[this.level]} ->]${e.after}")`:this.msg}toString(){let e=this.span.details?`, ${this.span.details}`:"";return`${this.contextualMessage()}: ${this.span.start}${e}`}};function lb(t,e,n){let r=`in ${t} ${e} in ${n}`,i=new Bu("",r);return new Q(new fl(i,-1,-1,-1),new fl(i,-1,-1,-1))}var cb=0;function ub(t){if(!t||!t.reference)return null;let e=t.reference;if(e.__anonymousType)return e.__anonymousType;if(e.__forward_ref__)return"__forward_ref__";let n=jE(e);return n.indexOf("(")>=0?(n=`anonymous_${cb++}`,e.__anonymousType=n):n=xi(n),n}function xi(t){return t.replace(/\W/g,"_")}var C_='(this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e})',$h=class extends xh{constructor(){super(!1)}visitWrappedNodeExpr(e,n){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")}visitDeclareVarStmt(e,n){return n.print(e,`var ${e.name}`),e.value&&(n.print(e," = "),e.value.visitExpression(this,n)),n.println(e,";"),null}visitTaggedTemplateLiteralExpr(e,n){let r=e.template.elements;return e.tag.visitExpression(this,n),n.print(e,`(${C_}(`),n.print(e,`[${r.map(i=>Di(i.text,!1)).join(", ")}], `),n.print(e,`[${r.map(i=>Di(i.rawText,!1)).join(", ")}])`),e.template.expressions.forEach(i=>{n.print(e,", "),i.visitExpression(this,n)}),n.print(e,")"),null}visitTemplateLiteralExpr(e,n){n.print(e,"`");for(let r=0;r<e.elements.length;r++){e.elements[r].visitExpression(this,n);let i=r<e.expressions.length?e.expressions[r]:null;i!==null&&(n.print(i,"${"),i.visitExpression(this,n),n.print(i,"}"))}n.print(e,"`")}visitTemplateLiteralElementExpr(e,n){return n.print(e,e.rawText),null}visitFunctionExpr(e,n){return n.print(e,`function${e.name?" "+e.name:""}(`),this._visitParams(e.params,n),n.println(e,") {"),n.incIndent(),this.visitAllStatements(e.statements,n),n.decIndent(),n.print(e,"}"),null}visitArrowFunctionExpr(e,n){if(n.print(e,"("),this._visitParams(e.params,n),n.print(e,") =>"),Array.isArray(e.body))n.println(e,"{"),n.incIndent(),this.visitAllStatements(e.body,n),n.decIndent(),n.print(e,"}");else{let r=e.body instanceof tr;r&&n.print(e,"("),e.body.visitExpression(this,n),r&&n.print(e,")")}return null}visitDeclareFunctionStmt(e,n){return n.print(e,`function ${e.name}(`),this._visitParams(e.params,n),n.println(e,") {"),n.incIndent(),this.visitAllStatements(e.statements,n),n.decIndent(),n.println(e,"}"),null}visitLocalizedString(e,n){n.print(e,`$localize(${C_}(`);let r=[e.serializeI18nHead()];for(let i=1;i<e.messageParts.length;i++)r.push(e.serializeI18nTemplatePart(i));return n.print(e,`[${r.map(i=>Di(i.cooked,!1)).join(", ")}], `),n.print(e,`[${r.map(i=>Di(i.raw,!1)).join(", ")}])`),e.expressions.forEach(i=>{n.print(e,", "),i.visitExpression(this,n)}),n.print(e,")"),null}_visitParams(e,n){this.visitAllObjects(r=>n.print(null,r.name),e,n,",")}},Bc;function db(){if(Bc===void 0){let t=ka.trustedTypes;if(Bc=null,t)try{Bc=t.createPolicy("angular#unsafe-jit",{createScript:e=>e})}catch{}}return Bc}function fb(t){return db()?.createScript(t)||t}function w_(...t){if(!ka.trustedTypes)return new Function(...t);let e=t.slice(0,-1).join(","),n=t[t.length-1],r=`(function anonymous(${e}
) { ${n}
})`,i=ka.eval(fb(r));return i.bind===void 0?new Function(...t):(i.toString=()=>r,i.bind(ka))}var Uh=class{evaluateStatements(e,n,r,i){let o=new Hh(r),s=Th.createRoot();return n.length>0&&!pb(n[0])&&(n=[T("use strict").toStmt(),...n]),o.visitAllStatements(n,s),o.createReturnStmt(s),this.evaluateCode(e,s,o.getArgs(),i)}evaluateCode(e,n,r,i){let o=`"use strict";${n.toSource()}
//# sourceURL=${e}`,s=[],a=[];for(let c in r)a.push(r[c]),s.push(c);if(i){let c=w_(...s.concat("return null;")).toString(),d=c.slice(0,c.indexOf("return null;")).split(`
`).length-1;o+=`
${n.toSourceMapGenerator(e,d).toJsComment()}`}let l=w_(...s.concat(o));return this.executeFunction(l,a)}executeFunction(e,n){return e(...n)}},Hh=class extends $h{refResolver;_evalArgNames=[];_evalArgValues=[];_evalExportedVars=[];constructor(e){super(),this.refResolver=e}createReturnStmt(e){new ft(new tr(this._evalExportedVars.map(r=>new rs(r,de(r),!1)))).visitStatement(this,e)}getArgs(){let e={};for(let n=0;n<this._evalArgNames.length;n++)e[this._evalArgNames[n]]=this._evalArgValues[n];return e}visitExternalExpr(e,n){return this._emitReferenceToExternal(e,this.refResolver.resolveExternalReference(e.value),n),null}visitWrappedNodeExpr(e,n){return this._emitReferenceToExternal(e,e.node,n),null}visitDeclareVarStmt(e,n){return e.hasModifier(dt.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareVarStmt(e,n)}visitDeclareFunctionStmt(e,n){return e.hasModifier(dt.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareFunctionStmt(e,n)}_emitReferenceToExternal(e,n,r){let i=this._evalArgValues.indexOf(n);if(i===-1){i=this._evalArgValues.length,this._evalArgValues.push(n);let o=ub({reference:n})||"val";this._evalArgNames.push(`jit_${o}_${i}`)}r.print(e,this._evalArgNames[i])}};function pb(t){return t.isEquivalent(T("use strict").toStmt())}function S_(t){let e=new ei;t.providers!==null&&e.set("providers",t.providers),t.imports.length>0&&e.set("imports",xe(t.imports));let n=q(y.defineInjector).callFn([e.toLiteralMap()],void 0,!0),r=hb(t);return{expression:n,type:r,statements:[]}}function hb(t){return new hn(q(y.InjectorDeclaration,[new hn(t.type.type)]))}var qh=class{context;constructor(e){this.context=e}resolveExternalReference(e){if(e.moduleName!=="@angular/core")throw new Error(`Cannot resolve external reference to ${e.moduleName}, only references to @angular/core are supported.`);if(!this.context.hasOwnProperty(e.name))throw new Error(`No value provided for @angular/core symbol '${e.name}'.`);return this.context[e.name]}},Vu=(function(t){return t[t.Inline=0]="Inline",t[t.SideEffect=1]="SideEffect",t[t.Omit=2]="Omit",t})(Vu||{}),jr=(function(t){return t[t.Global=0]="Global",t[t.Local=1]="Local",t})(jr||{});function mb(t){let e=[],n=new ei;if(n.set("type",t.type.value),t.kind===jr.Global&&t.bootstrap.length>0&&n.set("bootstrap",Ai(t.bootstrap,t.containsForwardDecls)),t.selectorScopeMode===Vu.Inline)t.declarations.length>0&&n.set("declarations",Ai(t.declarations,t.containsForwardDecls)),t.imports.length>0&&n.set("imports",Ai(t.imports,t.containsForwardDecls)),t.exports.length>0&&n.set("exports",Ai(t.exports,t.containsForwardDecls));else if(t.selectorScopeMode===Vu.SideEffect){let o=yb(t);o!==null&&e.push(o)}t.schemas!==null&&t.schemas.length>0&&n.set("schemas",xe(t.schemas.map(o=>o.value))),t.id!==null&&(n.set("id",t.id),e.push(q(y.registerNgModuleType).callFn([t.type.value,t.id]).toStmt()));let r=q(y.defineNgModule).callFn([n.toLiteralMap()],void 0,!0),i=vb(t);return{expression:r,type:i,statements:e}}function gb(t){let e=new ei;return e.set("type",new pe(t.type)),t.bootstrap!==void 0&&e.set("bootstrap",new pe(t.bootstrap)),t.declarations!==void 0&&e.set("declarations",new pe(t.declarations)),t.imports!==void 0&&e.set("imports",new pe(t.imports)),t.exports!==void 0&&e.set("exports",new pe(t.exports)),t.schemas!==void 0&&e.set("schemas",new pe(t.schemas)),t.id!==void 0&&e.set("id",new pe(t.id)),q(y.defineNgModule).callFn([e.toLiteralMap()])}function vb(t){if(t.kind===jr.Local)return new hn(t.type.value);let{type:e,declarations:n,exports:r,imports:i,includeImportTypes:o,publicDeclarationTypes:s}=t;return new hn(q(y.NgModuleDeclaration,[new hn(e.type),s===null?Xp(n):_b(s),o?Xp(i):Qn,Xp(r)]))}function yb(t){let e=new ei;if(t.kind===jr.Global?t.declarations.length>0&&e.set("declarations",Ai(t.declarations,t.containsForwardDecls)):t.declarationsExpression&&e.set("declarations",t.declarationsExpression),t.kind===jr.Global?t.imports.length>0&&e.set("imports",Ai(t.imports,t.containsForwardDecls)):t.importsExpression&&e.set("imports",t.importsExpression),t.kind===jr.Global?t.exports.length>0&&e.set("exports",Ai(t.exports,t.containsForwardDecls)):t.exportsExpression&&e.set("exports",t.exportsExpression),t.kind===jr.Local&&t.bootstrapExpression&&e.set("bootstrap",t.bootstrapExpression),Object.keys(e.values).length===0)return null;let n=new Ot(q(y.setNgModuleScope),[t.type.value,e.toLiteralMap()]),r=bA(n),i=new Yr([],[r.toStmt()]);return new Ot(i,[]).toStmt()}function Xp(t){let e=t.map(n=>Nl(n.type));return t.length>0?pt(xe(e)):Qn}function _b(t){let e=t.map(n=>Nl(n));return t.length>0?pt(xe(e)):Qn}function T_(t){let e=[];e.push({key:"name",value:T(t.pipeName??t.name),quoted:!1}),e.push({key:"type",value:t.type.value,quoted:!1}),e.push({key:"pure",value:T(t.pure),quoted:!1}),t.isStandalone===!1&&e.push({key:"standalone",value:T(!1),quoted:!1});let n=q(y.definePipe).callFn([At(e)],void 0,!0),r=Eb(t);return{expression:n,type:r,statements:[]}}function Eb(t){return new hn(q(y.PipeDeclaration,[vd(t.type.type,t.typeArgumentCount),new hn(new ht(t.pipeName)),new hn(new ht(t.isStandalone))]))}var ps=(function(t){return t[t.Directive=0]="Directive",t[t.Pipe=1]="Pipe",t[t.NgModule=2]="NgModule",t})(ps||{}),Cb=new Set(["inherit","initial","revert","unset","alternate","alternate-reverse","normal","reverse","backwards","both","forwards","none","paused","running","ease","ease-in","ease-in-out","ease-out","linear","step-start","step-end","end","jump-both","jump-end","jump-none","jump-start","start"]),wb=["@media","@supports","@document","@layer","@container","@scope","@starting-style"],Gh=class{shimCssText(e,n,r=""){let i=[];e=e.replace(Lb,a=>{if(a.match(Fb))i.push(a);else{let l=a.match(Rb);i.push((l?.join("")??"")+`
`)}return Qm}),e=this._insertDirectives(e);let o=this._scopeCssText(e,n,r),s=0;return o.replace(Ob,()=>i[s++])}_insertDirectives(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)}_scopeKeyframesRelatedCss(e,n){let r=new Set,i=Vc(e,o=>this._scopeLocalKeyframeDeclarations(o,n,r));return Vc(i,o=>this._scopeAnimationRule(o,n,r))}_scopeLocalKeyframeDeclarations(e,n,r){return U(I({},e),{selector:e.selector.replace(/(^@(?:-webkit-)?keyframes(?:\s+))(['"]?)(.+)\2(\s*)$/,(i,o,s,a,l)=>(r.add(D_(a,s)),`${o}${s}${n}_${a}${s}${l}`))})}_scopeAnimationKeyframe(e,n,r){return e.replace(/^(\s*)(['"]?)(.+?)\2(\s*)$/,(i,o,s,a,l)=>(a=`${r.has(D_(a,s))?n+"_":""}${a}`,`${o}${s}${a}${s}${l}`))}_animationDeclarationKeyframesRe=/(^|\s+|,)(?:(?:(['"])((?:\\\\|\\\2|(?!\2).)+)\2)|(-?[A-Za-z][\w\-]*))(?=[,\s]|$)/g;_scopeAnimationRule(e,n,r){let i=e.content.replace(/((?:^|\s+|;)(?:-webkit-)?animation\s*:\s*),*([^;]+)/g,(o,s,a)=>s+a.replace(this._animationDeclarationKeyframesRe,(l,c,d="",p,h)=>p?`${c}${this._scopeAnimationKeyframe(`${d}${p}${d}`,n,r)}`:Cb.has(h)?l:`${c}${this._scopeAnimationKeyframe(h,n,r)}`));return i=i.replace(/((?:^|\s+|;)(?:-webkit-)?animation-name(?:\s*):(?:\s*))([^;]+)/g,(o,s,a)=>`${s}${a.split(",").map(l=>this._scopeAnimationKeyframe(l,n,r)).join(",")}`),U(I({},e),{content:i})}_insertPolyfillDirectivesInCssText(e){return e.replace(Tb,function(...n){return n[2]+"{"})}_insertPolyfillRulesInCssText(e){return e.replace(xb,(...n)=>{let r=n[0].replace(n[1],"").replace(n[2],"");return n[4]+r})}_scopeCssText(e,n,r){let i=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),n&&(e=this._scopeKeyframesRelatedCss(e,n),e=this._scopeSelectors(e,n,r)),e=e+`
`+i,e.trim()}_extractUnscopedRulesFromCssText(e){let n="",r;for(x_.lastIndex=0;(r=x_.exec(e))!==null;){let i=r[0].replace(r[2],"").replace(r[1],r[4]);n+=i+`

`}return n}_convertColonHost(e){return e.replace(Ib,(n,r,i)=>{if(r){let o=[],s=r.split(",").map(a=>a.trim());for(let a of s){if(!a)break;let l=qr+a.replace($u,"")+i;o.push(l)}return o.join(",")}else return qr+i})}_convertColonHostContext(e){let n=e.length,r=0,i=0,o="";for(let s=0;s<n;s++){let a=e[s];if(a===","&&r===0){o+=this._convertColonHostContextInSelectorPart(e.slice(i,s))+",",i=s+1;continue}if(s===n-1){o+=this._convertColonHostContextInSelectorPart(e.slice(i));break}a==="("?r++:a===")"&&r--}return o}_convertColonHostContextInSelectorPart(e){return e.replace(Db,(n,r)=>{let i=[[]],o;for(;o=Ab.exec(n);){let s=(o[1]??"").trim().split(",").map(l=>l.trim()).filter(l=>l!==""),a=i.length;Yb(i,s.length);for(let l=0;l<s.length;l++)for(let c=0;c<a;c++)i[c+l*a].push(s[l]);n=o[2]}return i.map(s=>jb(s,n,r)).join(", ")})}_convertShadowDOMSelectors(e){return kb.reduce((n,r)=>n.replace(r," "),e)}_scopeSelectors(e,n,r){return Vc(e,i=>{let o=i.selector,s=i.content;return i.selector[0]!=="@"?o=this._scopeSelector({selector:o,scopeSelector:n,hostSelector:r,isParentSelector:!0}):wb.some(a=>i.selector.startsWith(a))?s=this._scopeSelectors(i.content,n,r):(i.selector.startsWith("@font-face")||i.selector.startsWith("@page"))&&(s=this._stripScopingSelectors(i.content)),new pl(o,s)})}_stripScopingSelectors(e){return Vc(e,n=>{let r=n.selector.replace(I_," ").replace(Zp," ");return new pl(r,n.content)})}_safeSelector;_shouldScopeIndicator;_scopeSelector({selector:e,scopeSelector:n,hostSelector:r,isParentSelector:i=!1}){let o=/ ?,(?!(?:[^)(]*(?:\([^)(]*(?:\([^)(]*(?:\([^)(]*\)[^)(]*)*\)[^)(]*)*\)[^)(]*)*\))) ?/;return e.split(o).map(s=>s.split(I_)).map(s=>{let[a,...l]=s;return[(d=>this._selectorNeedsScoping(d,n)?this._applySelectorScope({selector:d,scopeSelector:n,hostSelector:r,isParentSelector:i}):d)(a),...l].join(" ")}).join(", ")}_selectorNeedsScoping(e,n){return!this._makeScopeMatcher(n).test(e)}_makeScopeMatcher(e){let n=/\[/g,r=/\]/g;return e=e.replace(n,"\\[").replace(r,"\\]"),new RegExp("^("+e+")"+Nb,"m")}_applySimpleSelectorScope(e,n,r){if(jo.lastIndex=0,jo.test(e)){let i=`[${r}]`,o=e;for(;o.match(Zp);)o=o.replace(Zp,(s,a)=>a.replace(/([^:\)]*)(:*)(.*)/,(l,c,d,p)=>c+i+d+p));return o.replace(jo,i)}return n+" "+e}_applySelectorScope({selector:e,scopeSelector:n,hostSelector:r,isParentSelector:i}){let o=/\[is=([^\]]*)\]/g;n=n.replace(o,(w,...x)=>x[0]);let s=`[${n}]`,a=w=>{let x=w.trim();if(!x)return w;if(w.includes(qr)){if(x=this._applySimpleSelectorScope(w,n,r),!w.match(bb)){let[S,N,R,P]=x.match(/([^:]*)(:*)([\s\S]*)/);x=N+s+R+P}}else{let S=w.replace(jo,"");if(S.length>0){let N=S.match(/([^:]*)(:*)([\s\S]*)/);N&&(x=N[1]+s+N[2]+N[3])}}return x},l=w=>{let x="",S=[],N;for(;(N=Ea.exec(w))!==null;){let R=1,P=Ea.lastIndex;for(;P<w.length;){let H=w[P];if(P++,H==="("){R++;continue}if(H===")"){if(R--,R===0)break;continue}}S.push(`${N[0]}${w.slice(Ea.lastIndex,P)}`),Ea.lastIndex=P}return S.join("")===w?x=S.map(R=>{let[P]=R.match(Ea)??[],H=R.slice(P?.length,-1);H.includes(qr)&&(this._shouldScopeIndicator=!0);let te=this._scopeSelector({selector:H,scopeSelector:n,hostSelector:r});return`${P}${te})`}).join(""):(this._shouldScopeIndicator=this._shouldScopeIndicator||w.includes(qr),x=this._shouldScopeIndicator?a(w):w),x};i&&(this._safeSelector=new zh(e),e=this._safeSelector.content());let c="",d=0,p,h=/( |>|\+|~(?!=))(?!([^)(]*(?:\([^)(]*(?:\([^)(]*(?:\([^)(]*\)[^)(]*)*\)[^)(]*)*\)[^)(]*)*\)))\s*/g,g=e.includes(qr);for((i||this._shouldScopeIndicator)&&(this._shouldScopeIndicator=!g);(p=h.exec(e))!==null;){let w=p[1],x=e.slice(d,p.index);if(x.match(/__esc-ph-(\d+)__/)&&e[p.index+1]?.match(/[a-fA-F\d]/))continue;let S=l(x);c+=`${S} ${w} `,d=h.lastIndex}let v=e.substring(d);return c+=l(v),this._safeSelector.restore(c)}_insertPolyfillHostInCssText(e){return e.replace(Pb,hC).replace(Mb,$u)}},zh=class{placeholders=[];index=0;_content;constructor(e){e=this._escapeRegexMatches(e,/(\[[^\]]*\])/g),e=e.replace(/(\\.)/g,(n,r)=>{let i=`__esc-ph-${this.index}__`;return this.placeholders.push(r),this.index++,i}),this._content=e.replace(/(:nth-[-\w]+)(\([^)]+\))/g,(n,r,i)=>{let o=`__ph-${this.index}__`;return this.placeholders.push(i),this.index++,r+o})}restore(e){return e.replace(/__(?:ph|esc-ph)-(\d+)__/g,(n,r)=>this.placeholders[+r])}content(){return this._content}_escapeRegexMatches(e,n){return e.replace(n,(r,i)=>{let o=`__ph-${this.index}__`;return this.placeholders.push(i),this.index++,o})}},Sb="(:(where|is)\\()?",Ea=/:(where|is)\(/gi,Tb=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,xb=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,x_=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,$u="-shadowcsshost",hC="-shadowcsscontext",mC="(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))",Ib=new RegExp($u+mC+"?([^,{]*)","gim"),gC=hC+mC+"?([^{]*)",Db=new RegExp(`${Sb}(${gC})`,"gim"),Ab=new RegExp(gC,"im"),qr=$u+"-no-combinator",bb=new RegExp(`${qr}(?![^(]*\\))`,"g"),Zp=/-shadowcsshost-no-combinator([^\s,]*)/,kb=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],I_=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,Nb="([>\\s~+[.,{:][\\s\\S]*)?$",jo=/-shadowcsshost/gim,Mb=/:host/gim,Pb=/:host-context/gim,Rb=/\r?\n/g,Lb=/\/\*[\s\S]*?\*\//g,Fb=/\/\*\s*#\s*source(Mapping)?URL=/g,Qm="%COMMENT%",Ob=new RegExp(Qm,"g"),Qp="%BLOCK%",Bb=new RegExp(`(\\s*(?:${Qm}\\s*)*)([^;\\{\\}]+?)(\\s*)((?:{%BLOCK%}?\\s*;?)|(?:\\s*;))`,"g"),Vb=new Map([["{","}"]]),vC="%COMMA_IN_PLACEHOLDER%",yC="%SEMI_IN_PLACEHOLDER%",_C="%COLON_IN_PLACEHOLDER%",$b=new RegExp(vC,"g"),Ub=new RegExp(yC,"g"),Hb=new RegExp(_C,"g"),pl=class{selector;content;constructor(e,n){this.selector=e,this.content=n}};function Vc(t,e){let n=zb(t),r=qb(n,Vb,Qp),i=0,o=r.escapedString.replace(Bb,(...s)=>{let a=s[2],l="",c=s[4],d="";c&&c.startsWith("{"+Qp)&&(l=r.blocks[i++],c=c.substring(Qp.length+1),d="{");let p=e(new pl(a,l));return`${s[1]}${p.selector}${s[3]}${d}${p.content}${c}`});return Wb(o)}var Wh=class{escapedString;blocks;constructor(e,n){this.escapedString=e,this.blocks=n}};function qb(t,e,n){let r=[],i=[],o=0,s=0,a=-1,l,c;for(let d=0;d<t.length;d++){let p=t[d];p==="\\"?d++:p===c?(o--,o===0&&(i.push(t.substring(a,d)),r.push(n),s=d,a=-1,l=c=void 0)):p===l?o++:o===0&&e.has(p)&&(l=p,c=e.get(p),o=1,a=d+1,r.push(t.substring(s,a)))}return a!==-1?(i.push(t.substring(a)),r.push(n)):r.push(t.substring(s)),new Wh(r.join(""),i)}var Gb={";":yC,",":vC,":":_C};function zb(t){let e=t,n=null;for(let r=0;r<e.length;r++){let i=e[r];if(i==="\\")r++;else if(n!==null)if(i===n)n=null;else{let o=Gb[i];o&&(e=`${e.substr(0,r)}${o}${e.substr(r+1)}`,r+=o.length-1)}else(i==="'"||i==='"')&&(n=i)}return e}function Wb(t){let e=t.replace($b,",");return e=e.replace(Ub,";"),e=e.replace(Hb,":"),e}function D_(t,e){return e?t.replace(/((?:^|[^\\])(?:\\\\)*)\\(?=['"])/g,"$1"):t}function jb(t,e,n=""){let r=qr;jo.lastIndex=0;let i=jo.test(e);if(t.length===0)return r+e;let o=[t.pop()||""];for(;t.length>0;){let s=o.length,a=t.pop();for(let l=0;l<s;l++){let c=o[l];o[s*2+l]=c+" "+a,o[s+l]=a+" "+c,o[l]=a+c}}return o.map(s=>i?`${n}${s}${e}`:`${n}${s}${r}${e}, ${n}${s} ${r}${e}`).join(",")}function Yb(t,e){let n=t.length;for(let r=1;r<e;r++)for(let i=0;i<n;i++)t[i+r*n]=t[i].slice(0)}var m=(function(t){return t[t.ListEnd=0]="ListEnd",t[t.Statement=1]="Statement",t[t.Variable=2]="Variable",t[t.ElementStart=3]="ElementStart",t[t.Element=4]="Element",t[t.Template=5]="Template",t[t.ElementEnd=6]="ElementEnd",t[t.ContainerStart=7]="ContainerStart",t[t.Container=8]="Container",t[t.ContainerEnd=9]="ContainerEnd",t[t.DisableBindings=10]="DisableBindings",t[t.ConditionalCreate=11]="ConditionalCreate",t[t.ConditionalBranchCreate=12]="ConditionalBranchCreate",t[t.Conditional=13]="Conditional",t[t.EnableBindings=14]="EnableBindings",t[t.Text=15]="Text",t[t.Listener=16]="Listener",t[t.InterpolateText=17]="InterpolateText",t[t.Binding=18]="Binding",t[t.Property=19]="Property",t[t.StyleProp=20]="StyleProp",t[t.ClassProp=21]="ClassProp",t[t.StyleMap=22]="StyleMap",t[t.ClassMap=23]="ClassMap",t[t.Advance=24]="Advance",t[t.Pipe=25]="Pipe",t[t.Attribute=26]="Attribute",t[t.ExtractedAttribute=27]="ExtractedAttribute",t[t.Defer=28]="Defer",t[t.DeferOn=29]="DeferOn",t[t.DeferWhen=30]="DeferWhen",t[t.I18nMessage=31]="I18nMessage",t[t.DomProperty=32]="DomProperty",t[t.Namespace=33]="Namespace",t[t.ProjectionDef=34]="ProjectionDef",t[t.Projection=35]="Projection",t[t.RepeaterCreate=36]="RepeaterCreate",t[t.Repeater=37]="Repeater",t[t.TwoWayProperty=38]="TwoWayProperty",t[t.TwoWayListener=39]="TwoWayListener",t[t.DeclareLet=40]="DeclareLet",t[t.StoreLet=41]="StoreLet",t[t.I18nStart=42]="I18nStart",t[t.I18n=43]="I18n",t[t.I18nEnd=44]="I18nEnd",t[t.I18nExpression=45]="I18nExpression",t[t.I18nApply=46]="I18nApply",t[t.IcuStart=47]="IcuStart",t[t.IcuEnd=48]="IcuEnd",t[t.IcuPlaceholder=49]="IcuPlaceholder",t[t.I18nContext=50]="I18nContext",t[t.I18nAttributes=51]="I18nAttributes",t[t.SourceLocation=52]="SourceLocation",t[t.Animation=53]="Animation",t[t.AnimationString=54]="AnimationString",t[t.AnimationBinding=55]="AnimationBinding",t[t.AnimationListener=56]="AnimationListener",t})(m||{}),z=(function(t){return t[t.LexicalRead=0]="LexicalRead",t[t.Context=1]="Context",t[t.TrackContext=2]="TrackContext",t[t.ReadVariable=3]="ReadVariable",t[t.NextContext=4]="NextContext",t[t.Reference=5]="Reference",t[t.StoreLet=6]="StoreLet",t[t.ContextLetReference=7]="ContextLetReference",t[t.GetCurrentView=8]="GetCurrentView",t[t.RestoreView=9]="RestoreView",t[t.ResetView=10]="ResetView",t[t.PureFunctionExpr=11]="PureFunctionExpr",t[t.PureFunctionParameterExpr=12]="PureFunctionParameterExpr",t[t.PipeBinding=13]="PipeBinding",t[t.PipeBindingVariadic=14]="PipeBindingVariadic",t[t.SafePropertyRead=15]="SafePropertyRead",t[t.SafeKeyedRead=16]="SafeKeyedRead",t[t.SafeInvokeFunction=17]="SafeInvokeFunction",t[t.SafeTernaryExpr=18]="SafeTernaryExpr",t[t.EmptyExpr=19]="EmptyExpr",t[t.AssignTemporaryExpr=20]="AssignTemporaryExpr",t[t.ReadTemporaryExpr=21]="ReadTemporaryExpr",t[t.SlotLiteralExpr=22]="SlotLiteralExpr",t[t.ConditionalCase=23]="ConditionalCase",t[t.ConstCollected=24]="ConstCollected",t[t.TwoWayBindingSet=25]="TwoWayBindingSet",t})(z||{}),un=(function(t){return t[t.None=0]="None",t[t.AlwaysInline=1]="AlwaysInline",t})(un||{}),ot=(function(t){return t[t.Context=0]="Context",t[t.Identifier=1]="Identifier",t[t.SavedView=2]="SavedView",t[t.Alias=3]="Alias",t})(ot||{}),Xt=(function(t){return t[t.Normal=0]="Normal",t[t.TemplateDefinitionBuilder=1]="TemplateDefinitionBuilder",t})(Xt||{}),$=(function(t){return t[t.Attribute=0]="Attribute",t[t.ClassName=1]="ClassName",t[t.StyleProperty=2]="StyleProperty",t[t.Property=3]="Property",t[t.Template=4]="Template",t[t.I18n=5]="I18n",t[t.LegacyAnimation=6]="LegacyAnimation",t[t.TwoWayProperty=7]="TwoWayProperty",t[t.Animation=8]="Animation",t})($||{}),hl=(function(t){return t[t.Creation=0]="Creation",t[t.Postproccessing=1]="Postproccessing",t})(hl||{}),ws=(function(t){return t[t.I18nText=0]="I18nText",t[t.I18nAttribute=1]="I18nAttribute",t})(ws||{}),Ne=(function(t){return t[t.None=0]="None",t[t.ElementTag=1]="ElementTag",t[t.TemplateTag=2]="TemplateTag",t[t.OpenTag=4]="OpenTag",t[t.CloseTag=8]="CloseTag",t[t.ExpressionIndex=16]="ExpressionIndex",t})(Ne||{}),_t=(function(t){return t[t.HTML=0]="HTML",t[t.SVG=1]="SVG",t[t.Math=2]="Math",t})(_t||{}),Ae=(function(t){return t[t.Idle=0]="Idle",t[t.Immediate=1]="Immediate",t[t.Timer=2]="Timer",t[t.Hover=3]="Hover",t[t.Interaction=4]="Interaction",t[t.Viewport=5]="Viewport",t[t.Never=6]="Never",t})(Ae||{}),Ni=(function(t){return t[t.RootI18n=0]="RootI18n",t[t.Icu=1]="Icu",t[t.Attr=2]="Attr",t})(Ni||{}),Ft=(function(t){return t[t.NgTemplate=0]="NgTemplate",t[t.Structural=1]="Structural",t[t.Block=2]="Block",t})(Ft||{}),EC=Symbol("ConsumesSlot"),eg=Symbol("DependsOnSlotContext"),Ss=Symbol("ConsumesVars"),Ed=Symbol("UsesVarOffset"),_n={[EC]:!0,numSlotsUsed:1},Zt={[eg]:!0},Bt={[Ss]:!0};function Ts(t){return t[EC]===!0}function ml(t){return t[eg]===!0}function eh(t){return t[Ss]===!0}function A_(t){return t[Ed]===!0}function yn(t){return I({kind:m.Statement,statement:t},ee)}function zr(t,e,n,r){return I({kind:m.Variable,xref:t,variable:e,initializer:n,flags:r},ee)}var ee={debugListId:null,prev:null,next:null};function Jb(t,e,n){return I(I(I({kind:m.InterpolateText,target:t,interpolation:e,sourceSpan:n},Zt),Bt),ee)}var Ue=class{strings;expressions;i18nPlaceholders;constructor(e,n,r){if(this.strings=e,this.expressions=n,this.i18nPlaceholders=r,r.length!==0&&r.length!==n.length)throw new Error(`Expected ${n.length} placeholders to match interpolation expression count, but got ${r.length}`)}};function Yi(t,e,n,r,i,o,s,a,l,c,d){return I({kind:m.Binding,bindingKind:e,target:t,name:n,expression:r,unit:i,securityContext:o,isTextAttribute:s,isStructuralTemplateAttribute:a,templateKind:l,i18nContext:null,i18nMessage:c,sourceSpan:d},ee)}function Kb(t,e,n,r,i,o,s,a,l,c){return I(I(I({kind:m.Property,target:t,name:e,expression:n,bindingKind:r,securityContext:i,sanitizer:null,isStructuralTemplateAttribute:o,templateKind:s,i18nContext:a,i18nMessage:l,sourceSpan:c},Zt),Bt),ee)}function Xb(t,e,n,r,i,o,s,a,l){return I(I(I({kind:m.TwoWayProperty,target:t,name:e,expression:n,securityContext:r,sanitizer:null,isStructuralTemplateAttribute:i,templateKind:o,i18nContext:s,i18nMessage:a,sourceSpan:l},Zt),Bt),ee)}function Zb(t,e,n,r,i){return I(I(I({kind:m.StyleProp,target:t,name:e,expression:n,unit:r,sourceSpan:i},Zt),Bt),ee)}function Qb(t,e,n,r){return I(I(I({kind:m.ClassProp,target:t,name:e,expression:n,sourceSpan:r},Zt),Bt),ee)}function e1(t,e,n){return I(I(I({kind:m.StyleMap,target:t,expression:e,sourceSpan:n},Zt),Bt),ee)}function t1(t,e,n){return I(I(I({kind:m.ClassMap,target:t,expression:e,sourceSpan:n},Zt),Bt),ee)}function b_(t,e,n,r,i,o,s,a,l,c){return I(I(I({kind:m.Attribute,target:t,namespace:e,name:n,expression:r,securityContext:i,sanitizer:null,isTextAttribute:o,isStructuralTemplateAttribute:s,templateKind:a,i18nContext:null,i18nMessage:l,sourceSpan:c},Zt),Bt),ee)}function n1(t,e){return I({kind:m.Advance,delta:t,sourceSpan:e},ee)}function CC(t,e,n,r){return I(I(I({kind:m.Conditional,target:t,test:e,conditions:n,processed:null,sourceSpan:r,contextValue:null},ee),Zt),Bt)}function r1(t,e,n,r){return I(I({kind:m.Repeater,target:t,targetSlot:e,collection:n,sourceSpan:r},ee),Zt)}function k_(t,e,n,r,i,o,s){return I({kind:m.AnimationBinding,name:t,target:e,animationKind:n,expression:r,i18nMessage:null,securityContext:i,sanitizer:null,sourceSpan:o,animationBindingKind:s},ee)}function i1(t,e,n,r){return I(I(I({kind:m.DeferWhen,target:t,expr:e,modifier:n,sourceSpan:r},ee),Zt),Bt)}function wC(t,e,n,r,i,o,s,a,l,c,d){return I(I(I({kind:m.I18nExpression,context:t,target:e,i18nOwner:n,handle:r,expression:i,icuPlaceholder:o,i18nPlaceholder:s,resolutionTime:a,usage:l,name:c,sourceSpan:d},ee),Bt),Zt)}function o1(t,e,n){return I({kind:m.I18nApply,owner:t,handle:e,sourceSpan:n},ee)}function s1(t,e,n,r){return I(I(I({kind:m.StoreLet,target:t,declaredName:e,value:n,sourceSpan:r},Zt),Bt),ee)}function or(t){return t instanceof be}var be=class extends De{constructor(e=null){super(null,e)}},ct=class t extends be{name;kind=z.LexicalRead;constructor(e){super(),this.name=e}visitExpression(e,n){}isEquivalent(e){return this.name===e.name}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.name)}},Uu=class t extends be{target;targetSlot;offset;kind=z.Reference;constructor(e,n,r){super(),this.target=e,this.targetSlot=n,this.offset=r}visitExpression(){}isEquivalent(e){return e instanceof t&&e.target===this.target}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.target,this.targetSlot,this.offset)}},gl=class t extends be{target;value;sourceSpan;kind=z.StoreLet;[Ss]=!0;[eg]=!0;constructor(e,n,r){super(),this.target=e,this.value=n,this.sourceSpan=r}visitExpression(){}isEquivalent(e){return e instanceof t&&e.target===this.target&&e.value.isEquivalent(this.value)}isConstant(){return!1}transformInternalExpressions(e,n){this.value=V(this.value,e,n)}clone(){return new t(this.target,this.value,this.sourceSpan)}},vl=class t extends be{target;targetSlot;kind=z.ContextLetReference;constructor(e,n){super(),this.target=e,this.targetSlot=n}visitExpression(){}isEquivalent(e){return e instanceof t&&e.target===this.target}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.target,this.targetSlot)}},ti=class t extends be{view;kind=z.Context;constructor(e){super(),this.view=e}visitExpression(){}isEquivalent(e){return e instanceof t&&e.view===this.view}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.view)}},jh=class t extends be{view;kind=z.TrackContext;constructor(e){super(),this.view=e}visitExpression(){}isEquivalent(e){return e instanceof t&&e.view===this.view}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.view)}},Hu=class t extends be{kind=z.NextContext;steps=1;constructor(){super()}visitExpression(){}isEquivalent(e){return e instanceof t&&e.steps===this.steps}isConstant(){return!1}transformInternalExpressions(){}clone(){let e=new t;return e.steps=this.steps,e}},Yh=class t extends be{kind=z.GetCurrentView;constructor(){super()}visitExpression(){}isEquivalent(e){return e instanceof t}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t}},qu=class t extends be{view;kind=z.RestoreView;constructor(e){super(),this.view=e}visitExpression(e,n){typeof this.view!="number"&&this.view.visitExpression(e,n)}isEquivalent(e){return!(e instanceof t)||typeof e.view!=typeof this.view?!1:typeof this.view=="number"?this.view===e.view:this.view.isEquivalent(e.view)}isConstant(){return!1}transformInternalExpressions(e,n){typeof this.view!="number"&&(this.view=V(this.view,e,n))}clone(){return new t(this.view instanceof De?this.view.clone():this.view)}},Jh=class t extends be{expr;kind=z.ResetView;constructor(e){super(),this.expr=e}visitExpression(e,n){this.expr.visitExpression(e,n)}isEquivalent(e){return e instanceof t&&this.expr.isEquivalent(e.expr)}isConstant(){return!1}transformInternalExpressions(e,n){this.expr=V(this.expr,e,n)}clone(){return new t(this.expr.clone())}},Gu=class t extends be{target;value;kind=z.TwoWayBindingSet;constructor(e,n){super(),this.target=e,this.value=n}visitExpression(e,n){this.target.visitExpression(e,n),this.value.visitExpression(e,n)}isEquivalent(e){return this.target.isEquivalent(e.target)&&this.value.isEquivalent(e.value)}isConstant(){return!1}transformInternalExpressions(e,n){this.target=V(this.target,e,n),this.value=V(this.value,e,n)}clone(){return new t(this.target,this.value)}},xr=class t extends be{xref;kind=z.ReadVariable;name=null;constructor(e){super(),this.xref=e}visitExpression(){}isEquivalent(e){return e instanceof t&&e.xref===this.xref}isConstant(){return!1}transformInternalExpressions(){}clone(){let e=new t(this.xref);return e.name=this.name,e}},Ji=class t extends be{kind=z.PureFunctionExpr;[Ss]=!0;[Ed]=!0;varOffset=null;body;args;fn=null;constructor(e,n){super(),this.body=e,this.args=n}visitExpression(e,n){this.body?.visitExpression(e,n);for(let r of this.args)r.visitExpression(e,n)}isEquivalent(e){return!(e instanceof t)||e.args.length!==this.args.length?!1:e.body!==null&&this.body!==null&&e.body.isEquivalent(this.body)&&e.args.every((n,r)=>n.isEquivalent(this.args[r]))}isConstant(){return!1}transformInternalExpressions(e,n){this.body!==null?this.body=V(this.body,e,n|we.InChildOperation):this.fn!==null&&(this.fn=V(this.fn,e,n));for(let r=0;r<this.args.length;r++)this.args[r]=V(this.args[r],e,n)}clone(){let e=new t(this.body?.clone()??null,this.args.map(n=>n.clone()));return e.fn=this.fn?.clone()??null,e.varOffset=this.varOffset,e}},hs=class t extends be{index;kind=z.PureFunctionParameterExpr;constructor(e){super(),this.index=e}visitExpression(){}isEquivalent(e){return e instanceof t&&e.index===this.index}isConstant(){return!0}transformInternalExpressions(){}clone(){return new t(this.index)}},Ki=class t extends be{target;targetSlot;name;args;kind=z.PipeBinding;[Ss]=!0;[Ed]=!0;varOffset=null;constructor(e,n,r,i){super(),this.target=e,this.targetSlot=n,this.name=r,this.args=i}visitExpression(e,n){for(let r of this.args)r.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){for(let r=0;r<this.args.length;r++)this.args[r]=V(this.args[r],e,n)}clone(){let e=new t(this.target,this.targetSlot,this.name,this.args.map(n=>n.clone()));return e.varOffset=this.varOffset,e}},yl=class t extends be{target;targetSlot;name;args;numArgs;kind=z.PipeBindingVariadic;[Ss]=!0;[Ed]=!0;varOffset=null;constructor(e,n,r,i,o){super(),this.target=e,this.targetSlot=n,this.name=r,this.args=i,this.numArgs=o}visitExpression(e,n){this.args.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.args=V(this.args,e,n)}clone(){let e=new t(this.target,this.targetSlot,this.name,this.args.clone(),this.numArgs);return e.varOffset=this.varOffset,e}},ms=class t extends be{receiver;name;kind=z.SafePropertyRead;constructor(e,n){super(),this.receiver=e,this.name=n}get index(){return this.name}visitExpression(e,n){this.receiver.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.receiver=V(this.receiver,e,n)}clone(){return new t(this.receiver.clone(),this.name)}},gs=class t extends be{receiver;index;kind=z.SafeKeyedRead;constructor(e,n,r){super(r),this.receiver=e,this.index=n}visitExpression(e,n){this.receiver.visitExpression(e,n),this.index.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.receiver=V(this.receiver,e,n),this.index=V(this.index,e,n)}clone(){return new t(this.receiver.clone(),this.index.clone(),this.sourceSpan)}},Xi=class t extends be{receiver;args;kind=z.SafeInvokeFunction;constructor(e,n){super(),this.receiver=e,this.args=n}visitExpression(e,n){this.receiver.visitExpression(e,n);for(let r of this.args)r.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.receiver=V(this.receiver,e,n);for(let r=0;r<this.args.length;r++)this.args[r]=V(this.args[r],e,n)}clone(){return new t(this.receiver.clone(),this.args.map(e=>e.clone()))}},vs=class t extends be{guard;expr;kind=z.SafeTernaryExpr;constructor(e,n){super(),this.guard=e,this.expr=n}visitExpression(e,n){this.guard.visitExpression(e,n),this.expr.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.guard=V(this.guard,e,n),this.expr=V(this.expr,e,n)}clone(){return new t(this.guard.clone(),this.expr.clone())}},_l=class t extends be{kind=z.EmptyExpr;visitExpression(e,n){}isEquivalent(e){return e instanceof t}isConstant(){return!0}clone(){return new t}transformInternalExpressions(){}},sr=class t extends be{expr;xref;kind=z.AssignTemporaryExpr;name=null;constructor(e,n){super(),this.expr=e,this.xref=n}visitExpression(e,n){this.expr.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.expr=V(this.expr,e,n)}clone(){let e=new t(this.expr.clone(),this.xref);return e.name=this.name,e}},ni=class t extends be{xref;kind=z.ReadTemporaryExpr;name=null;constructor(e){super(),this.xref=e}visitExpression(e,n){}isEquivalent(){return this.xref===this.xref}isConstant(){return!1}transformInternalExpressions(e,n){}clone(){let e=new t(this.xref);return e.name=this.name,e}},zu=class t extends be{slot;kind=z.SlotLiteralExpr;constructor(e){super(),this.slot=e}visitExpression(e,n){}isEquivalent(e){return e instanceof t&&e.slot===this.slot}isConstant(){return!0}clone(){return new t(this.slot)}transformInternalExpressions(){}},Wu=class t extends be{expr;target;targetSlot;alias;kind=z.ConditionalCase;constructor(e,n,r,i=null){super(),this.expr=e,this.target=n,this.targetSlot=r,this.alias=i}visitExpression(e,n){this.expr!==null&&this.expr.visitExpression(e,n)}isEquivalent(e){return e instanceof t&&e.expr===this.expr}isConstant(){return!0}clone(){return new t(this.expr,this.target,this.targetSlot)}transformInternalExpressions(e,n){this.expr!==null&&(this.expr=V(this.expr,e,n))}},El=class t extends be{expr;kind=z.ConstCollected;constructor(e){super(),this.expr=e}transformInternalExpressions(e,n){this.expr=e(this.expr,n)}visitExpression(e,n){this.expr.visitExpression(e,n)}isEquivalent(e){return e instanceof t?this.expr.isEquivalent(e.expr):!1}isConstant(){return this.expr.isConstant()}clone(){return new t(this.expr)}};function at(t,e){We(t,(n,r)=>(e(n,r),n),we.None)}var we=(function(t){return t[t.None=0]="None",t[t.InChildOperation=1]="InChildOperation",t})(we||{});function th(t,e,n){for(let r=0;r<t.expressions.length;r++)t.expressions[r]=V(t.expressions[r],e,n)}function We(t,e,n){switch(t.kind){case m.StyleProp:case m.StyleMap:case m.ClassProp:case m.ClassMap:case m.AnimationString:case m.AnimationBinding:case m.Binding:t.expression instanceof Ue?th(t.expression,e,n):t.expression=V(t.expression,e,n);break;case m.Property:case m.DomProperty:case m.Attribute:t.expression instanceof Ue?th(t.expression,e,n):t.expression=V(t.expression,e,n),t.sanitizer=t.sanitizer&&V(t.sanitizer,e,n);break;case m.TwoWayProperty:t.expression=V(t.expression,e,n),t.sanitizer=t.sanitizer&&V(t.sanitizer,e,n);break;case m.I18nExpression:t.expression=V(t.expression,e,n);break;case m.InterpolateText:th(t.interpolation,e,n);break;case m.Statement:ju(t.statement,e,n);break;case m.Variable:t.initializer=V(t.initializer,e,n);break;case m.Conditional:for(let r of t.conditions)r.expr!==null&&(r.expr=V(r.expr,e,n));t.processed!==null&&(t.processed=V(t.processed,e,n)),t.contextValue!==null&&(t.contextValue=V(t.contextValue,e,n));break;case m.Animation:case m.AnimationListener:case m.Listener:case m.TwoWayListener:for(let r of t.handlerOps)We(r,e,n|we.InChildOperation);break;case m.ExtractedAttribute:t.expression=t.expression&&V(t.expression,e,n),t.trustedValueFn=t.trustedValueFn&&V(t.trustedValueFn,e,n);break;case m.RepeaterCreate:if(t.trackByOps===null)t.track=V(t.track,e,n);else for(let r of t.trackByOps)We(r,e,n|we.InChildOperation);t.trackByFn!==null&&(t.trackByFn=V(t.trackByFn,e,n));break;case m.Repeater:t.collection=V(t.collection,e,n);break;case m.Defer:t.loadingConfig!==null&&(t.loadingConfig=V(t.loadingConfig,e,n)),t.placeholderConfig!==null&&(t.placeholderConfig=V(t.placeholderConfig,e,n)),t.resolverFn!==null&&(t.resolverFn=V(t.resolverFn,e,n));break;case m.I18nMessage:for(let[r,i]of t.params)t.params.set(r,V(i,e,n));for(let[r,i]of t.postprocessingParams)t.postprocessingParams.set(r,V(i,e,n));break;case m.DeferWhen:t.expr=V(t.expr,e,n);break;case m.StoreLet:t.value=V(t.value,e,n);break;case m.Advance:case m.Container:case m.ContainerEnd:case m.ContainerStart:case m.DeferOn:case m.DisableBindings:case m.Element:case m.ElementEnd:case m.ElementStart:case m.EnableBindings:case m.I18n:case m.I18nApply:case m.I18nContext:case m.I18nEnd:case m.I18nStart:case m.IcuEnd:case m.IcuStart:case m.Namespace:case m.Pipe:case m.Projection:case m.ProjectionDef:case m.Template:case m.Text:case m.I18nAttributes:case m.IcuPlaceholder:case m.DeclareLet:case m.SourceLocation:case m.ConditionalCreate:case m.ConditionalBranchCreate:break;default:throw new Error(`AssertionError: transformExpressionsInOp doesn't handle ${m[t.kind]}`)}}function V(t,e,n){if(t instanceof be)t.transformInternalExpressions(e,n);else if(t instanceof ve)t.lhs=V(t.lhs,e,n),t.rhs=V(t.rhs,e,n);else if(t instanceof Ui)t.expr=V(t.expr,e,n);else if(t instanceof Kt)t.receiver=V(t.receiver,e,n);else if(t instanceof Ir)t.receiver=V(t.receiver,e,n),t.index=V(t.index,e,n);else if(t instanceof Ot){t.fn=V(t.fn,e,n);for(let r=0;r<t.args.length;r++)t.args[r]=V(t.args[r],e,n)}else if(t instanceof Rn)for(let r=0;r<t.entries.length;r++)t.entries[r]=V(t.entries[r],e,n);else if(t instanceof tr)for(let r=0;r<t.entries.length;r++)t.entries[r].value=V(t.entries[r].value,e,n);else if(t instanceof er)t.condition=V(t.condition,e,n),t.trueCase=V(t.trueCase,e,n),t.falseCase!==null&&(t.falseCase=V(t.falseCase,e,n));else if(t instanceof ns)t.expr=V(t.expr,e,n);else if(t instanceof cu)t.expr=V(t.expr,e,n);else if(t instanceof du)for(let r=0;r<t.expressions.length;r++)t.expressions[r]=V(t.expressions[r],e,n);else if(t instanceof $a)t.condition=V(t.condition,e,n);else if(t instanceof Oa)t.tag=V(t.tag,e,n),t.template.expressions=t.template.expressions.map(r=>V(r,e,n));else if(t instanceof $i)if(Array.isArray(t.body))for(let r=0;r<t.body.length;r++)ju(t.body[r],e,n);else t.body=V(t.body,e,n);else if(!(t instanceof pe)){if(t instanceof Va)for(let r=0;r<t.expressions.length;r++)t.expressions[r]=V(t.expressions[r],e,n);else if(t instanceof Pn)t.expr=V(t.expr,e,n);else if(!(t instanceof mn||t instanceof Vi||t instanceof ht))throw new Error(`Unhandled expression kind: ${t.constructor.name}`)}return e(t,n)}function ju(t,e,n){if(t instanceof gn)t.expr=V(t.expr,e,n);else if(t instanceof ft)t.value=V(t.value,e,n);else if(t instanceof Xe)t.value!==void 0&&(t.value=V(t.value,e,n));else if(t instanceof pu){t.condition=V(t.condition,e,n);for(let r of t.trueCase)ju(r,e,n);for(let r of t.falseCase)ju(r,e,n)}else throw new Error(`Unhandled statement kind: ${t.constructor.name}`)}function SC(t){return t instanceof ht&&typeof t.value=="string"}var k=(()=>{class t{static nextListId=0;debugListId=t.nextListId++;head={kind:m.ListEnd,next:null,prev:null,debugListId:this.debugListId};tail={kind:m.ListEnd,next:null,prev:null,debugListId:this.debugListId};constructor(){this.head.next=this.tail,this.tail.prev=this.head}push(n){if(Array.isArray(n)){for(let i of n)this.push(i);return}t.assertIsNotEnd(n),t.assertIsUnowned(n),n.debugListId=this.debugListId;let r=this.tail.prev;n.prev=r,r.next=n,n.next=this.tail,this.tail.prev=n}prepend(n){if(n.length===0)return;for(let o of n)t.assertIsNotEnd(o),t.assertIsUnowned(o),o.debugListId=this.debugListId;let r=this.head.next,i=this.head;for(let o of n)i.next=o,o.prev=i,i=o;i.next=r,r.prev=i}*[Symbol.iterator](){let n=this.head.next;for(;n!==this.tail;){t.assertIsOwned(n,this.debugListId);let r=n.next;yield n,n=r}}*reversed(){let n=this.tail.prev;for(;n!==this.head;){t.assertIsOwned(n,this.debugListId);let r=n.prev;yield n,n=r}}static replace(n,r){t.assertIsNotEnd(n),t.assertIsNotEnd(r),t.assertIsOwned(n),t.assertIsUnowned(r),r.debugListId=n.debugListId,n.prev!==null&&(n.prev.next=r,r.prev=n.prev),n.next!==null&&(n.next.prev=r,r.next=n.next),n.debugListId=null,n.prev=null,n.next=null}static replaceWithMany(n,r){if(r.length===0){t.remove(n);return}t.assertIsNotEnd(n),t.assertIsOwned(n);let i=n.debugListId;n.debugListId=null;for(let d of r)t.assertIsNotEnd(d),t.assertIsUnowned(d);let{prev:o,next:s}=n;n.prev=null,n.next=null;let a=o;for(let d of r)t.assertIsUnowned(d),d.debugListId=i,a.next=d,d.prev=a,d.next=null,a=d;let l=r[0],c=a;o!==null&&(o.next=l,l.prev=o),s!==null&&(s.prev=c,c.next=s)}static remove(n){t.assertIsNotEnd(n),t.assertIsOwned(n),n.prev.next=n.next,n.next.prev=n.prev,n.debugListId=null,n.prev=null,n.next=null}static insertBefore(n,r){if(Array.isArray(n)){for(let i of n)t.insertBefore(i,r);return}if(t.assertIsOwned(r),r.prev===null)throw new Error("AssertionError: illegal operation on list start");t.assertIsNotEnd(n),t.assertIsUnowned(n),n.debugListId=r.debugListId,n.prev=null,r.prev.next=n,n.prev=r.prev,n.next=r,r.prev=n}static insertAfter(n,r){if(t.assertIsOwned(r),r.next===null)throw new Error("AssertionError: illegal operation on list end");t.assertIsNotEnd(n),t.assertIsUnowned(n),n.debugListId=r.debugListId,r.next.prev=n,n.next=r.next,n.prev=r,r.next=n}static assertIsUnowned(n){if(n.debugListId!==null)throw new Error(`AssertionError: illegal operation on owned node: ${m[n.kind]}`)}static assertIsOwned(n,r){if(n.debugListId===null)throw new Error(`AssertionError: illegal operation on unowned node: ${m[n.kind]}`);if(r!==void 0&&n.debugListId!==r)throw new Error(`AssertionError: node belongs to the wrong list (expected ${r}, actual ${n.debugListId})`)}static assertIsNotEnd(n){if(n.kind===m.ListEnd)throw new Error("AssertionError: illegal operation on list head or tail")}}return t})(),mt=class{slot=null},a1=new Set([m.Element,m.ElementStart,m.Container,m.ContainerStart,m.Template,m.RepeaterCreate,m.ConditionalCreate,m.ConditionalBranchCreate]);function Dr(t){return a1.has(t.kind)}function l1(t,e,n,r,i,o){return I(I({kind:m.ElementStart,xref:e,tag:t,handle:new mt,attributes:null,localRefs:[],nonBindable:!1,namespace:n,i18nPlaceholder:r,startSourceSpan:i,wholeSourceSpan:o},_n),ee)}function TC(t,e,n,r,i,o,s,a){return I(I({kind:m.Template,xref:t,templateKind:e,attributes:null,tag:n,handle:new mt,functionNameSuffix:r,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace:i,i18nPlaceholder:o,startSourceSpan:s,wholeSourceSpan:a},_n),ee)}function xC(t,e,n,r,i,o,s,a){return I(I({kind:m.ConditionalCreate,xref:t,templateKind:e,attributes:null,tag:n,handle:new mt,functionNameSuffix:r,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace:i,i18nPlaceholder:o,startSourceSpan:s,wholeSourceSpan:a},_n),ee)}function IC(t,e,n,r,i,o,s,a){return I(I({kind:m.ConditionalBranchCreate,xref:t,templateKind:e,attributes:null,tag:n,handle:new mt,functionNameSuffix:r,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace:i,i18nPlaceholder:o,startSourceSpan:s,wholeSourceSpan:a},_n),ee)}function c1(t,e,n,r,i,o,s,a,l,c){return U(I(I(I({kind:m.RepeaterCreate,attributes:null,xref:t,handle:new mt,emptyView:e,track:r,trackByFn:null,trackByOps:null,tag:n,emptyTag:o,emptyAttributes:null,functionNameSuffix:"For",namespace:_t.HTML,nonBindable:!1,localRefs:[],decls:null,vars:null,varNames:i,usesComponentInstance:!1,i18nPlaceholder:s,emptyI18nPlaceholder:a,startSourceSpan:l,wholeSourceSpan:c},_n),ee),Bt),{numSlotsUsed:e===null?2:3})}function u1(t,e){return I({kind:m.ElementEnd,xref:t,sourceSpan:e},ee)}function d1(t){return I({kind:m.DisableBindings,xref:t},ee)}function f1(t){return I({kind:m.EnableBindings,xref:t},ee)}function DC(t,e,n,r){return I(I({kind:m.Text,xref:t,handle:new mt,initialValue:e,icuPlaceholder:n,sourceSpan:r},_n),ee)}function p1(t,e,n,r,i,o){return I({kind:m.AnimationString,name:t,target:e,animationKind:n,expression:r,i18nMessage:null,securityContext:i,sanitizer:null,sourceSpan:o},ee)}function h1(t,e,n,r,i,o){let s=new k;return s.push(r),I({kind:m.Animation,name:t,target:e,animationKind:n,handlerOps:s,handlerFnName:null,i18nMessage:null,securityContext:i,sanitizer:null,sourceSpan:o},ee)}function tg(t,e,n,r,i,o,s,a,l){let c=new k;return c.push(i),I({kind:m.Listener,target:t,targetSlot:e,tag:r,hostListener:a,name:n,handlerOps:c,handlerFnName:null,consumesDollarEvent:!1,isLegacyAnimationListener:o!==null,legacyAnimationPhase:o,eventTarget:s,sourceSpan:l},ee)}function AC(t,e,n,r,i,o,s,a,l){let c=new k;return c.push(i),I({kind:m.AnimationListener,target:t,targetSlot:e,tag:r,hostListener:a,name:n,animationKind:o,handlerOps:c,handlerFnName:null,consumesDollarEvent:!1,eventTarget:s,sourceSpan:l},ee)}function bC(t,e,n,r,i,o){let s=new k;return s.push(i),I({kind:m.TwoWayListener,target:t,targetSlot:e,tag:r,name:n,handlerOps:s,handlerFnName:null,sourceSpan:o},ee)}function kC(t,e,n){return I(I({kind:m.Pipe,xref:t,handle:e,name:n},ee),_n)}function m1(t){return I({kind:m.Namespace,active:t},ee)}function g1(t){return I({kind:m.ProjectionDef,def:t},ee)}function v1(t,e,n,r,i){return U(I(I({kind:m.Projection,xref:t,handle:new mt,selector:e,i18nPlaceholder:n,fallbackView:r,projectionSlotIndex:0,attributes:null,localRefs:[],sourceSpan:i},ee),_n),{numSlotsUsed:r===null?1:2})}function dn(t,e,n,r,i,o,s,a){return I({kind:m.ExtractedAttribute,target:t,bindingKind:e,namespace:n,name:r,expression:i,i18nContext:o,i18nMessage:s,securityContext:a,trustedValueFn:null},ee)}function y1(t,e,n,r,i,o){return U(I(I({kind:m.Defer,xref:t,handle:new mt,mainView:e,mainSlot:n,loadingView:null,loadingSlot:null,loadingConfig:null,loadingMinimumTime:null,loadingAfterTime:null,placeholderView:null,placeholderSlot:null,placeholderConfig:null,placeholderMinimumTime:null,errorView:null,errorSlot:null,ownResolverFn:r,resolverFn:i,flags:null,sourceSpan:o},ee),_n),{numSlotsUsed:2})}function Hr(t,e,n,r){return I({kind:m.DeferOn,defer:t,trigger:e,modifier:n,sourceSpan:r},ee)}function _1(t,e,n){return I(I({kind:m.DeclareLet,xref:t,declaredName:e,sourceSpan:n,handle:new mt},_n),ee)}function E1(t,e,n,r,i,o,s,a){return I({kind:m.I18nMessage,xref:t,i18nContext:e,i18nBlock:n,message:r,messagePlaceholder:i,params:o,postprocessingParams:s,needsPostprocessing:a,subMessages:[]},ee)}function Cd(t,e,n,r){return I(I({kind:m.I18nStart,xref:t,handle:new mt,root:n??t,message:e,messageIndex:null,subTemplateIndex:null,context:null,sourceSpan:r},ee),_n)}function wd(t,e){return I({kind:m.I18nEnd,xref:t,sourceSpan:e},ee)}function C1(t,e,n,r){return I({kind:m.IcuStart,xref:t,message:e,messagePlaceholder:n,context:null,sourceSpan:r},ee)}function w1(t){return I({kind:m.IcuEnd,xref:t},ee)}function S1(t,e,n){return I({kind:m.IcuPlaceholder,xref:t,name:e,strings:n,expressionPlaceholders:[]},ee)}function nh(t,e,n,r,i){if(n===null&&t!==Ni.Attr)throw new Error("AssertionError: i18nBlock must be provided for non-attribute contexts.");return I({kind:m.I18nContext,contextKind:t,xref:e,i18nBlock:n,message:r,sourceSpan:i,params:new Map,postprocessingParams:new Map},ee)}function NC(t,e,n){return I(I({kind:m.I18nAttributes,xref:t,handle:e,target:n,i18nAttributesConfig:null},ee),_n)}function T1(t,e){return I({kind:m.SourceLocation,templatePath:t,locations:e},ee)}function x1(t,e,n,r,i,o){return I(I({kind:m.DomProperty,name:t,expression:e,bindingKind:n,i18nContext:r,securityContext:i,sanitizer:null,sourceSpan:o},Bt),ee)}var MC="CTX_REF_MARKER",B=(function(t){return t[t.Tmpl=0]="Tmpl",t[t.Host=1]="Host",t[t.Both=2]="Both",t})(B||{}),Pt=(function(t){return t[t.Full=0]="Full",t[t.DomOnly=1]="DomOnly",t})(Pt||{}),Yu=class{componentName;pool;compatibility;mode;constructor(e,n,r,i){this.componentName=e,this.pool=n,this.compatibility=r,this.mode=i}kind=B.Both;allocateXrefId(){return this.nextXrefId++}nextXrefId=0},Cl=class extends Yu{relativeContextFilePath;i18nUseExternalIds;deferMeta;allDeferrableDepsFn;relativeTemplatePath;enableDebugLocations;constructor(e,n,r,i,o,s,a,l,c,d){super(e,n,r,i),this.relativeContextFilePath=o,this.i18nUseExternalIds=s,this.deferMeta=a,this.allDeferrableDepsFn=l,this.relativeTemplatePath=c,this.enableDebugLocations=d,this.root=new fn(this,this.allocateXrefId(),null),this.views.set(this.root.xref,this.root)}kind=B.Tmpl;fnSuffix="Template";root;views=new Map;contentSelectors=null;allocateView(e){let n=new fn(this,this.allocateXrefId(),e);return this.views.set(n.xref,n),n}get units(){return this.views.values()}addConst(e,n){for(let i=0;i<this.consts.length;i++)if(this.consts[i].isEquivalent(e))return i;let r=this.consts.length;return this.consts.push(e),n&&this.constsInitializers.push(...n),r}consts=[];constsInitializers=[]},Ju=class{xref;constructor(e){this.xref=e}create=new k;update=new k;fnName=null;vars=null;*ops(){for(let e of this.create)if(yield e,e.kind===m.Listener||e.kind===m.Animation||e.kind===m.AnimationListener||e.kind===m.TwoWayListener)for(let n of e.handlerOps)yield n;else if(e.kind===m.RepeaterCreate&&e.trackByOps!==null)for(let n of e.trackByOps)yield n;for(let e of this.update)yield e}},fn=class extends Ju{job;parent;constructor(e,n,r){super(n),this.job=e,this.parent=r}contextVariables=new Map;aliases=new Set;decls=null},Ku=class extends Yu{constructor(e,n,r,i){super(e,n,r,i),this.root=new Kh(this)}kind=B.Host;fnSuffix="HostBindings";root;get units(){return[this.root]}},Kh=class extends Ju{job;constructor(e){super(0),this.job=e}attributes=null};function I1(t){for(let e of t.units)for(let n of e.ops())We(n,D1,we.None)}function D1(t){if(t instanceof Ot&&t.fn instanceof ct&&t.fn.name==="$any"){if(t.args.length!==1)throw new Error("The $any builtin function expects exactly one argument.");return t.args[0]}return t}function A1(t){let e=new Map;for(let n of t.units)for(let r of n.create)r.kind===m.I18nContext&&e.set(r.xref,r);for(let n of t.units)for(let r of n.update)r.kind===m.I18nExpression&&b1(e,r)&&k.insertAfter(o1(r.i18nOwner,r.handle,null),r)}function b1(t,e){if(e.next?.kind!==m.I18nExpression)return!0;let n=t.get(e.context),r=t.get(e.next.context);if(n===void 0)throw new Error("AssertionError: expected an I18nContextOp to exist for the I18nExpressionOp's context");if(r===void 0)throw new Error("AssertionError: expected an I18nContextOp to exist for the next I18nExpressionOp's context");return n.i18nBlock!==null?n.i18nBlock!==r.i18nBlock:e.i18nOwner!==e.next.i18nOwner}function k1(t){for(let e of t.units){let n=e.update.head,r=[],i=null;for(let o of e.create){if(o.kind===m.I18nStart)i={blockXref:o.xref,lastSlotConsumer:o.xref};else if(o.kind===m.I18nEnd){for(let s of r)s.target=i.lastSlotConsumer,k.insertBefore(s,n);r.length=0,i=null}if(Ts(o))for(i!==null&&(i.lastSlotConsumer=o.xref);n.next!==null;){if(i!==null&&n.kind===m.I18nExpression&&n.usage===ws.I18nText&&n.i18nOwner===i.blockXref){let a=n;n=n.next,k.remove(a),r.push(a);continue}let s=!1;if(ml(n)&&n.target!==o.xref?s=!0:(n.kind===m.Statement||n.kind===m.Variable)&&at(n,a=>{!s&&ml(a)&&a.target!==o.xref&&(s=!0)}),s)break;n=n.next}}}}function N1(t){if(!(!t.enableDebugLocations||t.relativeTemplatePath===null))for(let e of t.units){let n=[];for(let r of e.create)if(r.kind===m.ElementStart||r.kind===m.Element){let i=r.startSourceSpan.start;n.push({targetSlot:r.handle,offset:i.offset,line:i.line,column:i.col})}n.length>0&&e.create.push(T1(t.relativeTemplatePath,n))}}function ng(t){let e=new Map;for(let n of t.create)Ts(n)&&(e.set(n.xref,n),n.kind===m.RepeaterCreate&&n.emptyView!==null&&e.set(n.emptyView,n));return e}function M1(t){for(let e of t.units){let n=ng(e);for(let r of e.ops())switch(r.kind){case m.Attribute:P1(e,r,n);break;case m.Property:if(r.bindingKind!==$.LegacyAnimation&&r.bindingKind!==$.Animation){let i;r.i18nMessage!==null&&r.templateKind===null?i=$.I18n:r.isStructuralTemplateAttribute?i=$.Template:i=$.Property,k.insertBefore(dn(r.target,i,null,r.name,null,null,null,r.securityContext),Go(n,r.target))}break;case m.TwoWayProperty:k.insertBefore(dn(r.target,$.TwoWayProperty,null,r.name,null,null,null,r.securityContext),Go(n,r.target));break;case m.StyleProp:case m.ClassProp:e.job.compatibility===Xt.TemplateDefinitionBuilder&&r.expression instanceof _l&&k.insertBefore(dn(r.target,$.Property,null,r.name,null,null,null,Me.STYLE),Go(n,r.target));break;case m.Listener:if(!r.isLegacyAnimationListener){let i=dn(r.target,$.Property,null,r.name,null,null,null,Me.NONE);if(t.kind===B.Host){if(t.compatibility)break;e.create.push(i)}else k.insertBefore(i,Go(n,r.target))}break;case m.TwoWayListener:if(t.kind!==B.Host){let i=dn(r.target,$.Property,null,r.name,null,null,null,Me.NONE);k.insertBefore(i,Go(n,r.target))}break}}}function Go(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function P1(t,e,n){if(e.expression instanceof Ue)return;let r=e.isTextAttribute||e.expression.isConstant();if(t.job.compatibility===Xt.TemplateDefinitionBuilder&&(r&&=e.isTextAttribute),r){let i=dn(e.target,e.isStructuralTemplateAttribute?$.Template:$.Attribute,e.namespace,e.name,e.expression,e.i18nContext,e.i18nMessage,e.securityContext);if(t.job.kind===B.Host)t.create.push(i);else{let o=Go(n,e.target);k.insertBefore(i,o)}k.remove(e)}}var N_="aria-";function PC(t){return t.startsWith(N_)&&t.length>N_.length}function R1(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function L1(t){let e=new Map;for(let n of t.units)for(let r of n.create)Dr(r)&&e.set(r.xref,r);for(let n of t.units)for(let r of n.ops())if(r.kind===m.Binding)switch(r.bindingKind){case $.Attribute:if(r.name==="ngNonBindable"){k.remove(r);let i=R1(e,r.target);i.nonBindable=!0}else if(r.name.startsWith("animate."))k.replace(r,k_(r.name,r.target,r.name==="animate.enter"?"enter":"leave",r.expression,r.securityContext,r.sourceSpan,0));else{let[i,o]=Fn(r.name);k.replace(r,b_(r.target,i,o,r.expression,r.securityContext,r.isTextAttribute,r.isStructuralTemplateAttribute,r.templateKind,r.i18nMessage,r.sourceSpan))}break;case $.Animation:k.replace(r,k_(r.name,r.target,r.name==="animate.enter"?"enter":"leave",r.expression,r.securityContext,r.sourceSpan,1));break;case $.Property:case $.LegacyAnimation:t.mode===Pt.DomOnly&&PC(r.name)?k.replace(r,b_(r.target,null,r.name,r.expression,r.securityContext,!1,r.isStructuralTemplateAttribute,r.templateKind,r.i18nMessage,r.sourceSpan)):t.kind===B.Host?k.replace(r,x1(r.name,r.expression,r.bindingKind,r.i18nContext,r.securityContext,r.sourceSpan)):k.replace(r,Kb(r.target,r.name,r.expression,r.bindingKind,r.securityContext,r.isStructuralTemplateAttribute,r.templateKind,r.i18nContext,r.i18nMessage,r.sourceSpan));break;case $.TwoWayProperty:if(!(r.expression instanceof De))throw new Error(`Expected value of two-way property binding "${r.name}" to be an expression`);k.replace(r,Xb(r.target,r.name,r.expression,r.securityContext,r.isStructuralTemplateAttribute,r.templateKind,r.i18nContext,r.i18nMessage,r.sourceSpan));break;case $.I18n:case $.ClassName:case $.StyleProperty:throw new Error(`Unhandled binding of kind ${$[r.bindingKind]}`)}}var M_=new Map([[y.ariaProperty,y.ariaProperty],[y.attribute,y.attribute],[y.classProp,y.classProp],[y.element,y.element],[y.elementContainer,y.elementContainer],[y.elementContainerEnd,y.elementContainerEnd],[y.elementContainerStart,y.elementContainerStart],[y.elementEnd,y.elementEnd],[y.elementStart,y.elementStart],[y.domProperty,y.domProperty],[y.i18nExp,y.i18nExp],[y.listener,y.listener],[y.listener,y.listener],[y.property,y.property],[y.styleProp,y.styleProp],[y.syntheticHostListener,y.syntheticHostListener],[y.syntheticHostProperty,y.syntheticHostProperty],[y.templateCreate,y.templateCreate],[y.twoWayProperty,y.twoWayProperty],[y.twoWayListener,y.twoWayListener],[y.declareLet,y.declareLet],[y.conditionalCreate,y.conditionalBranchCreate],[y.conditionalBranchCreate,y.conditionalBranchCreate],[y.domElement,y.domElement],[y.domElementStart,y.domElementStart],[y.domElementEnd,y.domElementEnd],[y.domElementContainer,y.domElementContainer],[y.domElementContainerStart,y.domElementContainerStart],[y.domElementContainerEnd,y.domElementContainerEnd],[y.domListener,y.domListener],[y.domTemplate,y.domTemplate],[y.animationEnter,y.animationEnter],[y.animationLeave,y.animationLeave],[y.animationEnterListener,y.animationEnterListener],[y.animationLeaveListener,y.animationLeaveListener]]),F1=256;function O1(t){for(let e of t.units)P_(e.create),P_(e.update)}function P_(t){let e=null;for(let n of t){if(n.kind!==m.Statement||!(n.statement instanceof gn)){e=null;continue}if(!(n.statement.expr instanceof Ot)||!(n.statement.expr.fn instanceof Vi)){e=null;continue}let r=n.statement.expr.fn.value;if(!M_.has(r)){e=null;continue}if(e!==null&&M_.get(e.instruction)===r&&e.length<F1){let i=e.expression.callFn(n.statement.expr.args,n.statement.expr.sourceSpan,n.statement.expr.pure);e.expression=i,e.op.statement=i.toStmt(),e.length++,k.remove(n)}else e={op:n,instruction:r,expression:n.statement.expr,length:1}}}function B1(t){for(let e of t.units)for(let n of e.update)(n.kind===m.Attribute||n.kind===m.StyleProp||n.kind==m.StyleMap||n.kind===m.ClassMap)&&n.expression instanceof Ue&&n.expression.strings.length===2&&n.expression.strings.every(i=>i==="")&&(n.expression=n.expression.expressions[0])}function V1(t){for(let e of t.units)for(let n of e.ops()){if(n.kind!==m.Conditional)continue;let r,i=n.conditions.findIndex(a=>a.expr===null);if(i>=0){let a=n.conditions.splice(i,1)[0].targetSlot;r=new zu(a)}else r=T(-1);let o=n.test==null?null:new sr(n.test,t.allocateXrefId()),s=null;for(let a=n.conditions.length-1;a>=0;a--){let l=n.conditions[a];if(l.expr!==null){if(o!==null){let c=a===0?o:new ni(o.xref);l.expr=new ve(M.Identical,c,l.expr)}else l.alias!==null&&(s??=t.allocateXrefId(),l.expr=new sr(l.expr,s),n.contextValue=new ni(s));r=new er(l.expr,new zu(l.targetSlot),r)}}n.processed=r,n.conditions=[]}}var $1=new Map([["&&",M.And],[">",M.Bigger],[">=",M.BiggerEquals],["|",M.BitwiseOr],["&",M.BitwiseAnd],["/",M.Divide],["=",M.Assign],["==",M.Equals],["===",M.Identical],["<",M.Lower],["<=",M.LowerEquals],["-",M.Minus],["%",M.Modulo],["**",M.Exponentiation],["*",M.Multiply],["!=",M.NotEquals],["!==",M.NotIdentical],["??",M.NullishCoalesce],["||",M.Or],["+",M.Plus],["in",M.In],["+=",M.AdditionAssignment],["-=",M.SubtractionAssignment],["*=",M.MultiplicationAssignment],["/=",M.DivisionAssignment],["%=",M.RemainderAssignment],["**=",M.ExponentiationAssignment],["&&=",M.AndAssignment],["||=",M.OrAssignment],["??=",M.NullishCoalesceAssignment]]);function RC(t){let e=new Map([["svg",_t.SVG],["math",_t.Math]]);return t===null?_t.HTML:e.get(t)??_t.HTML}function U1(t){let e=new Map([["svg",_t.SVG],["math",_t.Math]]);for(let[n,r]of e.entries())if(r===t)return n;return null}function H1(t,e){return e===_t.HTML?t:`:${U1(e)}:${t}`}function ys(t){return Array.isArray(t)?xe(t.map(ys)):T(t)}function q1(t){let e=new Map;for(let n of t.units)for(let r of n.create)if(r.kind===m.ExtractedAttribute){let i=e.get(r.target)||new Xh(t.compatibility);e.set(r.target,i),i.add(r.bindingKind,r.name,r.expression,r.namespace,r.trustedValueFn),k.remove(r)}if(t instanceof Cl)for(let n of t.units)for(let r of n.create)if(r.kind==m.Projection){let i=e.get(r.xref);if(i!==void 0){let o=Zh(i);o.entries.length>0&&(r.attributes=o)}}else Dr(r)&&(r.attributes=R_(t,e,r.xref),r.kind===m.RepeaterCreate&&r.emptyView!==null&&(r.emptyAttributes=R_(t,e,r.emptyView)));else if(t instanceof Ku)for(let[n,r]of e.entries()){if(n!==t.root.xref)throw new Error("An attribute would be const collected into the host binding's template function, but is not associated with the root xref.");let i=Zh(r);i.entries.length>0&&(t.root.attributes=i)}}function R_(t,e,n){let r=e.get(n);if(r!==void 0){let i=Zh(r);if(i.entries.length>0)return t.addConst(i)}return null}var Vo=Object.freeze([]),Xh=class{compatibility;known=new Map;byKind=new Map;propertyBindings=null;projectAs=null;get attributes(){return this.byKind.get($.Attribute)??Vo}get classes(){return this.byKind.get($.ClassName)??Vo}get styles(){return this.byKind.get($.StyleProperty)??Vo}get bindings(){return this.propertyBindings??Vo}get template(){return this.byKind.get($.Template)??Vo}get i18n(){return this.byKind.get($.I18n)??Vo}constructor(e){this.compatibility=e}isKnown(e,n){let r=this.known.get(e)??new Set;return this.known.set(e,r),r.has(n)?!0:(r.add(n),!1)}add(e,n,r,i,o){if(!(this.compatibility===Xt.TemplateDefinitionBuilder&&(e===$.Attribute||e===$.ClassName||e===$.StyleProperty))&&this.isKnown(e,n))return;if(n==="ngProjectAs"){if(r===null||!(r instanceof ht)||r.value==null||typeof r.value?.toString()!="string")throw Error("ngProjectAs must have a string literal value");this.projectAs=r.value.toString()}let a=this.arrayFor(e);if(a.push(...G1(i,n)),e===$.Attribute||e===$.StyleProperty){if(r===null)throw Error("Attribute, i18n attribute, & style element attributes must have a value");if(o!==null){if(!SC(r))throw Error("AssertionError: extracted attribute value should be string literal");a.push(lA(o,new Va([new uu(r.value)],[]),void 0,r.sourceSpan))}else a.push(r)}}arrayFor(e){return e===$.Property||e===$.TwoWayProperty?(this.propertyBindings??=[],this.propertyBindings):(this.byKind.has(e)||this.byKind.set(e,[]),this.byKind.get(e))}};function G1(t,e){let n=T(e);return t?[T(0),T(t),n]:[n]}function Zh({attributes:t,bindings:e,classes:n,i18n:r,projectAs:i,styles:o,template:s}){let a=[...t];if(i!==null){let l=$m(i)[0];a.push(T(5),ys(l))}return n.length>0&&a.push(T(1),...n),o.length>0&&a.push(T(2),...o),e.length>0&&a.push(T(3),...e),s.length>0&&a.push(T(4),...s),r.length>0&&a.push(T(6),...r),xe(a)}function z1(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function W1(t){let e=new Map;for(let n of t.units)for(let r of n.create)Dr(r)&&e.set(r.xref,r);for(let n of t.units)for(let r of n.ops())if(r.kind===m.AnimationBinding){let i=j1(r);t.kind===B.Host?n.create.push(i):k.insertAfter(i,z1(e,r.target)),k.remove(r)}}function j1(t){if(t.animationBindingKind===0)return p1(t.name,t.target,t.name==="animate.enter"?"enter":"leave",t.expression,t.securityContext,t.sourceSpan);{let e=t.expression;return h1(t.name,t.target,t.name==="animate.enter"?"enter":"leave",[yn(new ft(e,e.sourceSpan))],t.securityContext,t.sourceSpan)}}function Y1(t){let e=new Map;for(let n of t.units){for(let r of n.create)r.kind===m.I18nAttributes&&e.set(r.target,r);for(let r of n.update)switch(r.kind){case m.Property:case m.Attribute:if(r.i18nContext===null||!(r.expression instanceof Ue))continue;let i=e.get(r.target);if(i===void 0)throw new Error("AssertionError: An i18n attribute binding instruction requires the owning element to have an I18nAttributes create instruction");if(i.target!==r.target)throw new Error("AssertionError: Expected i18nAttributes target element to match binding target element");let o=[];for(let s=0;s<r.expression.expressions.length;s++){let a=r.expression.expressions[s];if(r.expression.i18nPlaceholders.length!==r.expression.expressions.length)throw new Error(`AssertionError: An i18n attribute binding instruction requires the same number of expressions and placeholders, but found ${r.expression.i18nPlaceholders.length} placeholders and ${r.expression.expressions.length} expressions`);o.push(wC(r.i18nContext,i.target,i.xref,i.handle,a,null,r.expression.i18nPlaceholders[s],hl.Creation,ws.I18nAttribute,r.name,r.sourceSpan))}k.replaceWithMany(r,o);break}}}function J1(t){let e=new Map;for(let i of t.units)for(let o of i.ops())switch(o.kind){case m.Binding:case m.Property:case m.Attribute:case m.ExtractedAttribute:if(o.i18nMessage===null)continue;if(!e.has(o.i18nMessage)){let s=nh(Ni.Attr,t.allocateXrefId(),null,o.i18nMessage,null);i.create.push(s),e.set(o.i18nMessage,s.xref)}o.i18nContext=e.get(o.i18nMessage);break}let n=new Map;for(let i of t.units)for(let o of i.create)switch(o.kind){case m.I18nStart:if(o.xref===o.root){let s=nh(Ni.RootI18n,t.allocateXrefId(),o.xref,o.message,null);i.create.push(s),o.context=s.xref,n.set(o.xref,s)}break}for(let i of t.units)for(let o of i.create)if(o.kind===m.I18nStart&&o.xref!==o.root){let s=n.get(o.root);if(s===void 0)throw Error("AssertionError: Root i18n block i18n context should have been created.");o.context=s.xref,n.set(o.xref,s)}let r=null;for(let i of t.units)for(let o of i.create)switch(o.kind){case m.I18nStart:r=o;break;case m.I18nEnd:r=null;break;case m.IcuStart:if(r===null)throw Error("AssertionError: Unexpected ICU outside of an i18n block.");if(o.message.id!==r.message.id){let s=nh(Ni.Icu,t.allocateXrefId(),r.root,o.message,null);i.create.push(s),o.context=s.xref}else o.context=r.context,n.get(r.xref).contextKind=Ni.Icu;break}}function K1(t){let e=new Map;for(let n of t.units)for(let r of n.update.reversed())if(r.kind===m.Binding&&r.isTextAttribute){let i=e.get(r.target)||new Set;i.has(r.name)&&t.compatibility===Xt.TemplateDefinitionBuilder&&(r.name==="style"||r.name==="class")&&k.remove(r),i.add(r.name),e.set(r.target,i)}}function X1(t){for(let e of t.units)for(let n of e.create)n.kind===m.Defer&&(n.placeholderMinimumTime!==null&&(n.placeholderConfig=new El(ys([n.placeholderMinimumTime]))),(n.loadingMinimumTime!==null||n.loadingAfterTime!==null)&&(n.loadingConfig=new El(ys([n.loadingMinimumTime,n.loadingAfterTime]))))}function Z1(t){let e=new Map;function n(i){if(e.has(i.xref))return e.get(i.xref);let o=new Q1;for(let s of i.create)if(!(!Dr(s)||s.localRefs===null)){if(!Array.isArray(s.localRefs))throw new Error("LocalRefs were already processed, but were needed to resolve defer targets.");for(let a of s.localRefs)a.target===""&&o.targets.set(a.name,{xref:s.xref,slot:s.handle})}return e.set(i.xref,o),o}function r(i,o,s){switch(o.trigger.kind){case Ae.Idle:case Ae.Never:case Ae.Immediate:case Ae.Timer:return;case Ae.Hover:case Ae.Interaction:case Ae.Viewport:if(o.trigger.targetName===null){if(s===null)throw new Error("defer on trigger with no target name must have a placeholder block");let c=t.views.get(s);if(c==null)throw new Error("AssertionError: could not find placeholder view for defer on trigger");for(let d of c.create)if(Ts(d)&&(Dr(d)||d.kind===m.Projection)){o.trigger.targetXref=d.xref,o.trigger.targetView=s,o.trigger.targetSlotViewSteps=-1,o.trigger.targetSlot=d.handle;return}return}let a=s!==null?t.views.get(s):i,l=s!==null?-1:0;for(;a!==null;){let c=n(a);if(c.targets.has(o.trigger.targetName)){let{xref:d,slot:p}=c.targets.get(o.trigger.targetName);o.trigger.targetXref=d,o.trigger.targetView=a.xref,o.trigger.targetSlotViewSteps=l,o.trigger.targetSlot=p;return}a=a.parent!==null?t.views.get(a.parent):null,l++}break;default:throw new Error(`Trigger kind ${o.trigger.kind} not handled`)}}for(let i of t.units){let o=new Map;for(let s of i.create)switch(s.kind){case m.Defer:o.set(s.xref,s);break;case m.DeferOn:let a=o.get(s.defer);r(i,s,s.modifier==="hydrate"?a.mainView:a.placeholderView);break}}}var Q1=class{targets=new Map},ek=new Map([[m.ElementEnd,[m.ElementStart,m.Element]],[m.ContainerEnd,[m.ContainerStart,m.Container]],[m.I18nEnd,[m.I18nStart,m.I18n]]]),tk=new Set([m.Pipe]);function nk(t){for(let e of t.units)for(let n of e.create){let r=ek.get(n.kind);if(r===void 0)continue;let[i,o]=r,s=n.prev;for(;s!==null&&tk.has(s.kind);)s=s.prev;s!==null&&s.kind===i&&(s.kind=o,k.remove(n))}}function rk(t){for(let e of t.units)for(let n of e.ops())We(n,r=>ck(r,{job:t}),we.None),We(n,uk,we.None)}function Ut(t){return t instanceof Ui?Ut(t.expr):t instanceof ve?Ut(t.lhs)||Ut(t.rhs):t instanceof er?t.falseCase&&Ut(t.falseCase)?!0:Ut(t.condition)||Ut(t.trueCase):t instanceof $a?Ut(t.condition):t instanceof sr?Ut(t.expr):t instanceof Kt?Ut(t.receiver):t instanceof Ir?Ut(t.receiver)||Ut(t.index):t instanceof Pn?Ut(t.expr):t instanceof Ot||t instanceof Rn||t instanceof tr||t instanceof Xi||t instanceof Ki}function ik(t){let e=new Set;return V(t,n=>(n instanceof sr&&e.add(n.xref),n),we.None),e}function ok(t,e,n){return V(t,r=>{if(r instanceof sr&&e.has(r.xref)){let i=new ni(r.xref);return n.job.compatibility===Xt.TemplateDefinitionBuilder?new sr(i,i.xref):i}return r},we.None),t}function $o(t,e,n){let r;if(Ut(t)){let i=n.job.allocateXrefId();r=[new sr(t,i),new ni(i)]}else r=[t,t.clone()],ok(r[1],ik(r[0]),n);return new vs(r[0],e(r[1]))}function sk(t){return t instanceof ms||t instanceof gs||t instanceof Xi}function ak(t){return t instanceof Kt||t instanceof Ir||t instanceof Ot}function LC(t){return sk(t)||ak(t)}function lk(t){if(LC(t)&&t.receiver instanceof vs){let e=t.receiver;for(;e.expr instanceof vs;)e=e.expr;return e}return null}function ck(t,e){if(!LC(t))return t;let n=lk(t);if(n){if(t instanceof Ot)return n.expr=n.expr.callFn(t.args),t.receiver;if(t instanceof Kt)return n.expr=n.expr.prop(t.name),t.receiver;if(t instanceof Ir)return n.expr=n.expr.key(t.index),t.receiver;if(t instanceof Xi)return n.expr=$o(n.expr,r=>r.callFn(t.args),e),t.receiver;if(t instanceof ms)return n.expr=$o(n.expr,r=>r.prop(t.name),e),t.receiver;if(t instanceof gs)return n.expr=$o(n.expr,r=>r.key(t.index),e),t.receiver}else{if(t instanceof Xi)return $o(t.receiver,r=>r.callFn(t.args),e);if(t instanceof ms)return $o(t.receiver,r=>r.prop(t.name),e);if(t instanceof gs)return $o(t.receiver,r=>r.key(t.index),e)}return t}function uk(t){return t instanceof vs?new Pn(new er(new ve(M.Equals,t.guard,is),is,t.expr)):t}var L_="\uFFFD",dk="#",fk="*",pk="/",hk=":",mk="[",gk="]",vk="|";function yk(t){let e=new Map,n=new Map,r=new Map;for(let o of t.units)for(let s of o.create)switch(s.kind){case m.I18nContext:let a=_k(t,s);o.create.push(a),e.set(s.xref,a),r.set(s.xref,s);break;case m.I18nStart:n.set(s.xref,s);break}let i=null;for(let o of t.units)for(let s of o.create)switch(s.kind){case m.IcuStart:i=s,k.remove(s);let a=r.get(s.context);if(a.contextKind!==Ni.Icu)continue;let l=n.get(a.i18nBlock);if(l.context===a.xref)continue;let c=n.get(l.root),d=e.get(c.context);if(d===void 0)throw Error("AssertionError: ICU sub-message should belong to a root message.");let p=e.get(a.xref);p.messagePlaceholder=s.messagePlaceholder,d.subMessages.push(p.xref);break;case m.IcuEnd:i=null,k.remove(s);break;case m.IcuPlaceholder:if(i===null||i.context==null)throw Error("AssertionError: Unexpected ICU placeholder outside of i18n context");e.get(i.context).postprocessingParams.set(s.name,T(Ek(s))),k.remove(s);break}}function _k(t,e,n){let r=F_(e.params),i=F_(e.postprocessingParams),o=[...e.params.values()].some(s=>s.length>1);return E1(t.allocateXrefId(),e.xref,e.i18nBlock,e.message,null,r,i,o)}function Ek(t){if(t.strings.length!==t.expressionPlaceholders.length+1)throw Error(`AssertionError: Invalid ICU placeholder with ${t.strings.length} strings and ${t.expressionPlaceholders.length} expressions`);let e=t.expressionPlaceholders.map(Yo);return t.strings.flatMap((n,r)=>[n,e[r]||""]).join("")}function F_(t){let e=new Map;for(let[n,r]of t){let i=Ck(r);i!==null&&e.set(n,T(i))}return e}function Ck(t){if(t.length===0)return null;let e=t.map(n=>Yo(n));return e.length===1?e[0]:`${mk}${e.join(vk)}${gk}`}function Yo(t){if(t.flags&Ne.ElementTag&&t.flags&Ne.TemplateTag){if(typeof t.value!="object")throw Error("AssertionError: Expected i18n param value to have an element and template slot");let i=Yo(U(I({},t),{value:t.value.element,flags:t.flags&~Ne.TemplateTag})),o=Yo(U(I({},t),{value:t.value.template,flags:t.flags&~Ne.ElementTag}));return t.flags&Ne.OpenTag&&t.flags&Ne.CloseTag?`${o}${i}${o}`:t.flags&Ne.CloseTag?`${i}${o}`:`${o}${i}`}if(t.flags&Ne.OpenTag&&t.flags&Ne.CloseTag)return`${Yo(U(I({},t),{flags:t.flags&~Ne.CloseTag}))}${Yo(U(I({},t),{flags:t.flags&~Ne.OpenTag}))}`;if(t.flags===Ne.None)return`${t.value}`;let e="",n="";t.flags&Ne.ElementTag?e=dk:t.flags&Ne.TemplateTag&&(e=fk),e!==""&&(n=t.flags&Ne.CloseTag?pk:"");let r=t.subTemplateIndex===null?"":`${hk}${t.subTemplateIndex}`;return`${L_}${n}${e}${t.value}${r}${L_}`}function wk(t){for(let e of t.units){let n=new Map;for(let i of e.create){if(Ts(i)){if(i.handle.slot===null)throw new Error("AssertionError: expected slots to have been allocated before generating advance() calls")}else continue;n.set(i.xref,i.handle.slot)}let r=0;for(let i of e.update){let o=null;if(ml(i)?o=i:at(i,a=>{o===null&&ml(a)&&(o=a)}),o===null)continue;if(!n.has(o.target))throw new Error(`AssertionError: reference to unknown slot for target ${o.target}`);let s=n.get(o.target);if(r!==s){let a=s-r;if(a<0)throw new Error("AssertionError: slot counter should never need to move backwards");k.insertBefore(n1(a,o.sourceSpan),i),r=s}}}}function Sk(t){for(let e of t.units)for(let n of e.update){if(n.kind!==m.StoreLet)continue;let r={kind:ot.Identifier,name:null,identifier:n.declaredName,local:!0};k.replace(n,zr(t.allocateXrefId(),r,new gl(n.target,n.value,n.sourceSpan),un.None))}}function Tk(t){let e=t.compatibility===Xt.TemplateDefinitionBuilder,n=[],r=0;for(let i of t.units)for(let o of i.create)o.kind===m.Projection&&(n.push(o.selector),o.projectionSlotIndex=r++);if(n.length>0){let i=null;if(n.length>1||n[0]!=="*"){let o=n.map(s=>s==="*"?s:$m(s));i=t.pool.getConstLiteral(ys(o),e)}t.contentSelectors=t.pool.getConstLiteral(ys(n),e),t.root.create.prepend([g1(i)])}}function xk(t){Da(t.root,null)}function Da(t,e){let n=Ik(t,e);for(let r of t.create)switch(r.kind){case m.ConditionalCreate:case m.ConditionalBranchCreate:case m.Template:Da(t.job.views.get(r.xref),n);break;case m.Projection:r.fallbackView!==null&&Da(t.job.views.get(r.fallbackView),n);break;case m.RepeaterCreate:Da(t.job.views.get(r.xref),n),r.emptyView&&Da(t.job.views.get(r.emptyView),n),r.trackByOps!==null&&r.trackByOps.prepend(tu(t,n,!1));break;case m.Animation:case m.AnimationListener:case m.Listener:case m.TwoWayListener:r.handlerOps.prepend(tu(t,n,!0));break}t.update.prepend(tu(t,n,!1))}function Ik(t,e){let n={view:t.xref,viewContextVariable:{kind:ot.Context,name:null,view:t.xref},contextVariables:new Map,aliases:t.aliases,references:[],letDeclarations:[],parent:e};for(let r of t.contextVariables.keys())n.contextVariables.set(r,{kind:ot.Identifier,name:null,identifier:r,local:!1});for(let r of t.create)switch(r.kind){case m.ElementStart:case m.ConditionalCreate:case m.ConditionalBranchCreate:case m.Template:if(!Array.isArray(r.localRefs))throw new Error("AssertionError: expected localRefs to be an array");for(let i=0;i<r.localRefs.length;i++)n.references.push({name:r.localRefs[i].name,targetId:r.xref,targetSlot:r.handle,offset:i,variable:{kind:ot.Identifier,name:null,identifier:r.localRefs[i].name,local:!1}});break;case m.DeclareLet:n.letDeclarations.push({targetId:r.xref,targetSlot:r.handle,variable:{kind:ot.Identifier,name:null,identifier:r.declaredName,local:!1}});break}return n}function tu(t,e,n){let r=[];e.view!==t.xref&&r.push(zr(t.job.allocateXrefId(),e.viewContextVariable,new Hu,un.None));let i=t.job.views.get(e.view);for(let[o,s]of i.contextVariables){let a=new ti(e.view),l=s===MC?a:new Kt(a,s);r.push(zr(t.job.allocateXrefId(),e.contextVariables.get(o),l,un.None))}for(let o of i.aliases)r.push(zr(t.job.allocateXrefId(),o,o.expression.clone(),un.AlwaysInline));for(let o of e.references)r.push(zr(t.job.allocateXrefId(),o.variable,new Uu(o.targetId,o.targetSlot,o.offset),un.None));if(e.view!==t.xref||n)for(let o of e.letDeclarations)r.push(zr(t.job.allocateXrefId(),o.variable,new vl(o.targetId,o.targetSlot),un.None));return e.parent!==null&&r.push(...tu(t,e.parent,!1)),r}function Dk(t){for(let e of t.units)for(let n of e.ops())We(n,r=>r instanceof El?T(t.addConst(r.expr)):r,we.None)}var O_="style.",B_="class.",Ak="style!",V_="class!",$_="!important";function bk(t){for(let e of t.root.update)if(e.kind===m.Binding&&e.bindingKind===$.Property)if(e.name.endsWith($_)&&(e.name=e.name.substring(0,e.name.length-$_.length)),e.name.startsWith(O_)){e.bindingKind=$.StyleProperty,e.name=e.name.substring(O_.length),kk(e.name)||(e.name=Nk(e.name));let{property:n,suffix:r}=rh(e.name);e.name=n,e.unit=r}else e.name.startsWith(Ak)?(e.bindingKind=$.StyleProperty,e.name="style"):e.name.startsWith(B_)?(e.bindingKind=$.ClassName,e.name=rh(e.name.substring(B_.length)).property):e.name.startsWith(V_)&&(e.bindingKind=$.ClassName,e.name=rh(e.name.substring(V_.length)).property)}function kk(t){return t.startsWith("--")}function Nk(t){return t.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function rh(t){let e=t.indexOf("!important");e!==-1&&(t=e>0?t.substring(0,e):"");let n=null,r=t,i=t.lastIndexOf(".");return i>0&&(n=t.slice(i+1),r=t.substring(0,i)),{property:r,suffix:n}}function Qh(t,e=!1){return At(Object.keys(t).map(n=>({key:n,quoted:e,value:t[n]})))}var em=class{visitText(e){return e.value}visitContainer(e){return e.children.map(n=>n.visit(this)).join("")}visitIcu(e){let n=Object.keys(e.cases).map(i=>`${i} {${e.cases[i].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${n.join(" ")}}`}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitBlockPlaceholder(e){return`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitIcuPlaceholder(e,n){return this.formatPh(e.name)}formatPh(e){return`{${Pl(e,!1)}}`}},Mk=new em;function FC(t){return t.visit(Mk)}var Ar=class{sourceSpan;i18n;constructor(e,n){this.sourceSpan=e,this.i18n=n}},Zi=class extends Ar{value;tokens;constructor(e,n,r,i){super(n,i),this.value=e,this.tokens=r}visit(e,n){return e.visitText(this,n)}},Li=class extends Ar{switchValue;type;cases;switchValueSourceSpan;constructor(e,n,r,i,o,s){super(i,s),this.switchValue=e,this.type=n,this.cases=r,this.switchValueSourceSpan=o}visit(e,n){return e.visitExpansion(this,n)}},Xu=class{value;expression;sourceSpan;valueSourceSpan;expSourceSpan;constructor(e,n,r,i,o){this.value=e,this.expression=n,this.sourceSpan=r,this.valueSourceSpan=i,this.expSourceSpan=o}visit(e,n){return e.visitExpansionCase(this,n)}},tm=class extends Ar{name;value;keySpan;valueSpan;valueTokens;constructor(e,n,r,i,o,s,a){super(r,a),this.name=e,this.value=n,this.keySpan=i,this.valueSpan=o,this.valueTokens=s}visit(e,n){return e.visitAttribute(this,n)}},ln=class extends Ar{name;attrs;directives;children;isSelfClosing;startSourceSpan;endSourceSpan;isVoid;constructor(e,n,r,i,o,s,a,l=null,c,d){super(s,d),this.name=e,this.attrs=n,this.directives=r,this.children=i,this.isSelfClosing=o,this.startSourceSpan=a,this.endSourceSpan=l,this.isVoid=c}visit(e,n){return e.visitElement(this,n)}},wl=class{value;sourceSpan;constructor(e,n){this.value=e,this.sourceSpan=n}visit(e,n){return e.visitComment(this,n)}},cn=class extends Ar{name;parameters;children;nameSpan;startSourceSpan;endSourceSpan;constructor(e,n,r,i,o,s,a=null,l){super(i,l),this.name=e,this.parameters=n,this.children=r,this.nameSpan=o,this.startSourceSpan=s,this.endSourceSpan=a}visit(e,n){return e.visitBlock(this,n)}},Rt=class extends Ar{componentName;tagName;fullName;attrs;directives;children;isSelfClosing;startSourceSpan;endSourceSpan;constructor(e,n,r,i,o,s,a,l,c,d=null,p){super(l,p),this.componentName=e,this.tagName=n,this.fullName=r,this.attrs=i,this.directives=o,this.children=s,this.isSelfClosing=a,this.startSourceSpan=c,this.endSourceSpan=d}visit(e,n){return e.visitComponent(this,n)}},nm=class{name;attrs;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,n,r,i,o=null){this.name=e,this.attrs=n,this.sourceSpan=r,this.startSourceSpan=i,this.endSourceSpan=o}visit(e,n){return e.visitDirective(this,n)}},Zu=class{expression;sourceSpan;constructor(e,n){this.expression=e,this.sourceSpan=n}visit(e,n){return e.visitBlockParameter(this,n)}},Qu=class{name;value;sourceSpan;nameSpan;valueSpan;constructor(e,n,r,i,o){this.name=e,this.value=n,this.sourceSpan=r,this.nameSpan=i,this.valueSpan=o}visit(e,n){return e.visitLetDeclaration(this,n)}};function Re(t,e,n=null){let r=[],i=t.visit?o=>t.visit(o,n)||o.visit(t,n):o=>o.visit(t,n);return e.forEach(o=>{let s=i(o);s&&r.push(s)}),r}var Sl={AElig:"\xC6",AMP:"&",amp:"&",Aacute:"\xC1",Abreve:"\u0102",Acirc:"\xC2",Acy:"\u0410",Afr:"\u{1D504}",Agrave:"\xC0",Alpha:"\u0391",Amacr:"\u0100",And:"\u2A53",Aogon:"\u0104",Aopf:"\u{1D538}",ApplyFunction:"\u2061",af:"\u2061",Aring:"\xC5",angst:"\xC5",Ascr:"\u{1D49C}",Assign:"\u2254",colone:"\u2254",coloneq:"\u2254",Atilde:"\xC3",Auml:"\xC4",Backslash:"\u2216",setminus:"\u2216",setmn:"\u2216",smallsetminus:"\u2216",ssetmn:"\u2216",Barv:"\u2AE7",Barwed:"\u2306",doublebarwedge:"\u2306",Bcy:"\u0411",Because:"\u2235",becaus:"\u2235",because:"\u2235",Bernoullis:"\u212C",Bscr:"\u212C",bernou:"\u212C",Beta:"\u0392",Bfr:"\u{1D505}",Bopf:"\u{1D539}",Breve:"\u02D8",breve:"\u02D8",Bumpeq:"\u224E",HumpDownHump:"\u224E",bump:"\u224E",CHcy:"\u0427",COPY:"\xA9",copy:"\xA9",Cacute:"\u0106",Cap:"\u22D2",CapitalDifferentialD:"\u2145",DD:"\u2145",Cayleys:"\u212D",Cfr:"\u212D",Ccaron:"\u010C",Ccedil:"\xC7",Ccirc:"\u0108",Cconint:"\u2230",Cdot:"\u010A",Cedilla:"\xB8",cedil:"\xB8",CenterDot:"\xB7",centerdot:"\xB7",middot:"\xB7",Chi:"\u03A7",CircleDot:"\u2299",odot:"\u2299",CircleMinus:"\u2296",ominus:"\u2296",CirclePlus:"\u2295",oplus:"\u2295",CircleTimes:"\u2297",otimes:"\u2297",ClockwiseContourIntegral:"\u2232",cwconint:"\u2232",CloseCurlyDoubleQuote:"\u201D",rdquo:"\u201D",rdquor:"\u201D",CloseCurlyQuote:"\u2019",rsquo:"\u2019",rsquor:"\u2019",Colon:"\u2237",Proportion:"\u2237",Colone:"\u2A74",Congruent:"\u2261",equiv:"\u2261",Conint:"\u222F",DoubleContourIntegral:"\u222F",ContourIntegral:"\u222E",conint:"\u222E",oint:"\u222E",Copf:"\u2102",complexes:"\u2102",Coproduct:"\u2210",coprod:"\u2210",CounterClockwiseContourIntegral:"\u2233",awconint:"\u2233",Cross:"\u2A2F",Cscr:"\u{1D49E}",Cup:"\u22D3",CupCap:"\u224D",asympeq:"\u224D",DDotrahd:"\u2911",DJcy:"\u0402",DScy:"\u0405",DZcy:"\u040F",Dagger:"\u2021",ddagger:"\u2021",Darr:"\u21A1",Dashv:"\u2AE4",DoubleLeftTee:"\u2AE4",Dcaron:"\u010E",Dcy:"\u0414",Del:"\u2207",nabla:"\u2207",Delta:"\u0394",Dfr:"\u{1D507}",DiacriticalAcute:"\xB4",acute:"\xB4",DiacriticalDot:"\u02D9",dot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",dblac:"\u02DD",DiacriticalGrave:"`",grave:"`",DiacriticalTilde:"\u02DC",tilde:"\u02DC",Diamond:"\u22C4",diam:"\u22C4",diamond:"\u22C4",DifferentialD:"\u2146",dd:"\u2146",Dopf:"\u{1D53B}",Dot:"\xA8",DoubleDot:"\xA8",die:"\xA8",uml:"\xA8",DotDot:"\u20DC",DotEqual:"\u2250",doteq:"\u2250",esdot:"\u2250",DoubleDownArrow:"\u21D3",Downarrow:"\u21D3",dArr:"\u21D3",DoubleLeftArrow:"\u21D0",Leftarrow:"\u21D0",lArr:"\u21D0",DoubleLeftRightArrow:"\u21D4",Leftrightarrow:"\u21D4",hArr:"\u21D4",iff:"\u21D4",DoubleLongLeftArrow:"\u27F8",Longleftarrow:"\u27F8",xlArr:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",Longleftrightarrow:"\u27FA",xhArr:"\u27FA",DoubleLongRightArrow:"\u27F9",Longrightarrow:"\u27F9",xrArr:"\u27F9",DoubleRightArrow:"\u21D2",Implies:"\u21D2",Rightarrow:"\u21D2",rArr:"\u21D2",DoubleRightTee:"\u22A8",vDash:"\u22A8",DoubleUpArrow:"\u21D1",Uparrow:"\u21D1",uArr:"\u21D1",DoubleUpDownArrow:"\u21D5",Updownarrow:"\u21D5",vArr:"\u21D5",DoubleVerticalBar:"\u2225",par:"\u2225",parallel:"\u2225",shortparallel:"\u2225",spar:"\u2225",DownArrow:"\u2193",ShortDownArrow:"\u2193",darr:"\u2193",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21F5",duarr:"\u21F5",DownBreve:"\u0311",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVector:"\u21BD",leftharpoondown:"\u21BD",lhard:"\u21BD",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295F",DownRightVector:"\u21C1",rhard:"\u21C1",rightharpoondown:"\u21C1",DownRightVectorBar:"\u2957",DownTee:"\u22A4",top:"\u22A4",DownTeeArrow:"\u21A7",mapstodown:"\u21A7",Dscr:"\u{1D49F}",Dstrok:"\u0110",ENG:"\u014A",ETH:"\xD0",Eacute:"\xC9",Ecaron:"\u011A",Ecirc:"\xCA",Ecy:"\u042D",Edot:"\u0116",Efr:"\u{1D508}",Egrave:"\xC8",Element:"\u2208",in:"\u2208",isin:"\u2208",isinv:"\u2208",Emacr:"\u0112",EmptySmallSquare:"\u25FB",EmptyVerySmallSquare:"\u25AB",Eogon:"\u0118",Eopf:"\u{1D53C}",Epsilon:"\u0395",Equal:"\u2A75",EqualTilde:"\u2242",eqsim:"\u2242",esim:"\u2242",Equilibrium:"\u21CC",rightleftharpoons:"\u21CC",rlhar:"\u21CC",Escr:"\u2130",expectation:"\u2130",Esim:"\u2A73",Eta:"\u0397",Euml:"\xCB",Exists:"\u2203",exist:"\u2203",ExponentialE:"\u2147",ee:"\u2147",exponentiale:"\u2147",Fcy:"\u0424",Ffr:"\u{1D509}",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",blacksquare:"\u25AA",squarf:"\u25AA",squf:"\u25AA",Fopf:"\u{1D53D}",ForAll:"\u2200",forall:"\u2200",Fouriertrf:"\u2131",Fscr:"\u2131",GJcy:"\u0403",GT:">",gt:">",Gamma:"\u0393",Gammad:"\u03DC",Gbreve:"\u011E",Gcedil:"\u0122",Gcirc:"\u011C",Gcy:"\u0413",Gdot:"\u0120",Gfr:"\u{1D50A}",Gg:"\u22D9",ggg:"\u22D9",Gopf:"\u{1D53E}",GreaterEqual:"\u2265",ge:"\u2265",geq:"\u2265",GreaterEqualLess:"\u22DB",gel:"\u22DB",gtreqless:"\u22DB",GreaterFullEqual:"\u2267",gE:"\u2267",geqq:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",gl:"\u2277",gtrless:"\u2277",GreaterSlantEqual:"\u2A7E",geqslant:"\u2A7E",ges:"\u2A7E",GreaterTilde:"\u2273",gsim:"\u2273",gtrsim:"\u2273",Gscr:"\u{1D4A2}",Gt:"\u226B",NestedGreaterGreater:"\u226B",gg:"\u226B",HARDcy:"\u042A",Hacek:"\u02C7",caron:"\u02C7",Hat:"^",Hcirc:"\u0124",Hfr:"\u210C",Poincareplane:"\u210C",HilbertSpace:"\u210B",Hscr:"\u210B",hamilt:"\u210B",Hopf:"\u210D",quaternions:"\u210D",HorizontalLine:"\u2500",boxh:"\u2500",Hstrok:"\u0126",HumpEqual:"\u224F",bumpe:"\u224F",bumpeq:"\u224F",IEcy:"\u0415",IJlig:"\u0132",IOcy:"\u0401",Iacute:"\xCD",Icirc:"\xCE",Icy:"\u0418",Idot:"\u0130",Ifr:"\u2111",Im:"\u2111",image:"\u2111",imagpart:"\u2111",Igrave:"\xCC",Imacr:"\u012A",ImaginaryI:"\u2148",ii:"\u2148",Int:"\u222C",Integral:"\u222B",int:"\u222B",Intersection:"\u22C2",bigcap:"\u22C2",xcap:"\u22C2",InvisibleComma:"\u2063",ic:"\u2063",InvisibleTimes:"\u2062",it:"\u2062",Iogon:"\u012E",Iopf:"\u{1D540}",Iota:"\u0399",Iscr:"\u2110",imagline:"\u2110",Itilde:"\u0128",Iukcy:"\u0406",Iuml:"\xCF",Jcirc:"\u0134",Jcy:"\u0419",Jfr:"\u{1D50D}",Jopf:"\u{1D541}",Jscr:"\u{1D4A5}",Jsercy:"\u0408",Jukcy:"\u0404",KHcy:"\u0425",KJcy:"\u040C",Kappa:"\u039A",Kcedil:"\u0136",Kcy:"\u041A",Kfr:"\u{1D50E}",Kopf:"\u{1D542}",Kscr:"\u{1D4A6}",LJcy:"\u0409",LT:"<",lt:"<",Lacute:"\u0139",Lambda:"\u039B",Lang:"\u27EA",Laplacetrf:"\u2112",Lscr:"\u2112",lagran:"\u2112",Larr:"\u219E",twoheadleftarrow:"\u219E",Lcaron:"\u013D",Lcedil:"\u013B",Lcy:"\u041B",LeftAngleBracket:"\u27E8",lang:"\u27E8",langle:"\u27E8",LeftArrow:"\u2190",ShortLeftArrow:"\u2190",larr:"\u2190",leftarrow:"\u2190",slarr:"\u2190",LeftArrowBar:"\u21E4",larrb:"\u21E4",LeftArrowRightArrow:"\u21C6",leftrightarrows:"\u21C6",lrarr:"\u21C6",LeftCeiling:"\u2308",lceil:"\u2308",LeftDoubleBracket:"\u27E6",lobrk:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21C3",dharl:"\u21C3",downharpoonleft:"\u21C3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230A",lfloor:"\u230A",LeftRightArrow:"\u2194",harr:"\u2194",leftrightarrow:"\u2194",LeftRightVector:"\u294E",LeftTee:"\u22A3",dashv:"\u22A3",LeftTeeArrow:"\u21A4",mapstoleft:"\u21A4",LeftTeeVector:"\u295A",LeftTriangle:"\u22B2",vartriangleleft:"\u22B2",vltri:"\u22B2",LeftTriangleBar:"\u29CF",LeftTriangleEqual:"\u22B4",ltrie:"\u22B4",trianglelefteq:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21BF",uharl:"\u21BF",upharpoonleft:"\u21BF",LeftUpVectorBar:"\u2958",LeftVector:"\u21BC",leftharpoonup:"\u21BC",lharu:"\u21BC",LeftVectorBar:"\u2952",LessEqualGreater:"\u22DA",leg:"\u22DA",lesseqgtr:"\u22DA",LessFullEqual:"\u2266",lE:"\u2266",leqq:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",lg:"\u2276",LessLess:"\u2AA1",LessSlantEqual:"\u2A7D",leqslant:"\u2A7D",les:"\u2A7D",LessTilde:"\u2272",lesssim:"\u2272",lsim:"\u2272",Lfr:"\u{1D50F}",Ll:"\u22D8",Lleftarrow:"\u21DA",lAarr:"\u21DA",Lmidot:"\u013F",LongLeftArrow:"\u27F5",longleftarrow:"\u27F5",xlarr:"\u27F5",LongLeftRightArrow:"\u27F7",longleftrightarrow:"\u27F7",xharr:"\u27F7",LongRightArrow:"\u27F6",longrightarrow:"\u27F6",xrarr:"\u27F6",Lopf:"\u{1D543}",LowerLeftArrow:"\u2199",swarr:"\u2199",swarrow:"\u2199",LowerRightArrow:"\u2198",searr:"\u2198",searrow:"\u2198",Lsh:"\u21B0",lsh:"\u21B0",Lstrok:"\u0141",Lt:"\u226A",NestedLessLess:"\u226A",ll:"\u226A",Map:"\u2905",Mcy:"\u041C",MediumSpace:"\u205F",Mellintrf:"\u2133",Mscr:"\u2133",phmmat:"\u2133",Mfr:"\u{1D510}",MinusPlus:"\u2213",mnplus:"\u2213",mp:"\u2213",Mopf:"\u{1D544}",Mu:"\u039C",NJcy:"\u040A",Nacute:"\u0143",Ncaron:"\u0147",Ncedil:"\u0145",Ncy:"\u041D",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",ZeroWidthSpace:"\u200B",NewLine:`
`,Nfr:"\u{1D511}",NoBreak:"\u2060",NonBreakingSpace:"\xA0",nbsp:"\xA0",Nopf:"\u2115",naturals:"\u2115",Not:"\u2AEC",NotCongruent:"\u2262",nequiv:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",npar:"\u2226",nparallel:"\u2226",nshortparallel:"\u2226",nspar:"\u2226",NotElement:"\u2209",notin:"\u2209",notinva:"\u2209",NotEqual:"\u2260",ne:"\u2260",NotEqualTilde:"\u2242\u0338",nesim:"\u2242\u0338",NotExists:"\u2204",nexist:"\u2204",nexists:"\u2204",NotGreater:"\u226F",ngt:"\u226F",ngtr:"\u226F",NotGreaterEqual:"\u2271",nge:"\u2271",ngeq:"\u2271",NotGreaterFullEqual:"\u2267\u0338",ngE:"\u2267\u0338",ngeqq:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",nGtv:"\u226B\u0338",NotGreaterLess:"\u2279",ntgl:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",NotGreaterTilde:"\u2275",ngsim:"\u2275",NotHumpDownHump:"\u224E\u0338",nbump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",nbumpe:"\u224F\u0338",NotLeftTriangle:"\u22EA",nltri:"\u22EA",ntriangleleft:"\u22EA",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangleEqual:"\u22EC",nltrie:"\u22EC",ntrianglelefteq:"\u22EC",NotLess:"\u226E",nless:"\u226E",nlt:"\u226E",NotLessEqual:"\u2270",nle:"\u2270",nleq:"\u2270",NotLessGreater:"\u2278",ntlg:"\u2278",NotLessLess:"\u226A\u0338",nLtv:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",NotLessTilde:"\u2274",nlsim:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",NotPrecedes:"\u2280",npr:"\u2280",nprec:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",npre:"\u2AAF\u0338",npreceq:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",nprcue:"\u22E0",NotReverseElement:"\u220C",notni:"\u220C",notniva:"\u220C",NotRightTriangle:"\u22EB",nrtri:"\u22EB",ntriangleright:"\u22EB",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangleEqual:"\u22ED",nrtrie:"\u22ED",ntrianglerighteq:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",nsqsube:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",nsqsupe:"\u22E3",NotSubset:"\u2282\u20D2",nsubset:"\u2282\u20D2",vnsub:"\u2282\u20D2",NotSubsetEqual:"\u2288",nsube:"\u2288",nsubseteq:"\u2288",NotSucceeds:"\u2281",nsc:"\u2281",nsucc:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",nsce:"\u2AB0\u0338",nsucceq:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",nsccue:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",nsupset:"\u2283\u20D2",vnsup:"\u2283\u20D2",NotSupersetEqual:"\u2289",nsupe:"\u2289",nsupseteq:"\u2289",NotTilde:"\u2241",nsim:"\u2241",NotTildeEqual:"\u2244",nsime:"\u2244",nsimeq:"\u2244",NotTildeFullEqual:"\u2247",ncong:"\u2247",NotTildeTilde:"\u2249",nap:"\u2249",napprox:"\u2249",NotVerticalBar:"\u2224",nmid:"\u2224",nshortmid:"\u2224",nsmid:"\u2224",Nscr:"\u{1D4A9}",Ntilde:"\xD1",Nu:"\u039D",OElig:"\u0152",Oacute:"\xD3",Ocirc:"\xD4",Ocy:"\u041E",Odblac:"\u0150",Ofr:"\u{1D512}",Ograve:"\xD2",Omacr:"\u014C",Omega:"\u03A9",ohm:"\u03A9",Omicron:"\u039F",Oopf:"\u{1D546}",OpenCurlyDoubleQuote:"\u201C",ldquo:"\u201C",OpenCurlyQuote:"\u2018",lsquo:"\u2018",Or:"\u2A54",Oscr:"\u{1D4AA}",Oslash:"\xD8",Otilde:"\xD5",Otimes:"\u2A37",Ouml:"\xD6",OverBar:"\u203E",oline:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",tbrk:"\u23B4",OverParenthesis:"\u23DC",PartialD:"\u2202",part:"\u2202",Pcy:"\u041F",Pfr:"\u{1D513}",Phi:"\u03A6",Pi:"\u03A0",PlusMinus:"\xB1",plusmn:"\xB1",pm:"\xB1",Popf:"\u2119",primes:"\u2119",Pr:"\u2ABB",Precedes:"\u227A",pr:"\u227A",prec:"\u227A",PrecedesEqual:"\u2AAF",pre:"\u2AAF",preceq:"\u2AAF",PrecedesSlantEqual:"\u227C",prcue:"\u227C",preccurlyeq:"\u227C",PrecedesTilde:"\u227E",precsim:"\u227E",prsim:"\u227E",Prime:"\u2033",Product:"\u220F",prod:"\u220F",Proportional:"\u221D",prop:"\u221D",propto:"\u221D",varpropto:"\u221D",vprop:"\u221D",Pscr:"\u{1D4AB}",Psi:"\u03A8",QUOT:'"',quot:'"',Qfr:"\u{1D514}",Qopf:"\u211A",rationals:"\u211A",Qscr:"\u{1D4AC}",RBarr:"\u2910",drbkarow:"\u2910",REG:"\xAE",circledR:"\xAE",reg:"\xAE",Racute:"\u0154",Rang:"\u27EB",Rarr:"\u21A0",twoheadrightarrow:"\u21A0",Rarrtl:"\u2916",Rcaron:"\u0158",Rcedil:"\u0156",Rcy:"\u0420",Re:"\u211C",Rfr:"\u211C",real:"\u211C",realpart:"\u211C",ReverseElement:"\u220B",SuchThat:"\u220B",ni:"\u220B",niv:"\u220B",ReverseEquilibrium:"\u21CB",leftrightharpoons:"\u21CB",lrhar:"\u21CB",ReverseUpEquilibrium:"\u296F",duhar:"\u296F",Rho:"\u03A1",RightAngleBracket:"\u27E9",rang:"\u27E9",rangle:"\u27E9",RightArrow:"\u2192",ShortRightArrow:"\u2192",rarr:"\u2192",rightarrow:"\u2192",srarr:"\u2192",RightArrowBar:"\u21E5",rarrb:"\u21E5",RightArrowLeftArrow:"\u21C4",rightleftarrows:"\u21C4",rlarr:"\u21C4",RightCeiling:"\u2309",rceil:"\u2309",RightDoubleBracket:"\u27E7",robrk:"\u27E7",RightDownTeeVector:"\u295D",RightDownVector:"\u21C2",dharr:"\u21C2",downharpoonright:"\u21C2",RightDownVectorBar:"\u2955",RightFloor:"\u230B",rfloor:"\u230B",RightTee:"\u22A2",vdash:"\u22A2",RightTeeArrow:"\u21A6",map:"\u21A6",mapsto:"\u21A6",RightTeeVector:"\u295B",RightTriangle:"\u22B3",vartriangleright:"\u22B3",vrtri:"\u22B3",RightTriangleBar:"\u29D0",RightTriangleEqual:"\u22B5",rtrie:"\u22B5",trianglerighteq:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVector:"\u21BE",uharr:"\u21BE",upharpoonright:"\u21BE",RightUpVectorBar:"\u2954",RightVector:"\u21C0",rharu:"\u21C0",rightharpoonup:"\u21C0",RightVectorBar:"\u2953",Ropf:"\u211D",reals:"\u211D",RoundImplies:"\u2970",Rrightarrow:"\u21DB",rAarr:"\u21DB",Rscr:"\u211B",realine:"\u211B",Rsh:"\u21B1",rsh:"\u21B1",RuleDelayed:"\u29F4",SHCHcy:"\u0429",SHcy:"\u0428",SOFTcy:"\u042C",Sacute:"\u015A",Sc:"\u2ABC",Scaron:"\u0160",Scedil:"\u015E",Scirc:"\u015C",Scy:"\u0421",Sfr:"\u{1D516}",ShortUpArrow:"\u2191",UpArrow:"\u2191",uarr:"\u2191",uparrow:"\u2191",Sigma:"\u03A3",SmallCircle:"\u2218",compfn:"\u2218",Sopf:"\u{1D54A}",Sqrt:"\u221A",radic:"\u221A",Square:"\u25A1",squ:"\u25A1",square:"\u25A1",SquareIntersection:"\u2293",sqcap:"\u2293",SquareSubset:"\u228F",sqsub:"\u228F",sqsubset:"\u228F",SquareSubsetEqual:"\u2291",sqsube:"\u2291",sqsubseteq:"\u2291",SquareSuperset:"\u2290",sqsup:"\u2290",sqsupset:"\u2290",SquareSupersetEqual:"\u2292",sqsupe:"\u2292",sqsupseteq:"\u2292",SquareUnion:"\u2294",sqcup:"\u2294",Sscr:"\u{1D4AE}",Star:"\u22C6",sstarf:"\u22C6",Sub:"\u22D0",Subset:"\u22D0",SubsetEqual:"\u2286",sube:"\u2286",subseteq:"\u2286",Succeeds:"\u227B",sc:"\u227B",succ:"\u227B",SucceedsEqual:"\u2AB0",sce:"\u2AB0",succeq:"\u2AB0",SucceedsSlantEqual:"\u227D",sccue:"\u227D",succcurlyeq:"\u227D",SucceedsTilde:"\u227F",scsim:"\u227F",succsim:"\u227F",Sum:"\u2211",sum:"\u2211",Sup:"\u22D1",Supset:"\u22D1",Superset:"\u2283",sup:"\u2283",supset:"\u2283",SupersetEqual:"\u2287",supe:"\u2287",supseteq:"\u2287",THORN:"\xDE",TRADE:"\u2122",trade:"\u2122",TSHcy:"\u040B",TScy:"\u0426",Tab:"	",Tau:"\u03A4",Tcaron:"\u0164",Tcedil:"\u0162",Tcy:"\u0422",Tfr:"\u{1D517}",Therefore:"\u2234",there4:"\u2234",therefore:"\u2234",Theta:"\u0398",ThickSpace:"\u205F\u200A",ThinSpace:"\u2009",thinsp:"\u2009",Tilde:"\u223C",sim:"\u223C",thicksim:"\u223C",thksim:"\u223C",TildeEqual:"\u2243",sime:"\u2243",simeq:"\u2243",TildeFullEqual:"\u2245",cong:"\u2245",TildeTilde:"\u2248",ap:"\u2248",approx:"\u2248",asymp:"\u2248",thickapprox:"\u2248",thkap:"\u2248",Topf:"\u{1D54B}",TripleDot:"\u20DB",tdot:"\u20DB",Tscr:"\u{1D4AF}",Tstrok:"\u0166",Uacute:"\xDA",Uarr:"\u219F",Uarrocir:"\u2949",Ubrcy:"\u040E",Ubreve:"\u016C",Ucirc:"\xDB",Ucy:"\u0423",Udblac:"\u0170",Ufr:"\u{1D518}",Ugrave:"\xD9",Umacr:"\u016A",UnderBar:"_",lowbar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",bbrk:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",bigcup:"\u22C3",xcup:"\u22C3",UnionPlus:"\u228E",uplus:"\u228E",Uogon:"\u0172",Uopf:"\u{1D54C}",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21C5",udarr:"\u21C5",UpDownArrow:"\u2195",updownarrow:"\u2195",varr:"\u2195",UpEquilibrium:"\u296E",udhar:"\u296E",UpTee:"\u22A5",bot:"\u22A5",bottom:"\u22A5",perp:"\u22A5",UpTeeArrow:"\u21A5",mapstoup:"\u21A5",UpperLeftArrow:"\u2196",nwarr:"\u2196",nwarrow:"\u2196",UpperRightArrow:"\u2197",nearr:"\u2197",nearrow:"\u2197",Upsi:"\u03D2",upsih:"\u03D2",Upsilon:"\u03A5",Uring:"\u016E",Uscr:"\u{1D4B0}",Utilde:"\u0168",Uuml:"\xDC",VDash:"\u22AB",Vbar:"\u2AEB",Vcy:"\u0412",Vdash:"\u22A9",Vdashl:"\u2AE6",Vee:"\u22C1",bigvee:"\u22C1",xvee:"\u22C1",Verbar:"\u2016",Vert:"\u2016",VerticalBar:"\u2223",mid:"\u2223",shortmid:"\u2223",smid:"\u2223",VerticalLine:"|",verbar:"|",vert:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",wr:"\u2240",wreath:"\u2240",VeryThinSpace:"\u200A",hairsp:"\u200A",Vfr:"\u{1D519}",Vopf:"\u{1D54D}",Vscr:"\u{1D4B1}",Vvdash:"\u22AA",Wcirc:"\u0174",Wedge:"\u22C0",bigwedge:"\u22C0",xwedge:"\u22C0",Wfr:"\u{1D51A}",Wopf:"\u{1D54E}",Wscr:"\u{1D4B2}",Xfr:"\u{1D51B}",Xi:"\u039E",Xopf:"\u{1D54F}",Xscr:"\u{1D4B3}",YAcy:"\u042F",YIcy:"\u0407",YUcy:"\u042E",Yacute:"\xDD",Ycirc:"\u0176",Ycy:"\u042B",Yfr:"\u{1D51C}",Yopf:"\u{1D550}",Yscr:"\u{1D4B4}",Yuml:"\u0178",ZHcy:"\u0416",Zacute:"\u0179",Zcaron:"\u017D",Zcy:"\u0417",Zdot:"\u017B",Zeta:"\u0396",Zfr:"\u2128",zeetrf:"\u2128",Zopf:"\u2124",integers:"\u2124",Zscr:"\u{1D4B5}",aacute:"\xE1",abreve:"\u0103",ac:"\u223E",mstpos:"\u223E",acE:"\u223E\u0333",acd:"\u223F",acirc:"\xE2",acy:"\u0430",aelig:"\xE6",afr:"\u{1D51E}",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",alpha:"\u03B1",amacr:"\u0101",amalg:"\u2A3F",and:"\u2227",wedge:"\u2227",andand:"\u2A55",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",angle:"\u2220",ange:"\u29A4",angmsd:"\u2221",measuredangle:"\u2221",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angzarr:"\u237C",aogon:"\u0105",aopf:"\u{1D552}",apE:"\u2A70",apacir:"\u2A6F",ape:"\u224A",approxeq:"\u224A",apid:"\u224B",apos:"'",aring:"\xE5",ascr:"\u{1D4B6}",ast:"*",midast:"*",atilde:"\xE3",auml:"\xE4",awint:"\u2A11",bNot:"\u2AED",backcong:"\u224C",bcong:"\u224C",backepsilon:"\u03F6",bepsi:"\u03F6",backprime:"\u2035",bprime:"\u2035",backsim:"\u223D",bsim:"\u223D",backsimeq:"\u22CD",bsime:"\u22CD",barvee:"\u22BD",barwed:"\u2305",barwedge:"\u2305",bbrktbrk:"\u23B6",bcy:"\u0431",bdquo:"\u201E",ldquor:"\u201E",bemptyv:"\u29B0",beta:"\u03B2",beth:"\u2136",between:"\u226C",twixt:"\u226C",bfr:"\u{1D51F}",bigcirc:"\u25EF",xcirc:"\u25EF",bigodot:"\u2A00",xodot:"\u2A00",bigoplus:"\u2A01",xoplus:"\u2A01",bigotimes:"\u2A02",xotime:"\u2A02",bigsqcup:"\u2A06",xsqcup:"\u2A06",bigstar:"\u2605",starf:"\u2605",bigtriangledown:"\u25BD",xdtri:"\u25BD",bigtriangleup:"\u25B3",xutri:"\u25B3",biguplus:"\u2A04",xuplus:"\u2A04",bkarow:"\u290D",rbarr:"\u290D",blacklozenge:"\u29EB",lozf:"\u29EB",blacktriangle:"\u25B4",utrif:"\u25B4",blacktriangledown:"\u25BE",dtrif:"\u25BE",blacktriangleleft:"\u25C2",ltrif:"\u25C2",blacktriangleright:"\u25B8",rtrif:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bnot:"\u2310",bopf:"\u{1D553}",bowtie:"\u22C8",boxDL:"\u2557",boxDR:"\u2554",boxDl:"\u2556",boxDr:"\u2553",boxH:"\u2550",boxHD:"\u2566",boxHU:"\u2569",boxHd:"\u2564",boxHu:"\u2567",boxUL:"\u255D",boxUR:"\u255A",boxUl:"\u255C",boxUr:"\u2559",boxV:"\u2551",boxVH:"\u256C",boxVL:"\u2563",boxVR:"\u2560",boxVh:"\u256B",boxVl:"\u2562",boxVr:"\u255F",boxbox:"\u29C9",boxdL:"\u2555",boxdR:"\u2552",boxdl:"\u2510",boxdr:"\u250C",boxhD:"\u2565",boxhU:"\u2568",boxhd:"\u252C",boxhu:"\u2534",boxminus:"\u229F",minusb:"\u229F",boxplus:"\u229E",plusb:"\u229E",boxtimes:"\u22A0",timesb:"\u22A0",boxuL:"\u255B",boxuR:"\u2558",boxul:"\u2518",boxur:"\u2514",boxv:"\u2502",boxvH:"\u256A",boxvL:"\u2561",boxvR:"\u255E",boxvh:"\u253C",boxvl:"\u2524",boxvr:"\u251C",brvbar:"\xA6",bscr:"\u{1D4B7}",bsemi:"\u204F",bsol:"\\",bsolb:"\u29C5",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bumpE:"\u2AAE",cacute:"\u0107",cap:"\u2229",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",capcup:"\u2A47",capdot:"\u2A40",caps:"\u2229\uFE00",caret:"\u2041",ccaps:"\u2A4D",ccaron:"\u010D",ccedil:"\xE7",ccirc:"\u0109",ccups:"\u2A4C",ccupssm:"\u2A50",cdot:"\u010B",cemptyv:"\u29B2",cent:"\xA2",cfr:"\u{1D520}",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",chi:"\u03C7",cir:"\u25CB",cirE:"\u29C3",circ:"\u02C6",circeq:"\u2257",cire:"\u2257",circlearrowleft:"\u21BA",olarr:"\u21BA",circlearrowright:"\u21BB",orarr:"\u21BB",circledS:"\u24C8",oS:"\u24C8",circledast:"\u229B",oast:"\u229B",circledcirc:"\u229A",ocir:"\u229A",circleddash:"\u229D",odash:"\u229D",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",clubs:"\u2663",clubsuit:"\u2663",colon:":",comma:",",commat:"@",comp:"\u2201",complement:"\u2201",congdot:"\u2A6D",copf:"\u{1D554}",copysr:"\u2117",crarr:"\u21B5",cross:"\u2717",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",curlyeqprec:"\u22DE",cuesc:"\u22DF",curlyeqsucc:"\u22DF",cularr:"\u21B6",curvearrowleft:"\u21B6",cularrp:"\u293D",cup:"\u222A",cupbrcap:"\u2A48",cupcap:"\u2A46",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curvearrowright:"\u21B7",curarrm:"\u293C",curlyvee:"\u22CE",cuvee:"\u22CE",curlywedge:"\u22CF",cuwed:"\u22CF",curren:"\xA4",cwint:"\u2231",cylcty:"\u232D",dHar:"\u2965",dagger:"\u2020",daleth:"\u2138",dash:"\u2010",hyphen:"\u2010",dbkarow:"\u290F",rBarr:"\u290F",dcaron:"\u010F",dcy:"\u0434",ddarr:"\u21CA",downdownarrows:"\u21CA",ddotseq:"\u2A77",eDDot:"\u2A77",deg:"\xB0",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",dfr:"\u{1D521}",diamondsuit:"\u2666",diams:"\u2666",digamma:"\u03DD",gammad:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",djcy:"\u0452",dlcorn:"\u231E",llcorner:"\u231E",dlcrop:"\u230D",dollar:"$",dopf:"\u{1D555}",doteqdot:"\u2251",eDot:"\u2251",dotminus:"\u2238",minusd:"\u2238",dotplus:"\u2214",plusdo:"\u2214",dotsquare:"\u22A1",sdotb:"\u22A1",drcorn:"\u231F",lrcorner:"\u231F",drcrop:"\u230C",dscr:"\u{1D4B9}",dscy:"\u0455",dsol:"\u29F6",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",triangledown:"\u25BF",dwangle:"\u29A6",dzcy:"\u045F",dzigrarr:"\u27FF",eacute:"\xE9",easter:"\u2A6E",ecaron:"\u011B",ecir:"\u2256",eqcirc:"\u2256",ecirc:"\xEA",ecolon:"\u2255",eqcolon:"\u2255",ecy:"\u044D",edot:"\u0117",efDot:"\u2252",fallingdotseq:"\u2252",efr:"\u{1D522}",eg:"\u2A9A",egrave:"\xE8",egs:"\u2A96",eqslantgtr:"\u2A96",egsdot:"\u2A98",el:"\u2A99",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",eqslantless:"\u2A95",elsdot:"\u2A97",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",emptyv:"\u2205",varnothing:"\u2205",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",eng:"\u014B",ensp:"\u2002",eogon:"\u0119",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",epsilon:"\u03B5",epsiv:"\u03F5",straightepsilon:"\u03F5",varepsilon:"\u03F5",equals:"=",equest:"\u225F",questeq:"\u225F",equivDD:"\u2A78",eqvparsl:"\u29E5",erDot:"\u2253",risingdotseq:"\u2253",erarr:"\u2971",escr:"\u212F",eta:"\u03B7",eth:"\xF0",euml:"\xEB",euro:"\u20AC",excl:"!",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",ffr:"\u{1D523}",filig:"\uFB01",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",fopf:"\u{1D557}",fork:"\u22D4",pitchfork:"\u22D4",forkv:"\u2AD9",fpartint:"\u2A0D",frac12:"\xBD",half:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",sfrown:"\u2322",fscr:"\u{1D4BB}",gEl:"\u2A8C",gtreqqless:"\u2A8C",gacute:"\u01F5",gamma:"\u03B3",gap:"\u2A86",gtrapprox:"\u2A86",gbreve:"\u011F",gcirc:"\u011D",gcy:"\u0433",gdot:"\u0121",gescc:"\u2AA9",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",gfr:"\u{1D524}",gimel:"\u2137",gjcy:"\u0453",glE:"\u2A92",gla:"\u2AA5",glj:"\u2AA4",gnE:"\u2269",gneqq:"\u2269",gnap:"\u2A8A",gnapprox:"\u2A8A",gne:"\u2A88",gneq:"\u2A88",gnsim:"\u22E7",gopf:"\u{1D558}",gscr:"\u210A",gsime:"\u2A8E",gsiml:"\u2A90",gtcc:"\u2AA7",gtcir:"\u2A7A",gtdot:"\u22D7",gtrdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrarr:"\u2978",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",hardcy:"\u044A",harrcir:"\u2948",harrw:"\u21AD",leftrightsquigarrow:"\u21AD",hbar:"\u210F",hslash:"\u210F",planck:"\u210F",plankv:"\u210F",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",mldr:"\u2026",hercon:"\u22B9",hfr:"\u{1D525}",hksearow:"\u2925",searhk:"\u2925",hkswarow:"\u2926",swarhk:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",larrhk:"\u21A9",hookrightarrow:"\u21AA",rarrhk:"\u21AA",hopf:"\u{1D559}",horbar:"\u2015",hscr:"\u{1D4BD}",hstrok:"\u0127",hybull:"\u2043",iacute:"\xED",icirc:"\xEE",icy:"\u0438",iecy:"\u0435",iexcl:"\xA1",ifr:"\u{1D526}",igrave:"\xEC",iiiint:"\u2A0C",qint:"\u2A0C",iiint:"\u222D",tint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",ijlig:"\u0133",imacr:"\u012B",imath:"\u0131",inodot:"\u0131",imof:"\u22B7",imped:"\u01B5",incare:"\u2105",infin:"\u221E",infintie:"\u29DD",intcal:"\u22BA",intercal:"\u22BA",intlarhk:"\u2A17",intprod:"\u2A3C",iprod:"\u2A3C",iocy:"\u0451",iogon:"\u012F",iopf:"\u{1D55A}",iota:"\u03B9",iquest:"\xBF",iscr:"\u{1D4BE}",isinE:"\u22F9",isindot:"\u22F5",isins:"\u22F4",isinsv:"\u22F3",itilde:"\u0129",iukcy:"\u0456",iuml:"\xEF",jcirc:"\u0135",jcy:"\u0439",jfr:"\u{1D527}",jmath:"\u0237",jopf:"\u{1D55B}",jscr:"\u{1D4BF}",jsercy:"\u0458",jukcy:"\u0454",kappa:"\u03BA",kappav:"\u03F0",varkappa:"\u03F0",kcedil:"\u0137",kcy:"\u043A",kfr:"\u{1D528}",kgreen:"\u0138",khcy:"\u0445",kjcy:"\u045C",kopf:"\u{1D55C}",kscr:"\u{1D4C0}",lAtail:"\u291B",lBarr:"\u290E",lEg:"\u2A8B",lesseqqgtr:"\u2A8B",lHar:"\u2962",lacute:"\u013A",laemptyv:"\u29B4",lambda:"\u03BB",langd:"\u2991",lap:"\u2A85",lessapprox:"\u2A85",laquo:"\xAB",larrbfs:"\u291F",larrfs:"\u291D",larrlp:"\u21AB",looparrowleft:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",leftarrowtail:"\u21A2",lat:"\u2AAB",latail:"\u2919",late:"\u2AAD",lates:"\u2AAD\uFE00",lbarr:"\u290C",lbbrk:"\u2772",lbrace:"{",lcub:"{",lbrack:"[",lsqb:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",lcaron:"\u013E",lcedil:"\u013C",lcy:"\u043B",ldca:"\u2936",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",le:"\u2264",leq:"\u2264",leftleftarrows:"\u21C7",llarr:"\u21C7",leftthreetimes:"\u22CB",lthree:"\u22CB",lescc:"\u2AA8",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessdot:"\u22D6",ltdot:"\u22D6",lfisht:"\u297C",lfr:"\u{1D529}",lgE:"\u2A91",lharul:"\u296A",lhblk:"\u2584",ljcy:"\u0459",llhard:"\u296B",lltri:"\u25FA",lmidot:"\u0140",lmoust:"\u23B0",lmoustache:"\u23B0",lnE:"\u2268",lneqq:"\u2268",lnap:"\u2A89",lnapprox:"\u2A89",lne:"\u2A87",lneq:"\u2A87",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",longmapsto:"\u27FC",xmap:"\u27FC",looparrowright:"\u21AC",rarrlp:"\u21AC",lopar:"\u2985",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",loz:"\u25CA",lozenge:"\u25CA",lpar:"(",lparlt:"\u2993",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",lscr:"\u{1D4C1}",lsime:"\u2A8D",lsimg:"\u2A8F",lsquor:"\u201A",sbquo:"\u201A",lstrok:"\u0142",ltcc:"\u2AA6",ltcir:"\u2A79",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltrPar:"\u2996",ltri:"\u25C3",triangleleft:"\u25C3",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",mDDot:"\u223A",macr:"\xAF",strns:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",marker:"\u25AE",mcomma:"\u2A29",mcy:"\u043C",mdash:"\u2014",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",midcir:"\u2AF0",minus:"\u2212",minusdu:"\u2A2A",mlcp:"\u2ADB",models:"\u22A7",mopf:"\u{1D55E}",mscr:"\u{1D4C2}",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nGg:"\u22D9\u0338",nGt:"\u226B\u20D2",nLeftarrow:"\u21CD",nlArr:"\u21CD",nLeftrightarrow:"\u21CE",nhArr:"\u21CE",nLl:"\u22D8\u0338",nLt:"\u226A\u20D2",nRightarrow:"\u21CF",nrArr:"\u21CF",nVDash:"\u22AF",nVdash:"\u22AE",nacute:"\u0144",nang:"\u2220\u20D2",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",natur:"\u266E",natural:"\u266E",ncap:"\u2A43",ncaron:"\u0148",ncedil:"\u0146",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",ncy:"\u043D",ndash:"\u2013",neArr:"\u21D7",nearhk:"\u2924",nedot:"\u2250\u0338",nesear:"\u2928",toea:"\u2928",nfr:"\u{1D52B}",nharr:"\u21AE",nleftrightarrow:"\u21AE",nhpar:"\u2AF2",nis:"\u22FC",nisd:"\u22FA",njcy:"\u045A",nlE:"\u2266\u0338",nleqq:"\u2266\u0338",nlarr:"\u219A",nleftarrow:"\u219A",nldr:"\u2025",nopf:"\u{1D55F}",not:"\xAC",notinE:"\u22F9\u0338",notindot:"\u22F5\u0338",notinvb:"\u22F7",notinvc:"\u22F6",notnivb:"\u22FE",notnivc:"\u22FD",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",nrarr:"\u219B",nrightarrow:"\u219B",nrarrc:"\u2933\u0338",nrarrw:"\u219D\u0338",nscr:"\u{1D4C3}",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsubseteqq:"\u2AC5\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupseteqq:"\u2AC6\u0338",ntilde:"\xF1",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvDash:"\u22AD",nvHarr:"\u2904",nvap:"\u224D\u20D2",nvdash:"\u22AC",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwArr:"\u21D6",nwarhk:"\u2923",nwnear:"\u2927",oacute:"\xF3",ocirc:"\xF4",ocy:"\u043E",odblac:"\u0151",odiv:"\u2A38",odsold:"\u29BC",oelig:"\u0153",ofcir:"\u29BF",ofr:"\u{1D52C}",ogon:"\u02DB",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",olcir:"\u29BE",olcross:"\u29BB",olt:"\u29C0",omacr:"\u014D",omega:"\u03C9",omicron:"\u03BF",omid:"\u29B6",oopf:"\u{1D560}",opar:"\u29B7",operp:"\u29B9",or:"\u2228",vee:"\u2228",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",oscr:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oslash:"\xF8",osol:"\u2298",otilde:"\xF5",otimesas:"\u2A36",ouml:"\xF6",ovbar:"\u233D",para:"\xB6",parsim:"\u2AF3",parsl:"\u2AFD",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",pertenk:"\u2031",pfr:"\u{1D52D}",phi:"\u03C6",phiv:"\u03D5",straightphi:"\u03D5",varphi:"\u03D5",phone:"\u260E",pi:"\u03C0",piv:"\u03D6",varpi:"\u03D6",planckh:"\u210E",plus:"+",plusacir:"\u2A23",pluscir:"\u2A22",plusdu:"\u2A25",pluse:"\u2A72",plussim:"\u2A26",plustwo:"\u2A27",pointint:"\u2A15",popf:"\u{1D561}",pound:"\xA3",prE:"\u2AB3",prap:"\u2AB7",precapprox:"\u2AB7",precnapprox:"\u2AB9",prnap:"\u2AB9",precneqq:"\u2AB5",prnE:"\u2AB5",precnsim:"\u22E8",prnsim:"\u22E8",prime:"\u2032",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prurel:"\u22B0",pscr:"\u{1D4C5}",psi:"\u03C8",puncsp:"\u2008",qfr:"\u{1D52E}",qopf:"\u{1D562}",qprime:"\u2057",qscr:"\u{1D4C6}",quatint:"\u2A16",quest:"?",rAtail:"\u291C",rHar:"\u2964",race:"\u223D\u0331",racute:"\u0155",raemptyv:"\u29B3",rangd:"\u2992",range:"\u29A5",raquo:"\xBB",rarrap:"\u2975",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291E",rarrpl:"\u2945",rarrsim:"\u2974",rarrtl:"\u21A3",rightarrowtail:"\u21A3",rarrw:"\u219D",rightsquigarrow:"\u219D",ratail:"\u291A",ratio:"\u2236",rbbrk:"\u2773",rbrace:"}",rcub:"}",rbrack:"]",rsqb:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",rcaron:"\u0159",rcedil:"\u0157",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdsh:"\u21B3",rect:"\u25AD",rfisht:"\u297D",rfr:"\u{1D52F}",rharul:"\u296C",rho:"\u03C1",rhov:"\u03F1",varrho:"\u03F1",rightrightarrows:"\u21C9",rrarr:"\u21C9",rightthreetimes:"\u22CC",rthree:"\u22CC",ring:"\u02DA",rlm:"\u200F",rmoust:"\u23B1",rmoustache:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",ropar:"\u2986",ropf:"\u{1D563}",roplus:"\u2A2E",rotimes:"\u2A35",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rsaquo:"\u203A",rscr:"\u{1D4C7}",rtimes:"\u22CA",rtri:"\u25B9",triangleright:"\u25B9",rtriltri:"\u29CE",ruluhar:"\u2968",rx:"\u211E",sacute:"\u015B",scE:"\u2AB4",scap:"\u2AB8",succapprox:"\u2AB8",scaron:"\u0161",scedil:"\u015F",scirc:"\u015D",scnE:"\u2AB6",succneqq:"\u2AB6",scnap:"\u2ABA",succnapprox:"\u2ABA",scnsim:"\u22E9",succnsim:"\u22E9",scpolint:"\u2A13",scy:"\u0441",sdot:"\u22C5",sdote:"\u2A66",seArr:"\u21D8",sect:"\xA7",semi:";",seswar:"\u2929",tosa:"\u2929",sext:"\u2736",sfr:"\u{1D530}",sharp:"\u266F",shchcy:"\u0449",shcy:"\u0448",shy:"\xAD",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",varsigma:"\u03C2",simdot:"\u2A6A",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",smashp:"\u2A33",smeparsl:"\u29E4",smile:"\u2323",ssmile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",softcy:"\u044C",sol:"/",solb:"\u29C4",solbar:"\u233F",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",sqcaps:"\u2293\uFE00",sqcups:"\u2294\uFE00",sscr:"\u{1D4C8}",star:"\u2606",sub:"\u2282",subset:"\u2282",subE:"\u2AC5",subseteqq:"\u2AC5",subdot:"\u2ABD",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subsetneqq:"\u2ACB",subne:"\u228A",subsetneq:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",sung:"\u266A",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",supE:"\u2AC6",supseteqq:"\u2AC6",supdot:"\u2ABE",supdsub:"\u2AD8",supedot:"\u2AC4",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supsetneqq:"\u2ACC",supne:"\u228B",supsetneq:"\u228B",supplus:"\u2AC0",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swArr:"\u21D9",swnwar:"\u292A",szlig:"\xDF",target:"\u2316",tau:"\u03C4",tcaron:"\u0165",tcedil:"\u0163",tcy:"\u0442",telrec:"\u2315",tfr:"\u{1D531}",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",vartheta:"\u03D1",thorn:"\xFE",times:"\xD7",timesbar:"\u2A31",timesd:"\u2A30",topbot:"\u2336",topcir:"\u2AF1",topf:"\u{1D565}",topfork:"\u2ADA",tprime:"\u2034",triangle:"\u25B5",utri:"\u25B5",triangleq:"\u225C",trie:"\u225C",tridot:"\u25EC",triminus:"\u2A3A",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",tscr:"\u{1D4C9}",tscy:"\u0446",tshcy:"\u045B",tstrok:"\u0167",uHar:"\u2963",uacute:"\xFA",ubrcy:"\u045E",ubreve:"\u016D",ucirc:"\xFB",ucy:"\u0443",udblac:"\u0171",ufisht:"\u297E",ufr:"\u{1D532}",ugrave:"\xF9",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",umacr:"\u016B",uogon:"\u0173",uopf:"\u{1D566}",upsi:"\u03C5",upsilon:"\u03C5",upuparrows:"\u21C8",uuarr:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",uring:"\u016F",urtri:"\u25F9",uscr:"\u{1D4CA}",utdot:"\u22F0",utilde:"\u0169",uuml:"\xFC",uwangle:"\u29A7",vBar:"\u2AE8",vBarv:"\u2AE9",vangrt:"\u299C",varsubsetneq:"\u228A\uFE00",vsubne:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",vsubnE:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",vsupne:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vsupnE:"\u2ACC\uFE00",vcy:"\u0432",veebar:"\u22BB",veeeq:"\u225A",vellip:"\u22EE",vfr:"\u{1D533}",vopf:"\u{1D567}",vscr:"\u{1D4CB}",vzigzag:"\u299A",wcirc:"\u0175",wedbar:"\u2A5F",wedgeq:"\u2259",weierp:"\u2118",wp:"\u2118",wfr:"\u{1D534}",wopf:"\u{1D568}",wscr:"\u{1D4CC}",xfr:"\u{1D535}",xi:"\u03BE",xnis:"\u22FB",xopf:"\u{1D569}",xscr:"\u{1D4CD}",yacute:"\xFD",yacy:"\u044F",ycirc:"\u0177",ycy:"\u044B",yen:"\xA5",yfr:"\u{1D536}",yicy:"\u0457",yopf:"\u{1D56A}",yscr:"\u{1D4CE}",yucy:"\u044E",yuml:"\xFF",zacute:"\u017A",zcaron:"\u017E",zcy:"\u0437",zdot:"\u017C",zeta:"\u03B6",zfr:"\u{1D537}",zhcy:"\u0436",zigrarr:"\u21DD",zopf:"\u{1D56B}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"},OC="\uE500";Sl.ngsp=OC;var rm=class{tokens;errors;nonNormalizedIcuExpressions;constructor(e,n,r){this.tokens=e,this.errors=n,this.nonNormalizedIcuExpressions=r}};function Pk(t,e,n,r={}){let i=new om(new Bu(t,e),n,r);return i.tokenize(),new rm(qk(i.tokens),i.errors,i.nonNormalizedIcuExpressions)}var Rk=/\r\n?/g;function Uo(t){return`Unexpected character "${t===ut?"EOF":String.fromCharCode(t)}"`}function U_(t){return`Unknown entity "${t}" - use the "&#<decimal>;" or  "&#x<hex>;" syntax`}function Lk(t,e){return`Unable to parse entity "${e}" - ${t} character reference entities must end with ";"`}var im=(function(t){return t.HEX="hexadecimal",t.DEC="decimal",t})(im||{}),Fk=["@if","@else","@for","@switch","@case","@default","@empty","@defer","@placeholder","@loading","@error"],om=class{_getTagDefinition;_cursor;_tokenizeIcu;_interpolationConfig;_leadingTriviaCodePoints;_currentTokenStart=null;_currentTokenType=null;_expansionCaseStack=[];_openDirectiveCount=0;_inInterpolation=!1;_preserveLineEndings;_i18nNormalizeLineEndingsInICUs;_tokenizeBlocks;_tokenizeLet;_selectorlessEnabled;tokens=[];errors=[];nonNormalizedIcuExpressions=[];constructor(e,n,r){this._getTagDefinition=n,this._tokenizeIcu=r.tokenizeExpansionForms||!1,this._interpolationConfig=r.interpolationConfig||Xn,this._leadingTriviaCodePoints=r.leadingTriviaChars&&r.leadingTriviaChars.map(o=>o.codePointAt(0)||0);let i=r.range||{endPos:e.content.length,startPos:0,startLine:0,startCol:0};this._cursor=r.escapedString?new sm(e,i):new ed(e,i),this._preserveLineEndings=r.preserveLineEndings||!1,this._i18nNormalizeLineEndingsInICUs=r.i18nNormalizeLineEndingsInICUs||!1,this._tokenizeBlocks=r.tokenizeBlocks??!0,this._tokenizeLet=r.tokenizeLet??!0,this._selectorlessEnabled=r.selectorlessEnabled??!1;try{this._cursor.init()}catch(o){this.handleError(o)}}_processCarriageReturns(e){return this._preserveLineEndings?e:e.replace(Rk,`
`)}tokenize(){for(;this._cursor.peek()!==ut;){let e=this._cursor.clone();try{this._attemptCharCode(Qo)?this._attemptCharCode(Bh)?this._attemptCharCode(Jr)?this._consumeCdata(e):this._attemptCharCode(Fu)?this._consumeComment(e):this._consumeDocType(e):this._attemptCharCode(bn)?this._consumeTagClose(e):this._consumeTagOpen(e):this._tokenizeLet&&this._cursor.peek()===Bo&&!this._inInterpolation&&this._isLetStart()?this._consumeLetDeclaration(e):this._tokenizeBlocks&&this._isBlockStart()?this._consumeBlockStart(e):this._tokenizeBlocks&&!this._inInterpolation&&!this._isInExpansionCase()&&!this._isInExpansionForm()&&this._attemptCharCode(xt)?this._consumeBlockEnd(e):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeWithInterpolation(5,8,()=>this._isTextEnd(),()=>this._isTagStart())}catch(n){this.handleError(n)}}this._beginToken(41),this._endToken([])}_getBlockName(){let e=!1,n=this._cursor.clone();return this._attemptCharCodeUntilFn(r=>dl(r)?!e:Hk(r)?(e=!0,!1):!0),this._cursor.getChars(n).trim()}_consumeBlockStart(e){this._requireCharCode(Bo),this._beginToken(24,e);let n=this._endToken([this._getBlockName()]);if(this._cursor.peek()===Mn)if(this._cursor.advance(),this._consumeBlockParameters(),this._attemptCharCodeUntilFn(Be),this._attemptCharCode(Tt))this._attemptCharCodeUntilFn(Be);else{n.type=28;return}this._attemptCharCode(Nn)?(this._beginToken(25),this._endToken([])):n.type=28}_consumeBlockEnd(e){this._beginToken(26,e),this._endToken([])}_consumeBlockParameters(){for(this._attemptCharCodeUntilFn(q_);this._cursor.peek()!==Tt&&this._cursor.peek()!==ut;){this._beginToken(27);let e=this._cursor.clone(),n=null,r=0;for(;this._cursor.peek()!==Gt&&this._cursor.peek()!==ut||n!==null;){let i=this._cursor.peek();if(i===es)this._cursor.advance();else if(i===n)n=null;else if(n===null&&Ma(i))n=i;else if(i===Mn&&n===null)r++;else if(i===Tt&&n===null){if(r===0)break;r>0&&r--}this._cursor.advance()}this._endToken([this._cursor.getChars(e)]),this._attemptCharCodeUntilFn(q_)}}_consumeLetDeclaration(e){if(this._requireStr("@let"),this._beginToken(29,e),dl(this._cursor.peek()))this._attemptCharCodeUntilFn(Be);else{let i=this._endToken([this._cursor.getChars(e)]);i.type=32;return}let n=this._endToken([this._getLetDeclarationName()]);if(this._attemptCharCodeUntilFn(Be),!this._attemptCharCode(yt)){n.type=32;return}this._attemptCharCodeUntilFn(i=>Be(i)&&!Ou(i)),this._consumeLetDeclarationValue(),this._cursor.peek()===Gt?(this._beginToken(31),this._endToken([]),this._cursor.advance()):(n.type=32,n.sourceSpan=this._cursor.getSpan(e))}_getLetDeclarationName(){let e=this._cursor.clone(),n=!1;return this._attemptCharCodeUntilFn(r=>fs(r)||r===_d||r===ii||n&&kn(r)?(n=!0,!1):!0),this._cursor.getChars(e).trim()}_consumeLetDeclarationValue(){let e=this._cursor.clone();for(this._beginToken(30,e);this._cursor.peek()!==ut;){let n=this._cursor.peek();if(n===Gt)break;Ma(n)&&(this._cursor.advance(),this._attemptCharCodeUntilFn(r=>r===es?(this._cursor.advance(),!1):r===n)),this._cursor.advance()}this._endToken([this._cursor.getChars(e)])}_tokenizeExpansionForm(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if($k(this._cursor.peek())&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(this._cursor.peek()===xt){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1}_beginToken(e,n=this._cursor.clone()){this._currentTokenStart=n,this._currentTokenType=e}_endToken(e,n){if(this._currentTokenStart===null)throw new Z(this._cursor.getSpan(n),"Programming error - attempted to end a token when there was no start to the token");if(this._currentTokenType===null)throw new Z(this._cursor.getSpan(this._currentTokenStart),"Programming error - attempted to end a token which has no token type");let r={type:this._currentTokenType,parts:e,sourceSpan:(n??this._cursor).getSpan(this._currentTokenStart,this._leadingTriviaCodePoints)};return this.tokens.push(r),this._currentTokenStart=null,this._currentTokenType=null,r}_createError(e,n){this._isInExpansionForm()&&(e+=` (Do you have an unescaped "{" in your template? Use "{{ '{' }}") to escape it.)`);let r=new Z(n,e);return this._currentTokenStart=null,this._currentTokenType=null,r}handleError(e){if(e instanceof Tl&&(e=this._createError(e.msg,this._cursor.getSpan(e.cursor))),e instanceof Z)this.errors.push(e);else throw e}_attemptCharCode(e){return this._cursor.peek()===e?(this._cursor.advance(),!0):!1}_attemptCharCodeCaseInsensitive(e){return Uk(this._cursor.peek(),e)?(this._cursor.advance(),!0):!1}_requireCharCode(e){let n=this._cursor.clone();if(!this._attemptCharCode(e))throw this._createError(Uo(this._cursor.peek()),this._cursor.getSpan(n))}_attemptStr(e){let n=e.length;if(this._cursor.charsLeft()<n)return!1;let r=this._cursor.clone();for(let i=0;i<n;i++)if(!this._attemptCharCode(e.charCodeAt(i)))return this._cursor=r,!1;return!0}_attemptStrCaseInsensitive(e){for(let n=0;n<e.length;n++)if(!this._attemptCharCodeCaseInsensitive(e.charCodeAt(n)))return!1;return!0}_requireStr(e){let n=this._cursor.clone();if(!this._attemptStr(e))throw this._createError(Uo(this._cursor.peek()),this._cursor.getSpan(n))}_attemptCharCodeUntilFn(e){for(;!e(this._cursor.peek());)this._cursor.advance()}_requireCharCodeUntilFn(e,n){let r=this._cursor.clone();if(this._attemptCharCodeUntilFn(e),this._cursor.diff(r)<n)throw this._createError(Uo(this._cursor.peek()),this._cursor.getSpan(r))}_attemptUntilChar(e){for(;this._cursor.peek()!==e;)this._cursor.advance()}_readChar(){let e=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),e}_peekStr(e){let n=e.length;if(this._cursor.charsLeft()<n)return!1;let r=this._cursor.clone();for(let i=0;i<n;i++){if(r.peek()!==e.charCodeAt(i))return!1;r.advance()}return!0}_isBlockStart(){return this._cursor.peek()===Bo&&Fk.some(e=>this._peekStr(e))}_isLetStart(){return this._cursor.peek()===Bo&&this._peekStr("@let")}_consumeEntity(e){this._beginToken(9);let n=this._cursor.clone();if(this._cursor.advance(),this._attemptCharCode(iC)){let r=this._attemptCharCode(fC)||this._attemptCharCode(rb),i=this._cursor.clone();if(this._attemptCharCodeUntilFn(Bk),this._cursor.peek()!=Gt){this._cursor.advance();let s=r?im.HEX:im.DEC;throw this._createError(Lk(s,this._cursor.getChars(n)),this._cursor.getSpan())}let o=this._cursor.getChars(i);this._cursor.advance();try{let s=parseInt(o,r?16:10);this._endToken([String.fromCodePoint(s),this._cursor.getChars(n)])}catch{throw this._createError(U_(this._cursor.getChars(n)),this._cursor.getSpan())}}else{let r=this._cursor.clone();if(this._attemptCharCodeUntilFn(Vk),this._cursor.peek()!=Gt)this._beginToken(e,n),this._cursor=r,this._endToken(["&"]);else{let i=this._cursor.getChars(r);this._cursor.advance();let o=Sl.hasOwnProperty(i)&&Sl[i];if(!o)throw this._createError(U_(i),this._cursor.getSpan(n));this._endToken([o,`&${i};`])}}}_consumeRawText(e,n){this._beginToken(e?6:7);let r=[];for(;;){let i=this._cursor.clone(),o=n();if(this._cursor=i,o)break;e&&this._cursor.peek()===Lu?(this._endToken([this._processCarriageReturns(r.join(""))]),r.length=0,this._consumeEntity(6),this._beginToken(6)):r.push(this._readChar())}this._endToken([this._processCarriageReturns(r.join(""))])}_consumeComment(e){this._beginToken(10,e),this._requireCharCode(Fu),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("-->")),this._beginToken(11),this._requireStr("-->"),this._endToken([])}_consumeCdata(e){this._beginToken(12,e),this._requireStr("CDATA["),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("]]>")),this._beginToken(13),this._requireStr("]]>"),this._endToken([])}_consumeDocType(e){this._beginToken(18,e);let n=this._cursor.clone();this._attemptUntilChar(an);let r=this._cursor.getChars(n);this._cursor.advance(),this._endToken([r])}_consumePrefixAndName(e){let n=this._cursor.clone(),r="";for(;this._cursor.peek()!==Er&&!Ok(this._cursor.peek());)this._cursor.advance();let i;this._cursor.peek()===Er?(r=this._cursor.getChars(n),this._cursor.advance(),i=this._cursor.clone()):i=n,this._requireCharCodeUntilFn(e,r===""?0:1);let o=this._cursor.getChars(i);return[r,o]}_consumeTagOpen(e){let n,r,i,o;try{if(this._selectorlessEnabled&&$c(this._cursor.peek()))o=this._consumeComponentOpenStart(e),[i,r,n]=o.parts,r&&(i+=`:${r}`),n&&(i+=`:${n}`),this._attemptCharCodeUntilFn(Be);else{if(!fs(this._cursor.peek()))throw this._createError(Uo(this._cursor.peek()),this._cursor.getSpan(e));o=this._consumeTagOpenStart(e),r=o.parts[0],n=i=o.parts[1],this._attemptCharCodeUntilFn(Be)}for(;!z_(this._cursor.peek());)if(this._selectorlessEnabled&&this._cursor.peek()===Bo){let a=this._cursor.clone(),l=a.clone();l.advance(),$c(l.peek())&&this._consumeDirective(a,l)}else this._consumeAttribute();o.type===33?this._consumeComponentOpenEnd():this._consumeTagOpenEnd()}catch(a){if(a instanceof Z){o?o.type=o.type===33?37:4:(this._beginToken(5,e),this._endToken(["<"]));return}throw a}let s=this._getTagDefinition(n).getContentType(r);s===Kn.RAW_TEXT?this._consumeRawTextWithTagClose(o,i,!1):s===Kn.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(o,i,!0)}_consumeRawTextWithTagClose(e,n,r){this._consumeRawText(r,()=>!this._attemptCharCode(Qo)||!this._attemptCharCode(bn)||(this._attemptCharCodeUntilFn(Be),!this._attemptStrCaseInsensitive(n))?!1:(this._attemptCharCodeUntilFn(Be),this._attemptCharCode(an))),this._beginToken(e.type===33?36:3),this._requireCharCodeUntilFn(i=>i===an,3),this._cursor.advance(),this._endToken(e.parts)}_consumeTagOpenStart(e){this._beginToken(0,e);let n=this._consumePrefixAndName(wi);return this._endToken(n)}_consumeComponentOpenStart(e){this._beginToken(33,e);let n=this._consumeComponentName();return this._endToken(n)}_consumeComponentName(){let e=this._cursor.clone();for(;G_(this._cursor.peek());)this._cursor.advance();let n=this._cursor.getChars(e),r="",i="";return this._cursor.peek()===Er&&(this._cursor.advance(),[r,i]=this._consumePrefixAndName(wi)),[n,r,i]}_consumeAttribute(){this._consumeAttributeName(),this._attemptCharCodeUntilFn(Be),this._attemptCharCode(yt)&&(this._attemptCharCodeUntilFn(Be),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(Be)}_consumeAttributeName(){let e=this._cursor.peek();if(e===ul||e===cl)throw this._createError(Uo(e),this._cursor.getSpan());this._beginToken(14);let n;if(this._openDirectiveCount>0){let i=0;n=o=>{if(this._openDirectiveCount>0){if(o===Mn)i++;else if(o===Tt){if(i===0)return!0;i--}}return wi(o)}}else if(e===Jr){let i=0;n=o=>(o===Jr?i++:o===ki&&i--,i<=0?wi(o):Ou(o))}else n=wi;let r=this._consumePrefixAndName(n);this._endToken(r)}_consumeAttributeValue(){if(this._cursor.peek()===ul||this._cursor.peek()===cl){let e=this._cursor.peek();this._consumeQuote(e);let n=()=>this._cursor.peek()===e;this._consumeWithInterpolation(16,17,n,n),this._consumeQuote(e)}else{let e=()=>wi(this._cursor.peek());this._consumeWithInterpolation(16,17,e,e)}}_consumeQuote(e){this._beginToken(15),this._requireCharCode(e),this._endToken([String.fromCodePoint(e)])}_consumeTagOpenEnd(){let e=this._attemptCharCode(bn)?2:1;this._beginToken(e),this._requireCharCode(an),this._endToken([])}_consumeComponentOpenEnd(){let e=this._attemptCharCode(bn)?35:34;this._beginToken(e),this._requireCharCode(an),this._endToken([])}_consumeTagClose(e){if(this._selectorlessEnabled){let r=e.clone();for(;r.peek()!==an&&!$c(r.peek());)r.advance();if($c(r.peek())){this._beginToken(36,e);let i=this._consumeComponentName();this._attemptCharCodeUntilFn(Be),this._requireCharCode(an),this._endToken(i);return}}this._beginToken(3,e),this._attemptCharCodeUntilFn(Be);let n=this._consumePrefixAndName(wi);this._attemptCharCodeUntilFn(Be),this._requireCharCode(an),this._endToken(n)}_consumeExpansionFormStart(){this._beginToken(19),this._requireCharCode(Nn),this._endToken([]),this._expansionCaseStack.push(19),this._beginToken(7);let e=this._readUntil(pn),n=this._processCarriageReturns(e);if(this._i18nNormalizeLineEndingsInICUs)this._endToken([n]);else{let i=this._endToken([e]);n!==e&&this.nonNormalizedIcuExpressions.push(i)}this._requireCharCode(pn),this._attemptCharCodeUntilFn(Be),this._beginToken(7);let r=this._readUntil(pn);this._endToken([r]),this._requireCharCode(pn),this._attemptCharCodeUntilFn(Be)}_consumeExpansionCaseStart(){this._beginToken(20);let e=this._readUntil(Nn).trim();this._endToken([e]),this._attemptCharCodeUntilFn(Be),this._beginToken(21),this._requireCharCode(Nn),this._endToken([]),this._attemptCharCodeUntilFn(Be),this._expansionCaseStack.push(21)}_consumeExpansionCaseEnd(){this._beginToken(22),this._requireCharCode(xt),this._endToken([]),this._attemptCharCodeUntilFn(Be),this._expansionCaseStack.pop()}_consumeExpansionFormEnd(){this._beginToken(23),this._requireCharCode(xt),this._endToken([]),this._expansionCaseStack.pop()}_consumeWithInterpolation(e,n,r,i){this._beginToken(e);let o=[];for(;!r();){let s=this._cursor.clone();this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(this._endToken([this._processCarriageReturns(o.join(""))],s),o.length=0,this._consumeInterpolation(n,s,i),this._beginToken(e)):this._cursor.peek()===Lu?(this._endToken([this._processCarriageReturns(o.join(""))]),o.length=0,this._consumeEntity(e),this._beginToken(e)):o.push(this._readChar())}this._inInterpolation=!1,this._endToken([this._processCarriageReturns(o.join(""))])}_consumeInterpolation(e,n,r){let i=[];this._beginToken(e,n),i.push(this._interpolationConfig.start);let o=this._cursor.clone(),s=null,a=!1;for(;this._cursor.peek()!==ut&&(r===null||!r());){let l=this._cursor.clone();if(this._isTagStart()){this._cursor=l,i.push(this._getProcessedChars(o,l)),this._endToken(i);return}if(s===null)if(this._attemptStr(this._interpolationConfig.end)){i.push(this._getProcessedChars(o,l)),i.push(this._interpolationConfig.end),this._endToken(i);return}else this._attemptStr("//")&&(a=!0);let c=this._cursor.peek();this._cursor.advance(),c===es?this._cursor.advance():c===s?s=null:!a&&s===null&&Ma(c)&&(s=c)}i.push(this._getProcessedChars(o,this._cursor)),this._endToken(i)}_consumeDirective(e,n){for(this._requireCharCode(Bo),this._cursor.advance();G_(this._cursor.peek());)this._cursor.advance();this._beginToken(38,e);let r=this._cursor.getChars(n);if(this._endToken([r]),this._attemptCharCodeUntilFn(Be),this._cursor.peek()===Mn){for(this._openDirectiveCount++,this._beginToken(39),this._cursor.advance(),this._endToken([]),this._attemptCharCodeUntilFn(Be);!z_(this._cursor.peek())&&this._cursor.peek()!==Tt;)this._consumeAttribute();if(this._attemptCharCodeUntilFn(Be),this._openDirectiveCount--,this._cursor.peek()!==Tt){if(this._cursor.peek()===an||this._cursor.peek()===bn)return;throw this._createError(Uo(this._cursor.peek()),this._cursor.getSpan(e))}this._beginToken(40),this._cursor.advance(),this._endToken([]),this._attemptCharCodeUntilFn(Be)}}_getProcessedChars(e,n){return this._processCarriageReturns(n.getChars(e))}_isTextEnd(){return!!(this._isTagStart()||this._cursor.peek()===ut||this._tokenizeIcu&&!this._inInterpolation&&(this.isExpansionFormStart()||this._cursor.peek()===xt&&this._isInExpansionCase())||this._tokenizeBlocks&&!this._inInterpolation&&!this._isInExpansion()&&(this._isBlockStart()||this._isLetStart()||this._cursor.peek()===xt))}_isTagStart(){if(this._cursor.peek()===Qo){let e=this._cursor.clone();e.advance();let n=e.peek();if(ji<=n&&n<=Rl||ri<=n&&n<=Cs||n===bn||n===Bh)return!0}return!1}_readUntil(e){let n=this._cursor.clone();return this._attemptUntilChar(e),this._cursor.getChars(n)}_isInExpansion(){return this._isInExpansionCase()||this._isInExpansionForm()}_isInExpansionCase(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===21}_isInExpansionForm(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===19}isExpansionFormStart(){if(this._cursor.peek()!==Nn)return!1;if(this._interpolationConfig){let e=this._cursor.clone(),n=this._attemptStr(this._interpolationConfig.start);return this._cursor=e,!n}return!0}};function Be(t){return!dl(t)||t===ut}function wi(t){return dl(t)||t===an||t===Qo||t===bn||t===ul||t===cl||t===yt||t===ut}function Ok(t){return(t<ji||Rl<t)&&(t<ri||Cs<t)&&(t<Xm||t>sC)}function Bk(t){return t===Gt||t===ut||!ab(t)}function Vk(t){return t===Gt||t===ut||!fs(t)}function $k(t){return t!==xt}function Uk(t,e){return H_(t)===H_(e)}function H_(t){return t>=ji&&t<=Rl?t-ji+ri:t}function Hk(t){return fs(t)||kn(t)||t===ii}function q_(t){return t!==Gt&&Be(t)}function $c(t){return t===ii||t>=ri&&t<=Cs}function G_(t){return fs(t)||kn(t)||t===ii}function z_(t){return t===bn||t===an||t===Qo||t===ut}function qk(t){let e=[],n;for(let r=0;r<t.length;r++){let i=t[r];n&&n.type===5&&i.type===5||n&&n.type===16&&i.type===16?(n.parts[0]+=i.parts[0],n.sourceSpan.end=i.sourceSpan.end):(n=i,e.push(n))}return e}var ed=class t{state;file;input;end;constructor(e,n){if(e instanceof t){this.file=e.file,this.input=e.input,this.end=e.end;let r=e.state;this.state={peek:r.peek,offset:r.offset,line:r.line,column:r.column}}else{if(!n)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=e,this.input=e.content,this.end=n.endPos,this.state={peek:-1,offset:n.startPos,line:n.startLine,column:n.startCol}}}clone(){return new t(this)}peek(){return this.state.peek}charsLeft(){return this.end-this.state.offset}diff(e){return this.state.offset-e.state.offset}advance(){this.advanceState(this.state)}init(){this.updatePeek(this.state)}getSpan(e,n){e=e||this;let r=e;if(n)for(;this.diff(e)>0&&n.indexOf(e.peek())!==-1;)r===e&&(e=e.clone()),e.advance();let i=this.locationFromCursor(e),o=this.locationFromCursor(this),s=r!==e?this.locationFromCursor(r):i;return new Q(i,o,s)}getChars(e){return this.input.substring(e.state.offset,this.state.offset)}charAt(e){return this.input.charCodeAt(e)}advanceState(e){if(e.offset>=this.end)throw this.state=e,new Tl('Unexpected character "EOF"',this);let n=this.charAt(e.offset);n===Ri?(e.line++,e.column=0):Ou(n)||e.column++,e.offset++,this.updatePeek(e)}updatePeek(e){e.peek=e.offset>=this.end?ut:this.charAt(e.offset)}locationFromCursor(e){return new fl(e.file,e.state.offset,e.state.line,e.state.column)}},sm=class t extends ed{internalState;constructor(e,n){e instanceof t?(super(e),this.internalState=I({},e.internalState)):(super(e,n),this.internalState=this.state)}advance(){this.state=this.internalState,super.advance(),this.processEscapeSequence()}init(){super.init(),this.processEscapeSequence()}clone(){return new t(this)}getChars(e){let n=e.clone(),r="";for(;n.internalState.offset<this.internalState.offset;)r+=String.fromCodePoint(n.peek()),n.advance();return r}processEscapeSequence(){let e=()=>this.internalState.peek;if(e()===es)if(this.internalState=I({},this.state),this.advanceState(this.internalState),e()===aC)this.state.peek=Ri;else if(e()===lC)this.state.peek=Km;else if(e()===dC)this.state.peek=tC;else if(e()===cC)this.state.peek=Jm;else if(e()===ob)this.state.peek=ZA;else if(e()===Zm)this.state.peek=nC;else if(e()===uC)if(this.advanceState(this.internalState),e()===Nn){this.advanceState(this.internalState);let n=this.clone(),r=0;for(;e()!==xt;)this.advanceState(this.internalState),r++;this.state.peek=this.decodeHexDigits(n,r)}else{let n=this.clone();this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(n,4)}else if(e()===fC){this.advanceState(this.internalState);let n=this.clone();this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(n,2)}else if(E_(e())){let n="",r=0,i=this.clone();for(;E_(e())&&r<3;)i=this.clone(),n+=String.fromCodePoint(e()),this.advanceState(this.internalState),r++;this.state.peek=parseInt(n,8),this.internalState=i.internalState}else Ou(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek}decodeHexDigits(e,n){let r=this.input.slice(e.internalState.offset,e.internalState.offset+n),i=parseInt(r,16);if(isNaN(i))throw e.state=e.internalState,new Tl("Invalid hexadecimal escape sequence",e);return i}},Tl=class extends Error{msg;cursor;constructor(e,n){super(e),this.msg=e,this.cursor=n,Object.setPrototypeOf(this,new.target.prototype)}},ze=class t extends Z{elementName;static create(e,n,r){return new t(e,n,r)}constructor(e,n,r){super(n,r),this.elementName=e}},td=class{rootNodes;errors;constructor(e,n){this.rootNodes=e,this.errors=n}},Gk=class{getTagDefinition;constructor(e){this.getTagDefinition=e}parse(e,n,r){let i=Pk(e,n,this.getTagDefinition,r),o=new am(i.tokens,this.getTagDefinition);return o.build(),new td(o.rootNodes,[...i.errors,...o.errors])}},am=class t{tokens;tagDefinitionResolver;_index=-1;_peek;_containerStack=[];rootNodes=[];errors=[];constructor(e,n){this.tokens=e,this.tagDefinitionResolver=n,this._advance()}build(){for(;this._peek.type!==41;)this._peek.type===0||this._peek.type===4?this._consumeElementStartTag(this._advance()):this._peek.type===3?this._consumeElementEndTag(this._advance()):this._peek.type===12?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===10?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===5||this._peek.type===7||this._peek.type===6?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===19?this._consumeExpansion(this._advance()):this._peek.type===24?(this._closeVoidElement(),this._consumeBlockOpen(this._advance())):this._peek.type===26?(this._closeVoidElement(),this._consumeBlockClose(this._advance())):this._peek.type===28?(this._closeVoidElement(),this._consumeIncompleteBlock(this._advance())):this._peek.type===29?(this._closeVoidElement(),this._consumeLet(this._advance())):this._peek.type===32?(this._closeVoidElement(),this._consumeIncompleteLet(this._advance())):this._peek.type===33||this._peek.type===37?this._consumeComponentStartTag(this._advance()):this._peek.type===36?this._consumeComponentEndTag(this._advance()):this._advance();for(let e of this._containerStack)e instanceof cn&&this.errors.push(ze.create(e.name,e.sourceSpan,`Unclosed block "${e.name}"`))}_advance(){let e=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],e}_advanceIf(e){return this._peek.type===e?this._advance():null}_consumeCdata(e){this._consumeText(this._advance()),this._advanceIf(13)}_consumeComment(e){let n=this._advanceIf(7),r=this._advanceIf(11),i=n!=null?n.parts[0].trim():null,o=r==null?e.sourceSpan:new Q(e.sourceSpan.start,r.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new wl(i,o))}_consumeExpansion(e){let n=this._advance(),r=this._advance(),i=[];for(;this._peek.type===20;){let s=this._parseExpansionCase();if(!s)return;i.push(s)}if(this._peek.type!==23){this.errors.push(ze.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));return}let o=new Q(e.sourceSpan.start,this._peek.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new Li(n.parts[0],r.parts[0],i,o,n.sourceSpan)),this._advance()}_parseExpansionCase(){let e=this._advance();if(this._peek.type!==21)return this.errors.push(ze.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;let n=this._advance(),r=this._collectExpansionExpTokens(n);if(!r)return null;let i=this._advance();r.push({type:41,parts:[],sourceSpan:i.sourceSpan});let o=new t(r,this.tagDefinitionResolver);if(o.build(),o.errors.length>0)return this.errors=this.errors.concat(o.errors),null;let s=new Q(e.sourceSpan.start,i.sourceSpan.end,e.sourceSpan.fullStart),a=new Q(n.sourceSpan.start,i.sourceSpan.end,n.sourceSpan.fullStart);return new Xu(e.parts[0],o.rootNodes,s,e.sourceSpan,a)}_collectExpansionExpTokens(e){let n=[],r=[21];for(;;){if((this._peek.type===19||this._peek.type===21)&&r.push(this._peek.type),this._peek.type===22)if(W_(r,21)){if(r.pop(),r.length===0)return n}else return this.errors.push(ze.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(this._peek.type===23)if(W_(r,19))r.pop();else return this.errors.push(ze.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(this._peek.type===41)return this.errors.push(ze.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;n.push(this._advance())}}_consumeText(e){let n=[e],r=e.sourceSpan,i=e.parts[0];if(i.length>0&&i[0]===`
`){let o=this._getContainer();o!=null&&o.children.length===0&&this._getTagDefinition(o)?.ignoreFirstLf&&(i=i.substring(1),n[0]={type:e.type,sourceSpan:e.sourceSpan,parts:[i]})}for(;this._peek.type===8||this._peek.type===5||this._peek.type===9;)e=this._advance(),n.push(e),e.type===8?i+=e.parts.join("").replace(/&([^;]+);/g,j_):e.type===9?i+=e.parts[0]:i+=e.parts.join("");if(i.length>0){let o=e.sourceSpan;this._addToParent(new Zi(i,new Q(r.start,o.end,r.fullStart,r.details),n))}}_closeVoidElement(){let e=this._getContainer();e!==null&&this._getTagDefinition(e)?.isVoid&&this._containerStack.pop()}_consumeElementStartTag(e){let n=[],r=[];this._consumeAttributesAndDirectives(n,r);let i=this._getElementFullName(e,this._getClosestElementLikeParent()),o=this._getTagDefinition(i),s=!1;this._peek.type===2?(this._advance(),s=!0,o?.canSelfClose||bh(i)!==null||o?.isVoid||this.errors.push(ze.create(i,e.sourceSpan,`Only void, custom and foreign elements can be self closed "${e.parts[1]}"`))):this._peek.type===1&&(this._advance(),s=!1);let a=this._peek.sourceSpan.fullStart,l=new Q(e.sourceSpan.start,a,e.sourceSpan.fullStart),c=new Q(e.sourceSpan.start,a,e.sourceSpan.fullStart),d=new ln(i,n,r,[],s,l,c,void 0,o?.isVoid??!1),p=this._getContainer(),h=p!==null&&!!this._getTagDefinition(p)?.isClosedByChild(d.name);this._pushContainer(d,h),s?this._popContainer(i,ln,l):e.type===4&&(this._popContainer(i,ln,null),this.errors.push(ze.create(i,l,`Opening tag "${i}" not terminated.`)))}_consumeComponentStartTag(e){let n=e.parts[0],r=[],i=[];this._consumeAttributesAndDirectives(r,i);let o=this._getClosestElementLikeParent(),s=this._getComponentTagName(e,o),a=this._getComponentFullName(e,o),l=this._peek.type===35;this._advance();let c=this._peek.sourceSpan.fullStart,d=new Q(e.sourceSpan.start,c,e.sourceSpan.fullStart),p=new Q(e.sourceSpan.start,c,e.sourceSpan.fullStart),h=new Rt(n,s,a,r,i,[],l,d,p,void 0),g=this._getContainer(),v=g!==null&&h.tagName!==null&&!!this._getTagDefinition(g)?.isClosedByChild(h.tagName);this._pushContainer(h,v),l?this._popContainer(a,Rt,d):e.type===37&&(this._popContainer(a,Rt,null),this.errors.push(ze.create(a,d,`Opening tag "${a}" not terminated.`)))}_consumeAttributesAndDirectives(e,n){for(;this._peek.type===14||this._peek.type===38;)this._peek.type===38?n.push(this._consumeDirective(this._peek)):e.push(this._consumeAttr(this._advance()))}_consumeComponentEndTag(e){let n=this._getComponentFullName(e,this._getClosestElementLikeParent());if(!this._popContainer(n,Rt,e.sourceSpan)){let r=this._containerStack[this._containerStack.length-1],i;r instanceof Rt&&r.componentName===e.parts[0]?i=`, did you mean "${r.fullName}"?`:i=". It may happen when the tag has already been closed by another tag.";let o=`Unexpected closing tag "${n}"${i}`;this.errors.push(ze.create(n,e.sourceSpan,o))}}_getTagDefinition(e){return typeof e=="string"?this.tagDefinitionResolver(e):e instanceof ln?this.tagDefinitionResolver(e.name):e instanceof Rt&&e.tagName!==null?this.tagDefinitionResolver(e.tagName):null}_pushContainer(e,n){n&&this._containerStack.pop(),this._addToParent(e),this._containerStack.push(e)}_consumeElementEndTag(e){let n=this._getElementFullName(e,this._getClosestElementLikeParent());if(this._getTagDefinition(n)?.isVoid)this.errors.push(ze.create(n,e.sourceSpan,`Void elements do not have end tags "${e.parts[1]}"`));else if(!this._popContainer(n,ln,e.sourceSpan)){let r=`Unexpected closing tag "${n}". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags`;this.errors.push(ze.create(n,e.sourceSpan,r))}}_popContainer(e,n,r){let i=!1;for(let o=this._containerStack.length-1;o>=0;o--){let s=this._containerStack[o];if(((s instanceof Rt?s.fullName:s.name)===e||e===null)&&s instanceof n)return s.endSourceSpan=r,s.sourceSpan.end=r!==null?r.end:s.sourceSpan.end,this._containerStack.splice(o,this._containerStack.length-o),!i;(s instanceof cn||!this._getTagDefinition(s)?.closedByParent)&&(i=!0)}return!1}_consumeAttr(e){let n=eu(e.parts[0],e.parts[1]),r=e.sourceSpan.end;this._peek.type===15&&this._advance();let i="",o=[],s,a;if(this._peek.type===16)for(s=this._peek.sourceSpan,a=this._peek.sourceSpan.end;this._peek.type===16||this._peek.type===17||this._peek.type===9;){let d=this._advance();o.push(d),d.type===17?i+=d.parts.join("").replace(/&([^;]+);/g,j_):d.type===9?i+=d.parts[0]:i+=d.parts.join(""),a=r=d.sourceSpan.end}this._peek.type===15&&(r=this._advance().sourceSpan.end);let c=s&&a&&new Q(s.start,a,s.fullStart);return new tm(n,i,new Q(e.sourceSpan.start,r,e.sourceSpan.fullStart),e.sourceSpan,c,o.length>0?o:void 0,void 0)}_consumeDirective(e){let n=[],r=e.sourceSpan.end,i=null;if(this._advance(),this._peek.type===39){for(r=this._peek.sourceSpan.end,this._advance();this._peek.type===14;)n.push(this._consumeAttr(this._advance()));this._peek.type===40?(i=this._peek.sourceSpan,this._advance()):this.errors.push(ze.create(null,e.sourceSpan,"Unterminated directive definition"))}let o=new Q(e.sourceSpan.start,r,e.sourceSpan.fullStart),s=new Q(o.start,i===null?e.sourceSpan.end:i.end,o.fullStart);return new nm(e.parts[0],n,s,o,i)}_consumeBlockOpen(e){let n=[];for(;this._peek.type===27;){let a=this._advance();n.push(new Zu(a.parts[0],a.sourceSpan))}this._peek.type===25&&this._advance();let r=this._peek.sourceSpan.fullStart,i=new Q(e.sourceSpan.start,r,e.sourceSpan.fullStart),o=new Q(e.sourceSpan.start,r,e.sourceSpan.fullStart),s=new cn(e.parts[0],n,[],i,e.sourceSpan,o);this._pushContainer(s,!1)}_consumeBlockClose(e){this._popContainer(null,cn,e.sourceSpan)||this.errors.push(ze.create(null,e.sourceSpan,'Unexpected closing block. The block may have been closed earlier. If you meant to write the } character, you should use the "&#125;" HTML entity instead.'))}_consumeIncompleteBlock(e){let n=[];for(;this._peek.type===27;){let a=this._advance();n.push(new Zu(a.parts[0],a.sourceSpan))}let r=this._peek.sourceSpan.fullStart,i=new Q(e.sourceSpan.start,r,e.sourceSpan.fullStart),o=new Q(e.sourceSpan.start,r,e.sourceSpan.fullStart),s=new cn(e.parts[0],n,[],i,e.sourceSpan,o);this._pushContainer(s,!1),this._popContainer(null,cn,null),this.errors.push(ze.create(e.parts[0],i,`Incomplete block "${e.parts[0]}". If you meant to write the @ character, you should use the "&#64;" HTML entity instead.`))}_consumeLet(e){let n=e.parts[0],r,i;if(this._peek.type!==30){this.errors.push(ze.create(e.parts[0],e.sourceSpan,`Invalid @let declaration "${n}". Declaration must have a value.`));return}else r=this._advance();if(this._peek.type!==31){this.errors.push(ze.create(e.parts[0],e.sourceSpan,`Unterminated @let declaration "${n}". Declaration must be terminated with a semicolon.`));return}else i=this._advance();let o=i.sourceSpan.fullStart,s=new Q(e.sourceSpan.start,o,e.sourceSpan.fullStart),a=e.sourceSpan.toString().lastIndexOf(n),l=e.sourceSpan.start.moveBy(a),c=new Q(l,e.sourceSpan.end),d=new Qu(n,r.parts[0],s,c,r.sourceSpan);this._addToParent(d)}_consumeIncompleteLet(e){let n=e.parts[0]??"",r=n?` "${n}"`:"";if(n.length>0){let i=e.sourceSpan.toString().lastIndexOf(n),o=e.sourceSpan.start.moveBy(i),s=new Q(o,e.sourceSpan.end),a=new Q(e.sourceSpan.start,e.sourceSpan.start.moveBy(0)),l=new Qu(n,"",e.sourceSpan,s,a);this._addToParent(l)}this.errors.push(ze.create(e.parts[0],e.sourceSpan,`Incomplete @let declaration${r}. @let declarations must be written as \`@let <name> = <value>;\``))}_getContainer(){return this._containerStack.length>0?this._containerStack[this._containerStack.length-1]:null}_getClosestElementLikeParent(){for(let e=this._containerStack.length-1;e>-1;e--){let n=this._containerStack[e];if(n instanceof ln||n instanceof Rt)return n}return null}_addToParent(e){let n=this._getContainer();n===null?this.rootNodes.push(e):n.children.push(e)}_getElementFullName(e,n){let r=this._getPrefix(e,n);return eu(r,e.parts[1])}_getComponentFullName(e,n){let r=e.parts[0],i=this._getComponentTagName(e,n);return i===null?r:i.startsWith(":")?r+i:`${r}:${i}`}_getComponentTagName(e,n){let r=this._getPrefix(e,n),i=e.parts[2];return!r&&!i?null:!r&&i?i:eu(r,i||"ng-component")}_getPrefix(e,n){let r,i;if(e.type===33||e.type===37||e.type===36?(r=e.parts[1],i=e.parts[2]):(r=e.parts[0],i=e.parts[1]),r=r||this._getTagDefinition(i)?.implicitNamespacePrefix||"",!r&&n){let o=n instanceof ln?n.name:n.tagName;if(o!==null){let s=Fn(o)[1],a=this._getTagDefinition(s);a!==null&&!a.preventNamespaceInheritance&&(r=bh(o))}}return r}};function W_(t,e){return t.length>0&&t[t.length-1]===e}function j_(t,e){return Sl[e]!==void 0?Sl[e]||t:/^#x[a-f0-9]+$/i.test(e)?String.fromCodePoint(parseInt(e.slice(2),16)):/^#\d+$/.test(e)?String.fromCodePoint(parseInt(e.slice(1),10)):t}var BC="ngPreserveWhitespaces",Y_=new Set(["pre","template","textarea","script","style"]),VC=` \f
\r	\v\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF`,zk=new RegExp(`[^${VC}]`),Wk=new RegExp(`[${VC}]{2,}`,"g");function J_(t){return t.some(e=>e.name===BC)}function $C(t){return t.replace(new RegExp(OC,"g")," ")}var nd=class{preserveSignificantWhitespace;originalNodeMap;requireContext;icuExpansionDepth=0;constructor(e,n,r=!0){this.preserveSignificantWhitespace=e,this.originalNodeMap=n,this.requireContext=r}visitElement(e,n){if(Y_.has(e.name)||J_(e.attrs)){let i=new ln(e.name,jn(this,e.attrs),jn(this,e.directives),e.children,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.isVoid,e.i18n);return this.originalNodeMap?.set(i,e),i}let r=new ln(e.name,e.attrs,e.directives,jn(this,e.children),e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.isVoid,e.i18n);return this.originalNodeMap?.set(r,e),r}visitAttribute(e,n){return e.name!==BC?e:null}visitText(e,n){let r=e.value.match(zk),i=n&&(n.prev instanceof Li||n.next instanceof Li);if(this.icuExpansionDepth>0&&this.preserveSignificantWhitespace)return e;if(r||i){let s=e.tokens.map(d=>d.type===5?Kk(d):d);if(!this.preserveSignificantWhitespace&&s.length>0){let d=s[0];s.splice(0,1,jk(d,n));let p=s[s.length-1];s.splice(s.length-1,1,Yk(p,n))}let a=HC(e.value),l=this.preserveSignificantWhitespace?a:Jk(a,n),c=new Zi(l,e.sourceSpan,s,e.i18n);return this.originalNodeMap?.set(c,e),c}return null}visitComment(e,n){return e}visitExpansion(e,n){this.icuExpansionDepth++;let r;try{r=new Li(e.switchValue,e.type,jn(this,e.cases),e.sourceSpan,e.switchValueSourceSpan,e.i18n)}finally{this.icuExpansionDepth--}return this.originalNodeMap?.set(r,e),r}visitExpansionCase(e,n){let r=new Xu(e.value,jn(this,e.expression),e.sourceSpan,e.valueSourceSpan,e.expSourceSpan);return this.originalNodeMap?.set(r,e),r}visitBlock(e,n){let r=new cn(e.name,e.parameters,jn(this,e.children),e.sourceSpan,e.nameSpan,e.startSourceSpan,e.endSourceSpan);return this.originalNodeMap?.set(r,e),r}visitBlockParameter(e,n){return e}visitLetDeclaration(e,n){return e}visitComponent(e,n){if(e.tagName&&Y_.has(e.tagName)||J_(e.attrs)){let i=new Rt(e.componentName,e.tagName,e.fullName,jn(this,e.attrs),jn(this,e.directives),e.children,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return this.originalNodeMap?.set(i,e),i}let r=new Rt(e.componentName,e.tagName,e.fullName,e.attrs,e.directives,jn(this,e.children),e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return this.originalNodeMap?.set(r,e),r}visitDirective(e,n){return e}visit(e,n){if(this.requireContext&&!n)throw new Error("WhitespaceVisitor requires context. Visit via `visitAllWithSiblings` to get this context.");return!1}};function jk(t,e){return t.type!==5||!!e?.prev?t:UC(t,r=>r.trimStart())}function Yk(t,e){return t.type!==5||!!e?.next?t:UC(t,r=>r.trimEnd())}function Jk(t,e){let n=!e?.prev,r=!e?.next,i=n?t.trimStart():t;return r?i.trimEnd():i}function Kk({type:t,parts:e,sourceSpan:n}){return{type:t,parts:[HC(e[0])],sourceSpan:n}}function UC({type:t,parts:e,sourceSpan:n},r){return{type:t,parts:[r(e[0])],sourceSpan:n}}function HC(t){return $C(t).replace(Wk," ")}function jn(t,e){let n=[];return e.forEach((r,i)=>{let o={prev:e[i-1],next:e[i+1]},s=r.visit(t,o);s&&n.push(s)}),n}var ae=(function(t){return t[t.Character=0]="Character",t[t.Identifier=1]="Identifier",t[t.PrivateIdentifier=2]="PrivateIdentifier",t[t.Keyword=3]="Keyword",t[t.String=4]="String",t[t.Operator=5]="Operator",t[t.Number=6]="Number",t[t.Error=7]="Error",t})(ae||{}),Fi=(function(t){return t[t.Plain=0]="Plain",t[t.TemplateLiteralPart=1]="TemplateLiteralPart",t[t.TemplateLiteralEnd=2]="TemplateLiteralEnd",t})(Fi||{}),Xk=["var","let","as","null","undefined","true","false","if","else","this","typeof","void","in"],xl=class{tokenize(e){return new lm(e).scan()}},On=class{index;end;type;numValue;strValue;constructor(e,n,r,i,o){this.index=e,this.end=n,this.type=r,this.numValue=i,this.strValue=o}isCharacter(e){return this.type===ae.Character&&this.numValue===e}isNumber(){return this.type===ae.Number}isString(){return this.type===ae.String}isOperator(e){return this.type===ae.Operator&&this.strValue===e}isIdentifier(){return this.type===ae.Identifier}isPrivateIdentifier(){return this.type===ae.PrivateIdentifier}isKeyword(){return this.type===ae.Keyword}isKeywordLet(){return this.type===ae.Keyword&&this.strValue==="let"}isKeywordAs(){return this.type===ae.Keyword&&this.strValue==="as"}isKeywordNull(){return this.type===ae.Keyword&&this.strValue==="null"}isKeywordUndefined(){return this.type===ae.Keyword&&this.strValue==="undefined"}isKeywordTrue(){return this.type===ae.Keyword&&this.strValue==="true"}isKeywordFalse(){return this.type===ae.Keyword&&this.strValue==="false"}isKeywordThis(){return this.type===ae.Keyword&&this.strValue==="this"}isKeywordTypeof(){return this.type===ae.Keyword&&this.strValue==="typeof"}isKeywordVoid(){return this.type===ae.Keyword&&this.strValue==="void"}isKeywordIn(){return this.type===ae.Keyword&&this.strValue==="in"}isError(){return this.type===ae.Error}toNumber(){return this.type===ae.Number?this.numValue:-1}isTemplateLiteralPart(){return this.isString()&&this.kind===Fi.TemplateLiteralPart}isTemplateLiteralEnd(){return this.isString()&&this.kind===Fi.TemplateLiteralEnd}isTemplateLiteralInterpolationStart(){return this.isOperator("${")}toString(){switch(this.type){case ae.Character:case ae.Identifier:case ae.Keyword:case ae.Operator:case ae.PrivateIdentifier:case ae.String:case ae.Error:return this.strValue;case ae.Number:return this.numValue.toString();default:return null}}},Pa=class extends On{kind;constructor(e,n,r,i){super(e,n,ae.String,0,r),this.kind=i}};function Ca(t,e,n){return new On(t,e,ae.Character,n,String.fromCharCode(n))}function Zk(t,e,n){return new On(t,e,ae.Identifier,0,n)}function Qk(t,e,n){return new On(t,e,ae.PrivateIdentifier,0,n)}function eN(t,e,n){return new On(t,e,ae.Keyword,0,n)}function wa(t,e,n){return new On(t,e,ae.Operator,0,n)}function tN(t,e,n){return new On(t,e,ae.Number,n,"")}function nN(t,e,n){return new On(t,e,ae.Error,0,n)}var Uc=new On(-1,-1,ae.Character,0,""),lm=class{input;tokens=[];length;peek=0;index=-1;braceStack=[];constructor(e){this.input=e,this.length=e.length,this.advance()}scan(){let e=this.scanToken();for(;e!==null;)this.tokens.push(e),e=this.scanToken();return this.tokens}advance(){this.peek=++this.index>=this.length?ut:this.input.charCodeAt(this.index)}scanToken(){let e=this.input,n=this.length,r=this.peek,i=this.index;for(;r<=rC;)if(++i>=n){r=ut;break}else r=e.charCodeAt(i);if(this.peek=r,this.index=i,i>=n)return null;if(K_(r))return this.scanIdentifier();if(kn(r))return this.scanNumber(i);let o=i;switch(r){case Ia:return this.advance(),kn(this.peek)?this.scanNumber(o):Ca(o,this.index,Ia);case Mn:case Tt:case Jr:case ki:case pn:case Er:case Gt:return this.scanCharacter(o,r);case Nn:return this.scanOpenBrace(o,r);case xt:return this.scanCloseBrace(o,r);case ul:case cl:return this.scanString();case Vh:return this.advance(),this.scanTemplateLiteralPart(o);case iC:return this.scanPrivateIdentifier();case oC:return this.scanComplexOperator(o,"+",yt,"=");case Fu:return this.scanComplexOperator(o,"-",yt,"=");case bn:return this.scanComplexOperator(o,"/",yt,"=");case QA:return this.scanComplexOperator(o,"%",yt,"=");case ib:return this.scanOperator(o,"^");case v_:return this.scanStar(o);case y_:return this.scanQuestion(o);case Qo:case an:return this.scanComplexOperator(o,String.fromCharCode(r),yt,"=");case Bh:case yt:return this.scanComplexOperator(o,String.fromCharCode(r),yt,"=",yt,"=");case Lu:return this.scanComplexOperator(o,"&",Lu,"&",yt,"=");case __:return this.scanComplexOperator(o,"|",__,"|",yt,"=");case pC:for(;dl(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error(`Unexpected character [${String.fromCharCode(r)}]`,0)}scanCharacter(e,n){return this.advance(),Ca(e,this.index,n)}scanOperator(e,n){return this.advance(),wa(e,this.index,n)}scanOpenBrace(e,n){return this.braceStack.push("expression"),this.advance(),Ca(e,this.index,n)}scanCloseBrace(e,n){return this.advance(),this.braceStack.pop()==="interpolation"?(this.tokens.push(Ca(e,this.index,xt)),this.scanTemplateLiteralPart(this.index)):Ca(e,this.index,n)}scanComplexOperator(e,n,r,i,o,s){this.advance();let a=n;return this.peek==r&&(this.advance(),a+=i),o!=null&&this.peek==o&&(this.advance(),a+=s),wa(e,this.index,a)}scanIdentifier(){let e=this.index;for(this.advance();X_(this.peek);)this.advance();let n=this.input.substring(e,this.index);return Xk.indexOf(n)>-1?eN(e,this.index,n):Zk(e,this.index,n)}scanPrivateIdentifier(){let e=this.index;if(this.advance(),!K_(this.peek))return this.error("Invalid character [#]",-1);for(;X_(this.peek);)this.advance();let n=this.input.substring(e,this.index);return Qk(e,this.index,n)}scanNumber(e){let n=this.index===e,r=!1;for(this.advance();;){if(!kn(this.peek))if(this.peek===ii){if(!kn(this.input.charCodeAt(this.index-1))||!kn(this.input.charCodeAt(this.index+1)))return this.error("Invalid numeric separator",0);r=!0}else if(this.peek===Ia)n=!1;else if(rN(this.peek)){if(this.advance(),iN(this.peek)&&this.advance(),!kn(this.peek))return this.error("Invalid exponent",-1);n=!1}else break;this.advance()}let i=this.input.substring(e,this.index);r&&(i=i.replace(/_/g,""));let o=n?sN(i):parseFloat(i);return tN(e,this.index,o)}scanString(){let e=this.index,n=this.peek;this.advance();let r="",i=this.index,o=this.input;for(;this.peek!=n;)if(this.peek==es){let a=this.scanStringBackslash(r,i);if(typeof a!="string")return a;r=a,i=this.index}else{if(this.peek==ut)return this.error("Unterminated quote",0);this.advance()}let s=o.substring(i,this.index);return this.advance(),new Pa(e,this.index,r+s,Fi.Plain)}scanQuestion(e){this.advance();let n="?";return this.peek===y_?(n+="?",this.advance(),this.peek===yt&&(n+="=",this.advance())):this.peek===Ia&&(n+=".",this.advance()),wa(e,this.index,n)}scanTemplateLiteralPart(e){let n="",r=this.index;for(;this.peek!==Vh;)if(this.peek===es){let o=this.scanStringBackslash(n,r);if(typeof o!="string")return o;n=o,r=this.index}else if(this.peek===_d){let o=this.index;if(this.advance(),this.peek===Nn)return this.braceStack.push("interpolation"),this.tokens.push(new Pa(e,o,n+this.input.substring(r,o),Fi.TemplateLiteralPart)),this.advance(),wa(o,this.index,this.input.substring(o,this.index))}else{if(this.peek===ut)return this.error("Unterminated template literal",0);this.advance()}let i=this.input.substring(r,this.index);return this.advance(),new Pa(e,this.index,n+i,Fi.TemplateLiteralEnd)}error(e,n){let r=this.index+n;return nN(r,this.index,`Lexer Error: ${e} at column ${r} in expression [${this.input}]`)}scanStringBackslash(e,n){e+=this.input.substring(n,this.index);let r;if(this.advance(),this.peek===uC){let i=this.input.substring(this.index+1,this.index+5);if(/^[0-9a-f]+$/i.test(i))r=parseInt(i,16);else return this.error(`Invalid unicode escape [\\u${i}]`,0);for(let o=0;o<5;o++)this.advance()}else r=oN(this.peek),this.advance();return e+=String.fromCharCode(r),e}scanStar(e){this.advance();let n="*";return this.peek===v_?(n+="*",this.advance(),this.peek===yt&&(n+="=",this.advance())):this.peek===yt&&(n+="=",this.advance()),wa(e,this.index,n)}};function K_(t){return ji<=t&&t<=Rl||ri<=t&&t<=Cs||t==ii||t==_d}function X_(t){return fs(t)||kn(t)||t==ii||t==_d}function rN(t){return t==sb||t==tb}function iN(t){return t==Fu||t==oC}function oN(t){switch(t){case aC:return Ri;case Zm:return nC;case lC:return Km;case cC:return Jm;case dC:return tC;default:return t}}function sN(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}var cm=class{strings;expressions;offsets;constructor(e,n,r){this.strings=e,this.expressions=n,this.offsets=r}},um=class{templateBindings;warnings;errors;constructor(e,n,r){this.templateBindings=e,this.warnings=n,this.errors=r}};function Gr(t){return t.start.toString()||"(unknown)"}var rd=class{_lexer;_supportsDirectPipeReferences;constructor(e,n=!1){this._lexer=e,this._supportsDirectPipeReferences=n}parseAction(e,n,r,i=Xn){let o=[];this._checkNoInterpolation(o,e,n,i);let{stripped:s}=this._stripComments(e),a=this._lexer.tokenize(s),l=new Ii(e,n,r,a,1,o,0,this._supportsDirectPipeReferences).parseChain();return new qt(l,e,Gr(n),r,o)}parseBinding(e,n,r,i=Xn){let o=[],s=this._parseBindingAst(e,n,r,i,o);return new qt(s,e,Gr(n),r,o)}checkSimpleExpression(e){let n=new dm;return e.visit(n),n.errors}parseSimpleBinding(e,n,r,i=Xn){let o=[],s=this._parseBindingAst(e,n,r,i,o),a=this.checkSimpleExpression(s);return a.length>0&&o.push(Jo(`Host binding expression cannot contain ${a.join(" ")}`,e,"",n)),new qt(s,e,Gr(n),r,o)}_parseBindingAst(e,n,r,i,o){this._checkNoInterpolation(o,e,n,i);let{stripped:s}=this._stripComments(e),a=this._lexer.tokenize(s);return new Ii(e,n,r,a,0,o,0,this._supportsDirectPipeReferences).parseChain()}parseTemplateBindings(e,n,r,i,o){let s=this._lexer.tokenize(n),a=[];return new Ii(n,r,o,s,0,a,0,this._supportsDirectPipeReferences).parseTemplateBindings({source:e,span:new jt(i,i+e.length)})}parseInterpolation(e,n,r,i,o=Xn){let s=[],{strings:a,expressions:l,offsets:c}=this.splitInterpolation(e,n,s,i,o);if(l.length===0)return null;let d=[];for(let p=0;p<l.length;++p){let h=i?.[p*2+1]?.sourceSpan,g=l[p].text,{stripped:v,hasComments:w}=this._stripComments(g),x=this._lexer.tokenize(v);if(w&&v.trim().length===0&&x.length===0){s.push(Jo("Interpolation expression cannot only contain a comment",e,`at column ${l[p].start} in`,n));continue}let S=new Ii(h?g:e,h||n,r,x,0,s,c[p],this._supportsDirectPipeReferences).parseChain();d.push(S)}return this.createInterpolationAst(a.map(p=>p.text),d,e,Gr(n),r,s)}parseInterpolationExpression(e,n,r){let{stripped:i}=this._stripComments(e),o=this._lexer.tokenize(i),s=[],a=new Ii(e,n,r,o,0,s,0,this._supportsDirectPipeReferences).parseChain(),l=["",""];return this.createInterpolationAst(l,[a],e,Gr(n),r,s)}createInterpolationAst(e,n,r,i,o,s){let a=new qi(0,r.length),l=new Ml(a,a.toAbsolute(o),e,n);return new qt(l,r,i,o,s)}splitInterpolation(e,n,r,i,o=Xn){let s=[],a=[],l=[],c=i?aN(i):null,d=0,p=!1,h=!1,{start:g,end:v}=o;for(;d<e.length;)if(p){let w=d,x=w+g.length,S=this._getInterpolationEndIndex(e,v,x);if(S===-1){p=!1,h=!0;break}let N=S+v.length,R=e.substring(x,S);R.trim().length===0&&r.push(Jo("Blank expressions are not allowed in interpolated strings",e,`at column ${d} in`,n)),a.push({text:R,start:w,end:N});let H=(c?.get(w)??w)+g.length;l.push(H),d=N,p=!1}else{let w=d;d=e.indexOf(g,d),d===-1&&(d=e.length);let x=e.substring(w,d);s.push({text:x,start:w,end:d}),p=!0}if(!p)if(h){let w=s[s.length-1];w.text+=e.substring(d),w.end=e.length}else s.push({text:e.substring(d),start:d,end:e.length});return new cm(s,a,l)}wrapLiteralPrimitive(e,n,r){let i=new qi(0,e==null?0:e.length);return new qt(new Ht(i,i.toAbsolute(r),e),e,typeof n=="string"?n:Gr(n),r,[])}_stripComments(e){let n=this._commentStart(e);return n!=null?{stripped:e.substring(0,n),hasComments:!0}:{stripped:e,hasComments:!1}}_commentStart(e){let n=null;for(let r=0;r<e.length-1;r++){let i=e.charCodeAt(r),o=e.charCodeAt(r+1);if(i===bn&&o==bn&&n==null)return r;n===i?n=null:n==null&&Ma(i)&&(n=i)}return null}_checkNoInterpolation(e,n,r,{start:i,end:o}){let s=-1,a=-1;for(let l of this._forEachUnquotedChar(n,0))if(s===-1)n.startsWith(i)&&(s=l);else if(a=this._getInterpolationEndIndex(n,o,l),a>-1)break;s>-1&&a>-1&&e.push(Jo(`Got interpolation (${i}${o}) where expression was expected`,n,`at column ${s} in`,r))}_getInterpolationEndIndex(e,n,r){for(let i of this._forEachUnquotedChar(e,r)){if(e.startsWith(n,i))return i;if(e.startsWith("//",i))return e.indexOf(n,i)}return-1}*_forEachUnquotedChar(e,n){let r=null,i=0;for(let o=n;o<e.length;o++){let s=e[o];Ma(e.charCodeAt(o))&&(r===null||r===s)&&i%2===0?r=r===null?s:null:r===null&&(yield o),i=s==="\\"?i+1:0}}},Aa=(function(t){return t[t.None=0]="None",t[t.Writable=1]="Writable",t})(Aa||{}),Ii=class{input;parseSourceSpan;absoluteOffset;tokens;parseFlags;errors;offset;supportsDirectPipeReferences;rparensExpected=0;rbracketsExpected=0;rbracesExpected=0;context=Aa.None;sourceSpanCache=new Map;index=0;constructor(e,n,r,i,o,s,a,l){this.input=e,this.parseSourceSpan=n,this.absoluteOffset=r,this.tokens=i,this.parseFlags=o,this.errors=s,this.offset=a,this.supportsDirectPipeReferences=l}peek(e){let n=this.index+e;return n<this.tokens.length?this.tokens[n]:Uc}get next(){return this.peek(0)}get atEOF(){return this.index>=this.tokens.length}get inputIndex(){return this.atEOF?this.currentEndIndex:this.next.index+this.offset}get currentEndIndex(){return this.index>0?this.peek(-1).end+this.offset:this.tokens.length===0?this.input.length+this.offset:this.next.index+this.offset}get currentAbsoluteOffset(){return this.absoluteOffset+this.inputIndex}span(e,n){let r=this.currentEndIndex;if(n!==void 0&&n>this.currentEndIndex&&(r=n),e>r){let i=r;r=e,e=i}return new qi(e,r)}sourceSpan(e,n){let r=`${e}@${this.inputIndex}:${n}`;return this.sourceSpanCache.has(r)||this.sourceSpanCache.set(r,this.span(e,n).toAbsolute(this.absoluteOffset)),this.sourceSpanCache.get(r)}advance(){this.index++}withContext(e,n){this.context|=e;let r=n();return this.context^=e,r}consumeOptionalCharacter(e){return this.next.isCharacter(e)?(this.advance(),!0):!1}peekKeywordLet(){return this.next.isKeywordLet()}peekKeywordAs(){return this.next.isKeywordAs()}expectCharacter(e){this.consumeOptionalCharacter(e)||this.error(`Missing expected ${String.fromCharCode(e)}`)}consumeOptionalOperator(e){return this.next.isOperator(e)?(this.advance(),!0):!1}isAssignmentOperator(e){return e.type===ae.Operator&&St.isAssignmentOperation(e.strValue)}expectOperator(e){this.consumeOptionalOperator(e)||this.error(`Missing expected operator ${e}`)}prettyPrintToken(e){return e===Uc?"end of input":`token ${e}`}expectIdentifierOrKeyword(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier or keyword"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier or keyword`),null):(this.advance(),e.toString())}expectIdentifierOrKeywordOrString(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()&&!e.isString()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier, keyword or string"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier, keyword, or string`),""):(this.advance(),e.toString())}parseChain(){let e=[],n=this.inputIndex;for(;this.index<this.tokens.length;){let r=this.parsePipe();if(e.push(r),this.consumeOptionalCharacter(Gt))for(this.parseFlags&1||this.error("Binding expression cannot contain chained expression");this.consumeOptionalCharacter(Gt););else if(this.index<this.tokens.length){let i=this.index;if(this.error(`Unexpected token '${this.next}'`),this.index===i)break}}if(e.length===0){let r=this.offset,i=this.offset+this.input.length;return new Mt(this.span(r,i),this.sourceSpan(r,i))}return e.length==1?e[0]:new os(this.span(n),this.sourceSpan(n),e)}parsePipe(){let e=this.inputIndex,n=this.parseExpression();if(this.consumeOptionalOperator("|")){this.parseFlags&1&&this.error("Cannot have a pipe in an action expression");do{let r=this.inputIndex,i=this.expectIdentifierOrKeyword(),o,s;i!==null?o=this.sourceSpan(r):(i="",s=this.next.index!==-1?this.next.index:this.input.length+this.offset,o=new qi(s,s).toAbsolute(this.absoluteOffset));let a=[];for(;this.consumeOptionalCharacter(Er);)a.push(this.parseExpression());let l;if(this.supportsDirectPipeReferences){let c=i.charCodeAt(0);l=c===ii||c>=ri&&c<=Cs?Qc.ReferencedDirectly:Qc.ReferencedByName}else l=Qc.ReferencedByName;n=new _u(this.span(e),this.sourceSpan(e,s),n,i,a,l,o)}while(this.consumeOptionalOperator("|"))}return n}parseExpression(){return this.parseConditional()}parseConditional(){let e=this.inputIndex,n=this.parseLogicalOr();if(this.consumeOptionalOperator("?")){let r=this.parsePipe(),i;if(this.consumeOptionalCharacter(Er))i=this.parsePipe();else{let o=this.inputIndex,s=this.input.substring(e,o);this.error(`Conditional expression ${s} requires all 3 expressions`),i=new Mt(this.span(e),this.sourceSpan(e))}return new yu(this.span(e),this.sourceSpan(e),n,r,i)}else return n}parseLogicalOr(){let e=this.inputIndex,n=this.parseLogicalAnd();for(;this.consumeOptionalOperator("||");){let r=this.parseLogicalAnd();n=new St(this.span(e),this.sourceSpan(e),"||",n,r)}return n}parseLogicalAnd(){let e=this.inputIndex,n=this.parseNullishCoalescing();for(;this.consumeOptionalOperator("&&");){let r=this.parseNullishCoalescing();n=new St(this.span(e),this.sourceSpan(e),"&&",n,r)}return n}parseNullishCoalescing(){let e=this.inputIndex,n=this.parseEquality();for(;this.consumeOptionalOperator("??");){let r=this.parseEquality();n=new St(this.span(e),this.sourceSpan(e),"??",n,r)}return n}parseEquality(){let e=this.inputIndex,n=this.parseRelational();for(;this.next.type==ae.Operator;){let r=this.next.strValue;switch(r){case"==":case"===":case"!=":case"!==":this.advance();let i=this.parseRelational();n=new St(this.span(e),this.sourceSpan(e),r,n,i);continue}break}return n}parseRelational(){let e=this.inputIndex,n=this.parseAdditive();for(;this.next.type==ae.Operator||this.next.isKeywordIn;){let r=this.next.strValue;switch(r){case"<":case">":case"<=":case">=":case"in":this.advance();let i=this.parseAdditive();n=new St(this.span(e),this.sourceSpan(e),r,n,i);continue}break}return n}parseAdditive(){let e=this.inputIndex,n=this.parseMultiplicative();for(;this.next.type==ae.Operator;){let r=this.next.strValue;switch(r){case"+":case"-":this.advance();let i=this.parseMultiplicative();n=new St(this.span(e),this.sourceSpan(e),r,n,i);continue}break}return n}parseMultiplicative(){let e=this.inputIndex,n=this.parseExponentiation();for(;this.next.type==ae.Operator;){let r=this.next.strValue;switch(r){case"*":case"%":case"/":this.advance();let i=this.parseExponentiation();n=new St(this.span(e),this.sourceSpan(e),r,n,i);continue}break}return n}parseExponentiation(){let e=this.inputIndex,n=this.parsePrefix();for(;this.next.type==ae.Operator&&this.next.strValue==="**";){(n instanceof Zo||n instanceof za||n instanceof Wa||n instanceof ja)&&this.error("Unary operator used immediately before exponentiation expression. Parenthesis must be used to disambiguate operator precedence"),this.advance();let r=this.parseExponentiation();n=new St(this.span(e),this.sourceSpan(e),"**",n,r)}return n}parsePrefix(){if(this.next.type==ae.Operator){let e=this.inputIndex,n=this.next.strValue,r;switch(n){case"+":return this.advance(),r=this.parsePrefix(),Zo.createPlus(this.span(e),this.sourceSpan(e),r);case"-":return this.advance(),r=this.parsePrefix(),Zo.createMinus(this.span(e),this.sourceSpan(e),r);case"!":return this.advance(),r=this.parsePrefix(),new za(this.span(e),this.sourceSpan(e),r)}}else if(this.next.isKeywordTypeof()){this.advance();let e=this.inputIndex,n=this.parsePrefix();return new Wa(this.span(e),this.sourceSpan(e),n)}else if(this.next.isKeywordVoid()){this.advance();let e=this.inputIndex,n=this.parsePrefix();return new ja(this.span(e),this.sourceSpan(e),n)}return this.parseCallChain()}parseCallChain(){let e=this.inputIndex,n=this.parsePrimary();for(;;)if(this.consumeOptionalCharacter(Ia))n=this.parseAccessMember(n,e,!1);else if(this.consumeOptionalOperator("?."))this.consumeOptionalCharacter(Mn)?n=this.parseCall(n,e,!0):n=this.consumeOptionalCharacter(Jr)?this.parseKeyedReadOrWrite(n,e,!0):this.parseAccessMember(n,e,!0);else if(this.consumeOptionalCharacter(Jr))n=this.parseKeyedReadOrWrite(n,e,!1);else if(this.consumeOptionalCharacter(Mn))n=this.parseCall(n,e,!1);else if(this.consumeOptionalOperator("!"))n=new Ya(this.span(e),this.sourceSpan(e),n);else if(this.next.isTemplateLiteralEnd())n=this.parseNoInterpolationTaggedTemplateLiteral(n,e);else if(this.next.isTemplateLiteralPart())n=this.parseTaggedTemplateLiteral(n,e);else return n}parsePrimary(){let e=this.inputIndex;if(this.consumeOptionalCharacter(Mn)){this.rparensExpected++;let n=this.parsePipe();return this.consumeOptionalCharacter(Tt)||(this.error("Missing closing parentheses"),this.consumeOptionalCharacter(Tt)),this.rparensExpected--,new Xa(this.span(e),this.sourceSpan(e),n)}else{if(this.next.isKeywordNull())return this.advance(),new Ht(this.span(e),this.sourceSpan(e),null);if(this.next.isKeywordUndefined())return this.advance(),new Ht(this.span(e),this.sourceSpan(e),void 0);if(this.next.isKeywordTrue())return this.advance(),new Ht(this.span(e),this.sourceSpan(e),!0);if(this.next.isKeywordFalse())return this.advance(),new Ht(this.span(e),this.sourceSpan(e),!1);if(this.next.isKeywordIn())return this.advance(),new Ht(this.span(e),this.sourceSpan(e),"in");if(this.next.isKeywordThis())return this.advance(),new Gi(this.span(e),this.sourceSpan(e));if(this.consumeOptionalCharacter(Jr)){this.rbracketsExpected++;let n=this.parseExpressionList(ki);return this.rbracketsExpected--,this.expectCharacter(ki),new Eu(this.span(e),this.sourceSpan(e),n)}else{if(this.next.isCharacter(Nn))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMember(new nr(this.span(e),this.sourceSpan(e)),e,!1);if(this.next.isNumber()){let n=this.next.toNumber();return this.advance(),new Ht(this.span(e),this.sourceSpan(e),n)}else{if(this.next.isTemplateLiteralEnd())return this.parseNoInterpolationTemplateLiteral();if(this.next.isTemplateLiteralPart())return this.parseTemplateLiteral();if(this.next.isString()&&this.next.kind===Fi.Plain){let n=this.next.toString();return this.advance(),new Ht(this.span(e),this.sourceSpan(e),n)}else return this.next.isPrivateIdentifier()?(this._reportErrorForPrivateIdentifier(this.next,null),new Mt(this.span(e),this.sourceSpan(e))):this.index>=this.tokens.length?(this.error(`Unexpected end of expression: ${this.input}`),new Mt(this.span(e),this.sourceSpan(e))):(this.error(`Unexpected token ${this.next}`),new Mt(this.span(e),this.sourceSpan(e)))}}}}parseExpressionList(e){let n=[];do if(!this.next.isCharacter(e))n.push(this.parsePipe());else break;while(this.consumeOptionalCharacter(pn));return n}parseLiteralMap(){let e=[],n=[],r=this.inputIndex;if(this.expectCharacter(Nn),!this.consumeOptionalCharacter(xt)){this.rbracesExpected++;do{let i=this.inputIndex,o=this.next.isString(),s=this.expectIdentifierOrKeywordOrString(),a={key:s,quoted:o};if(e.push(a),o)this.expectCharacter(Er),n.push(this.parsePipe());else if(this.consumeOptionalCharacter(Er))n.push(this.parsePipe());else{a.isShorthandInitialized=!0;let l=this.span(i),c=this.sourceSpan(i);n.push(new Sr(l,c,c,new nr(l,c),s))}}while(this.consumeOptionalCharacter(pn)&&!this.next.isCharacter(xt));this.rbracesExpected--,this.expectCharacter(xt)}return new Cu(this.span(r),this.sourceSpan(r),e,n)}parseAccessMember(e,n,r){let i=this.inputIndex,o=this.withContext(Aa.Writable,()=>{let a=this.expectIdentifierOrKeyword()??"";return a.length===0&&this.error("Expected identifier for property access",e.span.end),a}),s=this.sourceSpan(i);if(r)return this.isAssignmentOperator(this.next)?(this.advance(),this.error("The '?.' operator cannot be used in the assignment"),new Mt(this.span(n),this.sourceSpan(n))):new qa(this.span(n),this.sourceSpan(n),s,e,o);if(this.isAssignmentOperator(this.next)){let a=this.next.strValue;if(!(this.parseFlags&1))return this.advance(),this.error("Bindings cannot contain assignments"),new Mt(this.span(n),this.sourceSpan(n));let l=new Sr(this.span(n),this.sourceSpan(n),s,e,o);this.advance();let c=this.parseConditional();return new St(this.span(n),this.sourceSpan(n),a,l,c)}else return new Sr(this.span(n),this.sourceSpan(n),s,e,o)}parseCall(e,n,r){let i=this.inputIndex;this.rparensExpected++;let o=this.parseCallArguments(),s=this.span(i,this.inputIndex).toAbsolute(this.absoluteOffset);this.expectCharacter(Tt),this.rparensExpected--;let a=this.span(n),l=this.sourceSpan(n);return r?new wu(a,l,e,o,s):new ss(a,l,e,o,s)}parseCallArguments(){if(this.next.isCharacter(Tt))return[];let e=[];do e.push(this.parsePipe());while(this.consumeOptionalCharacter(pn));return e}expectTemplateBindingKey(){let e="",n=!1,r=this.currentAbsoluteOffset;do e+=this.expectIdentifierOrKeywordOrString(),n=this.consumeOptionalOperator("-"),n&&(e+="-");while(n);return{source:e,span:new jt(r,r+e.length)}}parseTemplateBindings(e){let n=[];for(n.push(...this.parseDirectiveKeywordBindings(e));this.index<this.tokens.length;){let r=this.parseLetBinding();if(r)n.push(r);else{let i=this.expectTemplateBindingKey(),o=this.parseAsBinding(i);o?n.push(o):(i.source=e.source+i.source.charAt(0).toUpperCase()+i.source.substring(1),n.push(...this.parseDirectiveKeywordBindings(i)))}this.consumeStatementTerminator()}return new um(n,[],this.errors)}parseKeyedReadOrWrite(e,n,r){return this.withContext(Aa.Writable,()=>{this.rbracketsExpected++;let i=this.parsePipe();if(i instanceof Mt&&this.error("Key access cannot be empty"),this.rbracketsExpected--,this.expectCharacter(ki),this.isAssignmentOperator(this.next)){let o=this.next.strValue;if(r)this.advance(),this.error("The '?.' operator cannot be used in the assignment");else{let s=new zi(this.span(n),this.sourceSpan(n),e,i);this.advance();let a=this.parseConditional();return new St(this.span(n),this.sourceSpan(n),o,s,a)}}else return r?new Ga(this.span(n),this.sourceSpan(n),e,i):new zi(this.span(n),this.sourceSpan(n),e,i);return new Mt(this.span(n),this.sourceSpan(n))})}parseDirectiveKeywordBindings(e){let n=[];this.consumeOptionalCharacter(Er);let r=this.getDirectiveBoundTarget(),i=this.currentAbsoluteOffset,o=this.parseAsBinding(e);o||(this.consumeStatementTerminator(),i=this.currentAbsoluteOffset);let s=new jt(e.span.start,i);return n.push(new Ih(s,e,r)),o&&n.push(o),n}getDirectiveBoundTarget(){if(this.next===Uc||this.peekKeywordAs()||this.peekKeywordLet())return null;let e=this.parsePipe(),{start:n,end:r}=e.span,i=this.input.substring(n,r);return new qt(e,i,Gr(this.parseSourceSpan),this.absoluteOffset+n,this.errors)}parseAsBinding(e){if(!this.peekKeywordAs())return null;this.advance();let n=this.expectTemplateBindingKey();this.consumeStatementTerminator();let r=new jt(e.span.start,this.currentAbsoluteOffset);return new Za(r,n,e)}parseLetBinding(){if(!this.peekKeywordLet())return null;let e=this.currentAbsoluteOffset;this.advance();let n=this.expectTemplateBindingKey(),r=null;this.consumeOptionalOperator("=")&&(r=this.expectTemplateBindingKey()),this.consumeStatementTerminator();let i=new jt(e,this.currentAbsoluteOffset);return new Za(i,n,r)}parseNoInterpolationTaggedTemplateLiteral(e,n){let r=this.parseNoInterpolationTemplateLiteral();return new Ja(this.span(n),this.sourceSpan(n),e,r)}parseNoInterpolationTemplateLiteral(){let e=this.next.strValue,n=this.inputIndex;this.advance();let r=this.span(n),i=this.sourceSpan(n);return new Ka(r,i,[new Su(r,i,e)],[])}parseTaggedTemplateLiteral(e,n){let r=this.parseTemplateLiteral();return new Ja(this.span(n),this.sourceSpan(n),e,r)}parseTemplateLiteral(){let e=[],n=[],r=this.inputIndex;for(;this.next!==Uc;){let i=this.next;if(i.isTemplateLiteralPart()||i.isTemplateLiteralEnd()){let o=this.inputIndex;if(this.advance(),e.push(new Su(this.span(o),this.sourceSpan(o),i.strValue)),i.isTemplateLiteralEnd())break}else if(i.isTemplateLiteralInterpolationStart()){this.advance(),this.rbracesExpected++;let o=this.parsePipe();o instanceof Mt?this.error("Template literal interpolation cannot be empty"):n.push(o),this.rbracesExpected--}else this.advance()}return new Ka(this.span(r),this.sourceSpan(r),e,n)}consumeStatementTerminator(){this.consumeOptionalCharacter(Gt)||this.consumeOptionalCharacter(pn)}error(e,n=this.index){this.errors.push(Jo(e,this.input,this.getErrorLocationText(n),this.parseSourceSpan)),this.skip()}getErrorLocationText(e){return e<this.tokens.length?`at column ${this.tokens[e].index+1} in`:"at the end of the expression"}_reportErrorForPrivateIdentifier(e,n){let r=`Private identifiers are not supported. Unexpected private identifier: ${e}`;n!==null&&(r+=`, ${n}`),this.error(r)}skip(){let e=this.next;for(;this.index<this.tokens.length&&!e.isCharacter(Gt)&&!e.isOperator("|")&&(this.rparensExpected<=0||!e.isCharacter(Tt))&&(this.rbracesExpected<=0||!e.isCharacter(xt))&&(this.rbracketsExpected<=0||!e.isCharacter(ki))&&(!(this.context&Aa.Writable)||!this.isAssignmentOperator(e));)this.next.isError()&&this.errors.push(Jo(this.next.toString(),this.input,this.getErrorLocationText(this.next.index),this.parseSourceSpan)),this.advance(),e=this.next}};function Jo(t,e,n,r){n.length>0&&(n=` ${n} `);let i=Gr(r),o=`Parser Error: ${t}${n}[${e}] in ${i}`;return new Z(r,o)}var dm=class extends Qa{errors=[];visitPipe(){this.errors.push("pipes")}};function aN(t){let e=new Map,n=0,r=0,i=0;for(;i<t.length;){let o=t[i];if(o.type===9){let[s,a]=o.parts;n+=a.length,r+=s.length}else{let s=o.parts.reduce((a,l)=>a+l.length,0);r+=s,n+=s}e.set(r,n),i++}return e}function lN(t){return t.visit(new fm)}var fm=class{visitUnary(e,n){return`${e.operator}${e.expr.visit(this,n)}`}visitBinary(e,n){return`${e.left.visit(this,n)} ${e.operation} ${e.right.visit(this,n)}`}visitChain(e,n){return e.expressions.map(r=>r.visit(this,n)).join("; ")}visitConditional(e,n){return`${e.condition.visit(this,n)} ? ${e.trueExp.visit(this,n)} : ${e.falseExp.visit(this,n)}`}visitThisReceiver(){return"this"}visitImplicitReceiver(){return""}visitInterpolation(e,n){return uN(e.strings,e.expressions.map(r=>r.visit(this,n))).join("")}visitKeyedRead(e,n){return`${e.receiver.visit(this,n)}[${e.key.visit(this,n)}]`}visitLiteralArray(e,n){return`[${e.expressions.map(r=>r.visit(this,n)).join(", ")}]`}visitLiteralMap(e,n){return`{${cN(e.keys.map(r=>r.quoted?`'${r.key}'`:r.key),e.values.map(r=>r.visit(this,n))).map(([r,i])=>`${r}: ${i}`).join(", ")}}`}visitLiteralPrimitive(e){if(e.value===null)return"null";switch(typeof e.value){case"number":case"boolean":return e.value.toString();case"undefined":return"undefined";case"string":return`'${e.value.replace(/'/g,"\\'")}'`;default:throw new Error(`Unsupported primitive type: ${e.value}`)}}visitPipe(e,n){return`${e.exp.visit(this,n)} | ${e.name}`}visitPrefixNot(e,n){return`!${e.expression.visit(this,n)}`}visitNonNullAssert(e,n){return`${e.expression.visit(this,n)}!`}visitPropertyRead(e,n){return e.receiver instanceof nr?e.name:`${e.receiver.visit(this,n)}.${e.name}`}visitSafePropertyRead(e,n){return`${e.receiver.visit(this,n)}?.${e.name}`}visitSafeKeyedRead(e,n){return`${e.receiver.visit(this,n)}?.[${e.key.visit(this,n)}]`}visitCall(e,n){return`${e.receiver.visit(this,n)}(${e.args.map(r=>r.visit(this,n)).join(", ")})`}visitSafeCall(e,n){return`${e.receiver.visit(this,n)}?.(${e.args.map(r=>r.visit(this,n)).join(", ")})`}visitTypeofExpression(e,n){return`typeof ${e.expression.visit(this,n)}`}visitVoidExpression(e,n){return`void ${e.expression.visit(this,n)}`}visitASTWithSource(e,n){return e.ast.visit(this,n)}visitTemplateLiteral(e,n){let r="";for(let i=0;i<e.elements.length;i++){r+=e.elements[i].visit(this,n);let o=i<e.expressions.length?e.expressions[i]:null;o!==null&&(r+="${"+o.visit(this,n)+"}")}return"`"+r+"`"}visitTemplateLiteralElement(e,n){return e.text}visitTaggedTemplateLiteral(e,n){return e.tag.visit(this,n)+e.template.visit(this,n)}visitParenthesizedExpression(e,n){return"("+e.expression.visit(this,n)+")"}};function cN(t,e){if(t.length!==e.length)throw new Error("Array lengths must match");return t.map((n,r)=>[n,e[r]])}function uN(t,e){let n=[];for(let r=0;r<Math.max(t.length,e.length);r++)r<t.length&&n.push(t[r]),r<e.length&&n.push(e[r]);return n}var nu;function Z_(){return nu||(nu={},Hc(Me.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),Hc(Me.STYLE,["*|style"]),Hc(Me.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","input|src","ins|cite","q|cite","source|src","track|src","video|poster","video|src"]),Hc(Me.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])),nu}function Hc(t,e){for(let n of e)nu[n.toLowerCase()]=t}var dN=new Set(["sandbox","allow","allowfullscreen","referrerpolicy","csp","fetchpriority"]);function fN(t){return dN.has(t.toLowerCase())}var pm=class{},pN="boolean",hN="number",mN="string",gN="object",vN=["[Element]|textContent,%ariaAtomic,%ariaAutoComplete,%ariaBusy,%ariaChecked,%ariaColCount,%ariaColIndex,%ariaColSpan,%ariaCurrent,%ariaDescription,%ariaDisabled,%ariaExpanded,%ariaHasPopup,%ariaHidden,%ariaInvalid,%ariaKeyShortcuts,%ariaLabel,%ariaLevel,%ariaLive,%ariaModal,%ariaMultiLine,%ariaMultiSelectable,%ariaOrientation,%ariaPlaceholder,%ariaPosInSet,%ariaPressed,%ariaReadOnly,%ariaRelevant,%ariaRequired,%ariaRoleDescription,%ariaRowCount,%ariaRowIndex,%ariaRowSpan,%ariaSelected,%ariaSetSize,%ariaSort,%ariaValueMax,%ariaValueMin,%ariaValueNow,%ariaValueText,%classList,className,elementTiming,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*fullscreenchange,*fullscreenerror,*search,*webkitfullscreenchange,*webkitfullscreenerror,outerHTML,%part,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,!inert,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","abbr,address,article,aside,b,bdi,bdo,cite,content,code,dd,dfn,dt,em,figcaption,figure,footer,header,hgroup,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,search,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,!preservesPitch,src,%srcObject,#volume",":svg:^[HTMLElement]|!autofocus,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","data^[HTMLElement]|value","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,allow,!allowFullscreen,!allowPaymentRequest,csp,frameBorder,height,loading,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,decoding,#height,#hspace,!isMap,loading,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocomplete,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,imageSizes,imageSrcset,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,media,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,!noModule,%referrerPolicy,src,text,type","select^[HTMLElement]|autocomplete,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","selectedcontent^[HTMLElement]|","slot^[HTMLElement]|name","source^[HTMLElement]|#height,media,sizes,src,srcset,type,#width","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","search^[HTMLELement]|","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocomplete,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","time^[HTMLElement]|dateTime","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|!disablePictureInPicture,#height,*enterpictureinpicture,*leavepictureinpicture,!playsInline,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|decoding",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|",":math:^[HTMLElement]|!autofocus,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforeinput,*beforematch,*beforetoggle,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contentvisibilityautostatechange,*contextlost,*contextmenu,*contextrestored,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*scrollend,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,%style,#tabIndex",":math:math^:math:|",":math:maction^:math:|",":math:menclose^:math:|",":math:merror^:math:|",":math:mfenced^:math:|",":math:mfrac^:math:|",":math:mi^:math:|",":math:mmultiscripts^:math:|",":math:mn^:math:|",":math:mo^:math:|",":math:mover^:math:|",":math:mpadded^:math:|",":math:mphantom^:math:|",":math:mroot^:math:|",":math:mrow^:math:|",":math:ms^:math:|",":math:mspace^:math:|",":math:msqrt^:math:|",":math:mstyle^:math:|",":math:msub^:math:|",":math:msubsup^:math:|",":math:msup^:math:|",":math:mtable^:math:|",":math:mtd^:math:|",":math:mtext^:math:|",":math:mtr^:math:|",":math:munder^:math:|",":math:munderover^:math:|",":math:semantics^:math:|"],qC=new Map(Object.entries({class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex","aria-atomic":"ariaAtomic","aria-autocomplete":"ariaAutoComplete","aria-busy":"ariaBusy","aria-checked":"ariaChecked","aria-colcount":"ariaColCount","aria-colindex":"ariaColIndex","aria-colspan":"ariaColSpan","aria-current":"ariaCurrent","aria-disabled":"ariaDisabled","aria-expanded":"ariaExpanded","aria-haspopup":"ariaHasPopup","aria-hidden":"ariaHidden","aria-invalid":"ariaInvalid","aria-keyshortcuts":"ariaKeyShortcuts","aria-label":"ariaLabel","aria-level":"ariaLevel","aria-live":"ariaLive","aria-modal":"ariaModal","aria-multiline":"ariaMultiLine","aria-multiselectable":"ariaMultiSelectable","aria-orientation":"ariaOrientation","aria-placeholder":"ariaPlaceholder","aria-posinset":"ariaPosInSet","aria-pressed":"ariaPressed","aria-readonly":"ariaReadOnly","aria-required":"ariaRequired","aria-roledescription":"ariaRoleDescription","aria-rowcount":"ariaRowCount","aria-rowindex":"ariaRowIndex","aria-rowspan":"ariaRowSpan","aria-selected":"ariaSelected","aria-setsize":"ariaSetSize","aria-sort":"ariaSort","aria-valuemax":"ariaValueMax","aria-valuemin":"ariaValueMin","aria-valuenow":"ariaValueNow","aria-valuetext":"ariaValueText"})),yN=Array.from(qC).reduce((t,[e,n])=>(t.set(e,n),t),new Map),_s=class extends pm{_schema=new Map;_eventSchema=new Map;constructor(){super(),vN.forEach(e=>{let n=new Map,r=new Set,[i,o]=e.split("|"),s=o.split(","),[a,l]=i.split("^");a.split(",").forEach(d=>{this._schema.set(d.toLowerCase(),n),this._eventSchema.set(d.toLowerCase(),r)});let c=l&&this._schema.get(l.toLowerCase());if(c){for(let[d,p]of c)n.set(d,p);for(let d of this._eventSchema.get(l.toLowerCase()))r.add(d)}s.forEach(d=>{if(d.length>0)switch(d[0]){case"*":r.add(d.substring(1));break;case"!":n.set(d.substring(1),pN);break;case"#":n.set(d.substring(1),hN);break;case"%":n.set(d.substring(1),gN);break;default:n.set(d,mN)}})})}hasProperty(e,n,r){if(r.some(o=>o.name===Q0.name))return!0;if(e.indexOf("-")>-1){if(f_(e)||Ah(e))return!1;if(r.some(o=>o.name===Z0.name))return!0}return(this._schema.get(e.toLowerCase())||this._schema.get("unknown")).has(n)}hasElement(e,n){return n.some(r=>r.name===Q0.name)||e.indexOf("-")>-1&&(f_(e)||Ah(e)||n.some(r=>r.name===Z0.name))?!0:this._schema.has(e.toLowerCase())}securityContext(e,n,r){r&&(n=this.getMappedPropName(n)),e=e.toLowerCase(),n=n.toLowerCase();let i=Z_()[e+"|"+n];return i||(i=Z_()["*|"+n],i||Me.NONE)}getMappedPropName(e){return qC.get(e)??e}getDefaultComponentElementName(){return"ng-component"}validateProperty(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event property '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...
If '${e}' is a directive input, make sure the directive is imported by the current module.`}:{error:!1}}validateAttribute(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event attribute '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...`}:{error:!1}}allKnownElementNames(){return Array.from(this._schema.keys())}allKnownAttributesOfElement(e){let n=this._schema.get(e.toLowerCase())||this._schema.get("unknown");return Array.from(n.keys()).map(r=>yN.get(r)??r)}allKnownEventsOfElement(e){return Array.from(this._eventSchema.get(e.toLowerCase())??[])}normalizeAnimationStyleProperty(e){return gA(e)}normalizeAnimationStyleValue(e,n,r){let i="",o=r.toString().trim(),s=null;if(_N(e)&&r!==0&&r!=="0")if(typeof r=="number")i="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&(s=`Please provide a CSS unit value for ${n}:${r}`)}return{error:s,value:o+i}}};function _N(t){switch(t){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}var ce=class{closedByChildren={};contentType;closedByParent=!1;implicitNamespacePrefix;isVoid;ignoreFirstLf;canSelfClose;preventNamespaceInheritance;constructor({closedByChildren:e,implicitNamespacePrefix:n,contentType:r=Kn.PARSABLE_DATA,closedByParent:i=!1,isVoid:o=!1,ignoreFirstLf:s=!1,preventNamespaceInheritance:a=!1,canSelfClose:l=!1}={}){e&&e.length>0&&e.forEach(c=>this.closedByChildren[c]=!0),this.isVoid=o,this.closedByParent=i||o,this.implicitNamespacePrefix=n||null,this.contentType=r,this.ignoreFirstLf=s,this.preventNamespaceInheritance=a,this.canSelfClose=l??o}isClosedByChild(e){return this.isVoid||e.toLowerCase()in this.closedByChildren}getContentType(e){return typeof this.contentType=="object"?(e===void 0?void 0:this.contentType[e])??this.contentType.default:this.contentType}},Q_,Ho;function hm(t){return Ho||(Q_=new ce({canSelfClose:!0}),Ho=Object.assign(Object.create(null),{base:new ce({isVoid:!0}),meta:new ce({isVoid:!0}),area:new ce({isVoid:!0}),embed:new ce({isVoid:!0}),link:new ce({isVoid:!0}),img:new ce({isVoid:!0}),input:new ce({isVoid:!0}),param:new ce({isVoid:!0}),hr:new ce({isVoid:!0}),br:new ce({isVoid:!0}),source:new ce({isVoid:!0}),track:new ce({isVoid:!0}),wbr:new ce({isVoid:!0}),p:new ce({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new ce({closedByChildren:["tbody","tfoot"]}),tbody:new ce({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new ce({closedByChildren:["tbody"],closedByParent:!0}),tr:new ce({closedByChildren:["tr"],closedByParent:!0}),td:new ce({closedByChildren:["td","th"],closedByParent:!0}),th:new ce({closedByChildren:["td","th"],closedByParent:!0}),col:new ce({isVoid:!0}),svg:new ce({implicitNamespacePrefix:"svg"}),foreignObject:new ce({implicitNamespacePrefix:"svg",preventNamespaceInheritance:!0}),math:new ce({implicitNamespacePrefix:"math"}),li:new ce({closedByChildren:["li"],closedByParent:!0}),dt:new ce({closedByChildren:["dt","dd"]}),dd:new ce({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new ce({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new ce({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new ce({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new ce({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new ce({closedByChildren:["optgroup"],closedByParent:!0}),option:new ce({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new ce({ignoreFirstLf:!0}),listing:new ce({ignoreFirstLf:!0}),style:new ce({contentType:Kn.RAW_TEXT}),script:new ce({contentType:Kn.RAW_TEXT}),title:new ce({contentType:{default:Kn.ESCAPABLE_RAW_TEXT,svg:Kn.PARSABLE_DATA}}),textarea:new ce({contentType:Kn.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),new _s().allKnownElementNames().forEach(e=>{!Ho[e]&&bh(e)===null&&(Ho[e]=new ce({canSelfClose:!1}))})),Ho[t]??Ho[t.toLowerCase()]??Q_}var eE={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},mm=class{_placeHolderNameCounts={};_signatureToName={};getStartTagPlaceholderName(e,n,r){let i=this._hashTag(e,n,r);if(this._signatureToName[i])return this._signatureToName[i];let o=e.toUpperCase(),s=eE[o]||`TAG_${o}`,a=this._generateUniqueName(r?s:`START_${s}`);return this._signatureToName[i]=a,a}getCloseTagPlaceholderName(e){let n=this._hashClosingTag(e);if(this._signatureToName[n])return this._signatureToName[n];let r=e.toUpperCase(),i=eE[r]||`TAG_${r}`,o=this._generateUniqueName(`CLOSE_${i}`);return this._signatureToName[n]=o,o}getPlaceholderName(e,n){let r=e.toUpperCase(),i=`PH: ${r}=${n}`;if(this._signatureToName[i])return this._signatureToName[i];let o=this._generateUniqueName(r);return this._signatureToName[i]=o,o}getUniquePlaceholder(e){return this._generateUniqueName(e.toUpperCase())}getStartBlockPlaceholderName(e,n){let r=this._hashBlock(e,n);if(this._signatureToName[r])return this._signatureToName[r];let i=this._generateUniqueName(`START_BLOCK_${this._toSnakeCase(e)}`);return this._signatureToName[r]=i,i}getCloseBlockPlaceholderName(e){let n=this._hashClosingBlock(e);if(this._signatureToName[n])return this._signatureToName[n];let r=this._generateUniqueName(`CLOSE_BLOCK_${this._toSnakeCase(e)}`);return this._signatureToName[n]=r,r}_hashTag(e,n,r){let i=`<${e}`,o=Object.keys(n).sort().map(a=>` ${a}=${n[a]}`).join(""),s=r?"/>":`></${e}>`;return i+o+s}_hashClosingTag(e){return this._hashTag(`/${e}`,{},!1)}_hashBlock(e,n){let r=n.length===0?"":` (${n.sort().join("; ")})`;return`@${e}${r} {}`}_hashClosingBlock(e){return this._hashBlock(`close_${e}`,[])}_toSnakeCase(e){return e.toUpperCase().replace(/[^A-Z0-9]/g,"_")}_generateUniqueName(e){if(!this._placeHolderNameCounts.hasOwnProperty(e))return this._placeHolderNameCounts[e]=1,e;let r=this._placeHolderNameCounts[e];return this._placeHolderNameCounts[e]=r+1,`${e}_${r}`}},EN=new rd(new xl);function CN(t,e,n,r){let i=new gm(EN,t,e,n,r);return(o,s,a,l,c)=>i.toI18nMessage(o,s,a,l,c)}function wN(t,e){return e}var gm=class{_expressionParser;_interpolationConfig;_containerBlocks;_retainEmptyTokens;_preserveExpressionWhitespace;constructor(e,n,r,i,o){this._expressionParser=e,this._interpolationConfig=n,this._containerBlocks=r,this._retainEmptyTokens=i,this._preserveExpressionWhitespace=o}toI18nMessage(e,n="",r="",i="",o){let s={isIcu:e.length==1&&e[0]instanceof Li,icuDepth:0,placeholderRegistry:new mm,placeholderToContent:{},placeholderToMessage:{},visitNodeFn:o||wN},a=Re(this,e,s);return new Dt(a,s.placeholderToContent,s.placeholderToMessage,n,r,i)}visitElement(e,n){return this._visitElementLike(e,n)}visitComponent(e,n){return this._visitElementLike(e,n)}visitDirective(e,n){throw new Error("Unreachable code")}visitAttribute(e,n){let r=e.valueTokens===void 0||e.valueTokens.length===1?new _a(e.value,e.valueSpan||e.sourceSpan):this._visitTextWithInterpolation(e.valueTokens,e.valueSpan||e.sourceSpan,n,e.i18n);return n.visitNodeFn(e,r)}visitText(e,n){let r=e.tokens.length===1?new _a(e.value,e.sourceSpan):this._visitTextWithInterpolation(e.tokens,e.sourceSpan,n,e.i18n);return n.visitNodeFn(e,r)}visitComment(e,n){return null}visitExpansion(e,n){n.icuDepth++;let r={},i=new Pu(e.switchValue,e.type,r,e.sourceSpan);if(e.cases.forEach(a=>{r[a.value]=new Tr(a.expression.map(l=>l.visit(this,n)),a.expSourceSpan)}),n.icuDepth--,n.isIcu||n.icuDepth>0){let a=n.placeholderRegistry.getUniquePlaceholder(`VAR_${e.type}`);return i.expressionPlaceholder=a,n.placeholderToContent[a]={text:e.switchValue,sourceSpan:e.switchValueSourceSpan},n.visitNodeFn(e,i)}let o=n.placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString());n.placeholderToMessage[o]=this.toI18nMessage([e],"","","",void 0);let s=new ds(i,o,e.sourceSpan);return n.visitNodeFn(e,s)}visitExpansionCase(e,n){throw new Error("Unreachable code")}visitBlock(e,n){let r=Re(this,e.children,n);if(this._containerBlocks.has(e.name))return new Tr(r,e.sourceSpan);let i=e.parameters.map(l=>l.expression),o=n.placeholderRegistry.getStartBlockPlaceholderName(e.name,i),s=n.placeholderRegistry.getCloseBlockPlaceholderName(e.name);n.placeholderToContent[o]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan},n.placeholderToContent[s]={text:e.endSourceSpan?e.endSourceSpan.toString():"}",sourceSpan:e.endSourceSpan??e.sourceSpan};let a=new Qr(e.name,i,o,s,r,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return n.visitNodeFn(e,a)}visitBlockParameter(e,n){throw new Error("Unreachable code")}visitLetDeclaration(e,n){return null}_visitElementLike(e,n){let r=Re(this,e.children,n),i={},o=p=>{i[p.name]=p.value},s,a;e instanceof ln?(s=e.name,a=hm(e.name).isVoid):(s=e.fullName,a=e.tagName?hm(e.tagName).isVoid:!1),e.attrs.forEach(o),e.directives.forEach(p=>p.attrs.forEach(o));let l=n.placeholderRegistry.getStartTagPlaceholderName(s,i,a);n.placeholderToContent[l]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan};let c="";a||(c=n.placeholderRegistry.getCloseTagPlaceholderName(s),n.placeholderToContent[c]={text:`</${s}>`,sourceSpan:e.endSourceSpan??e.sourceSpan});let d=new Zr(s,i,l,c,r,a,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return n.visitNodeFn(e,d)}_visitTextWithInterpolation(e,n,r,i){let o=[],s=!1;for(let a of e)switch(a.type){case 8:case 17:s=!0;let[l,c,d]=a.parts,p=DN(c)||"INTERPOLATION",h=r.placeholderRegistry.getPlaceholderName(p,c);if(this._preserveExpressionWhitespace)r.placeholderToContent[h]={text:a.parts.join(""),sourceSpan:a.sourceSpan},o.push(new al(c,h,a.sourceSpan));else{let g=this.normalizeExpression(a);r.placeholderToContent[h]={text:`${l}${g}${d}`,sourceSpan:a.sourceSpan},o.push(new al(g,h,a.sourceSpan))}break;default:if(a.parts[0].length>0||this._retainEmptyTokens){let g=o[o.length-1];g instanceof _a?(g.value+=a.parts[0],g.sourceSpan=new Q(g.sourceSpan.start,a.sourceSpan.end,g.sourceSpan.fullStart,g.sourceSpan.details)):o.push(new _a(a.parts[0],a.sourceSpan))}else this._retainEmptyTokens&&o.push(new _a(a.parts[0],a.sourceSpan));break}return s?(SN(o,i),new Tr(o,n)):o[0]}normalizeExpression(e){let n=e.parts[1],r=this._expressionParser.parseBinding(n,e.sourceSpan,e.sourceSpan.start.offset,this._interpolationConfig);return lN(r)}};function SN(t,e){if(e instanceof Dt&&(TN(e),e=e.nodes[0]),e instanceof Tr){xN(e.children,t);for(let n=0;n<t.length;n++)t[n].sourceSpan=e.children[n].sourceSpan}}function TN(t){let e=t.nodes;if(e.length!==1||!(e[0]instanceof Tr))throw new Error("Unexpected previous i18n message - expected it to consist of only a single `Container` node.")}function xN(t,e){if(t.length!==e.length)throw new Error(`
The number of i18n message children changed between first and second pass.

First pass (${t.length} tokens):
${t.map(n=>`"${n.sourceSpan.toString()}"`).join(`
`)}

Second pass (${e.length} tokens):
${e.map(n=>`"${n.sourceSpan.toString()}"`).join(`
`)}
    `.trim());if(t.some((n,r)=>e[r].constructor!==n.constructor))throw new Error("The types of the i18n message children changed between first and second pass.")}var IN=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;function DN(t){return t.split(IN)[2]}var tE=new Set(["iframe|srcdoc","*|innerhtml","*|outerhtml","embed|src","object|codebase","object|data"]);function nE(t,e){return t=t.toLowerCase(),e=e.toLowerCase(),tE.has(t+"|"+e)||tE.has("*|"+e)}var AN=t=>(e,n)=>{let r=t.get(e)??e;return r instanceof Ar&&(n instanceof ds&&r.i18n instanceof Dt&&(n.previousMessage=r.i18n),r.i18n=n),n},id=class{interpolationConfig;keepI18nAttrs;enableI18nLegacyMessageIdFormat;containerBlocks;preserveSignificantWhitespace;retainEmptyTokens;hasI18nMeta=!1;_errors=[];constructor(e=Xn,n=!1,r=!1,i=XA,o=!0,s=!o){this.interpolationConfig=e,this.keepI18nAttrs=n,this.enableI18nLegacyMessageIdFormat=r,this.containerBlocks=i,this.preserveSignificantWhitespace=o,this.retainEmptyTokens=s}_generateI18nMessage(e,n="",r){let{meaning:i,description:o,customId:s}=this._parseMetadata(n),l=CN(this.interpolationConfig,this.containerBlocks,this.retainEmptyTokens,this.preserveSignificantWhitespace)(e,i,o,s,r);return this._setMessageId(l,n),this._setLegacyIds(l,n),l}visitAllWithErrors(e){let n=e.map(r=>r.visit(this,null));return new td(n,this._errors)}visitElement(e){return this._visitElementLike(e),e}visitComponent(e,n){return this._visitElementLike(e),e}visitExpansion(e,n){let r,i=e.i18n;if(this.hasI18nMeta=!0,i instanceof ds){let o=i.name;r=this._generateI18nMessage([e],i);let s=QE(r);s.name=o,n!==null&&(n.placeholderToMessage[o]=r)}else r=this._generateI18nMessage([e],n||i);return e.i18n=r,e}visitText(e){return e}visitAttribute(e){return e}visitComment(e){return e}visitExpansionCase(e){return e}visitBlock(e,n){return Re(this,e.children,n),e}visitBlockParameter(e,n){return e}visitLetDeclaration(e,n){return e}visitDirective(e,n){return e}_visitElementLike(e){let n;if(GA(e)){this.hasI18nMeta=!0;let r=[],i={};for(let o of e.attrs)if(o.name===XE){let s=e.i18n||o.value,a=new Map,l=this.preserveSignificantWhitespace?e.children:jn(new nd(!1,a),e.children);n=this._generateI18nMessage(l,s,AN(a)),n.nodes.length===0&&(n=void 0),e.i18n=n}else if(o.name.startsWith(Oh)){let s=o.name.slice(Oh.length),a;e instanceof Rt?a=e.tagName===null?!1:nE(e.tagName,s):a=nE(e.name,s),a?this._reportError(o,`Translating attribute '${s}' is disallowed for security reasons.`):i[s]=o.value}else r.push(o);if(Object.keys(i).length)for(let o of r){let s=i[o.name];s!==void 0&&o.value&&(o.i18n=this._generateI18nMessage([o],o.i18n||s))}this.keepI18nAttrs||(e.attrs=r)}Re(this,e.children,n)}_parseMetadata(e){return typeof e=="string"?NN(e):e instanceof Dt?e:{}}_setMessageId(e,n){e.id||(e.id=n instanceof Dt&&n.id||zD(e))}_setLegacyIds(e,n){if(this.enableI18nLegacyMessageIdFormat)e.legacyIds=[GD(e),HE(e)];else if(typeof n!="string"){let r=n instanceof Dt?n:n instanceof ds?n.previousMessage:void 0;e.legacyIds=r?r.legacyIds:[]}}_reportError(e,n){this._errors.push(new Z(e.sourceSpan,n))}},bN="|",kN="@@";function NN(t=""){let e,n,r;if(t=t.trim(),t){let i=t.indexOf(kN),o=t.indexOf(bN),s;[s,e]=i>-1?[t.slice(0,i),t.slice(i+2)]:[t,""],[n,r]=o>-1?[s.slice(0,o),s.slice(o+1)]:["",s]}return{customId:e,meaning:n,description:r}}function MN(t){let e=[];return t.description?e.push({tagName:"desc",text:t.description}):e.push({tagName:"suppress",text:"{msgDescriptions}"}),t.meaning&&e.push({tagName:"meaning",text:t.meaning}),sA(e)}var PN="goog.getMsg";function RN(t,e,n,r){let i=FN(e),o=[T(i)];Object.keys(r).length&&(o.push(Qh(Wm(r,!0),!0)),o.push(Qh({original_code:At(Object.keys(r).map(l=>({key:Pl(l),quoted:!0,value:e.placeholders[l]?T(e.placeholders[l].sourceSpan.toString()):T(e.placeholderToMessage[l].nodes.map(c=>c.sourceSpan.toString()).join(""))})))})));let s=new Xe(n.name,de(PN).callFn(o),Wt,dt.Final);s.addLeadingComment(MN(e));let a=new gn(t.set(n));return[s,a]}var vm=class{formatPh(e){return`{$${Pl(e)}}`}visitText(e){return e.value}visitContainer(e){return e.children.map(n=>n.visit(this)).join("")}visitIcu(e){return FC(e)}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitBlockPlaceholder(e){return`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitIcuPlaceholder(e,n){return this.formatPh(e.name)}},LN=new vm;function FN(t){return t.nodes.map(e=>e.visit(LN,null)).join("")}function ON(t,e,n){let{messageParts:r,placeHolders:i}=BN(e),o=VN(e),s=i.map(c=>n[c.text]),a=cA(e,r,i,s,o),l=t.set(a);return[new gn(l)]}var ym=class{placeholderToMessage;pieces;constructor(e,n){this.placeholderToMessage=e,this.pieces=n}visitText(e){if(this.pieces[this.pieces.length-1]instanceof Mi)this.pieces[this.pieces.length-1].text+=e.value;else{let n=new Q(e.sourceSpan.fullStart,e.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details);this.pieces.push(new Mi(e.value,n))}}visitContainer(e){e.children.forEach(n=>n.visit(this))}visitIcu(e){this.pieces.push(new Mi(FC(e),e.sourceSpan))}visitTagPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.startName,e.startSourceSpan??e.sourceSpan)),e.isVoid||(e.children.forEach(n=>n.visit(this)),this.pieces.push(this.createPlaceholderPiece(e.closeName,e.endSourceSpan??e.sourceSpan)))}visitPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan))}visitBlockPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.startName,e.startSourceSpan??e.sourceSpan)),e.children.forEach(n=>n.visit(this)),this.pieces.push(this.createPlaceholderPiece(e.closeName,e.endSourceSpan??e.sourceSpan))}visitIcuPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan,this.placeholderToMessage[e.name]))}createPlaceholderPiece(e,n,r){return new Ko(Pl(e,!1),n,r)}};function BN(t){let e=[],n=new ym(t.placeholderToMessage,e);return t.nodes.forEach(r=>r.visit(n)),$N(e)}function VN(t){let e=t.nodes[0],n=t.nodes[t.nodes.length-1];return new Q(e.sourceSpan.fullStart,n.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details)}function $N(t){let e=[],n=[];t[0]instanceof Ko&&e.push(ih(t[0].sourceSpan.start));for(let r=0;r<t.length;r++){let i=t[r];i instanceof Mi?e.push(i):(n.push(i),t[r-1]instanceof Ko&&e.push(ih(t[r-1].sourceSpan.end)))}return t[t.length-1]instanceof Ko&&e.push(ih(t[t.length-1].sourceSpan.end)),{messageParts:e,placeHolders:n}}function ih(t){return new Mi("",new Q(t,t))}var rE="ngI18nClosureMode",UN="i18n_",HN="I18N_EXP_",iE="\uFFFD",qN="MSG_";function oE(t){return`${qN}${t}`.toUpperCase()}function GN(t){return new Xe(t.name,void 0,Wt,void 0,t.sourceSpan)}function zN(t){let e=t.relativeContextFilePath.replace(/[^A-Za-z0-9]/g,"_").toUpperCase()+"_",n=new Map,r=new Map,i=new Map,o=new Map;for(let l of t.units)for(let c of l.ops())if(c.kind===m.ExtractedAttribute&&c.i18nContext!==null){let d=n.get(c.i18nContext)??[];d.push(c),n.set(c.i18nContext,d)}else if(c.kind===m.I18nAttributes)r.set(c.target,c);else if(c.kind===m.I18nExpression&&c.usage===ws.I18nAttribute){let d=i.get(c.target)??[];d.push(c),i.set(c.target,d)}else c.kind===m.I18nMessage&&o.set(c.xref,c);let s=new Map,a=new Map;for(let l of t.units)for(let c of l.create)if(c.kind===m.I18nMessage){if(c.messagePlaceholder===null){let{mainVar:d,statements:p}=GC(t,e,o,c);if(c.i18nBlock!==null){let h=t.addConst(d,p);a.set(c.i18nBlock,h)}else{t.constsInitializers.push(...p),s.set(c.i18nContext,d);let h=n.get(c.i18nContext);if(h!==void 0)for(let g of h)g.expression=d.clone()}}k.remove(c)}for(let l of t.units)for(let c of l.create)if(Dr(c)){let d=r.get(c.xref);if(d===void 0)continue;let p=i.get(c.xref);if(p===void 0)throw new Error("AssertionError: Could not find any i18n expressions associated with an I18nAttributes instruction");let h=new Set;p=p.filter(v=>{let w=h.has(v.name);return h.add(v.name),!w});let g=p.flatMap(v=>{let w=s.get(v.context);if(w===void 0)throw new Error("AssertionError: Could not find i18n expression's value");return[T(v.name),w]});d.i18nAttributesConfig=t.addConst(new Rn(g))}for(let l of t.units)for(let c of l.create)if(c.kind===m.I18nStart){let d=a.get(c.root);if(d===void 0)throw new Error("AssertionError: Could not find corresponding i18n block index for an i18n message op; was an i18n message incorrectly assumed to correspond to an attribute?");c.messageIndex=d}}function GC(t,e,n,r){let i=[],o=new Map;for(let c of r.subMessages){let d=n.get(c),{mainVar:p,statements:h}=GC(t,e,n,d);i.push(...h);let g=o.get(d.messagePlaceholder)??[];g.push(p),o.set(d.messagePlaceholder,g)}WN(r,o),r.params=new Map([...r.params.entries()].sort());let s=de(t.pool.uniqueName(UN)),a=JN(t.pool,r.message.id,e,t.i18nUseExternalIds),l;if(r.needsPostprocessing||r.postprocessingParams.size>0){let c=Object.fromEntries([...r.postprocessingParams.entries()].sort()),d=Wm(c,!1),p=[];r.postprocessingParams.size>0&&p.push(Qh(d,!0)),l=h=>q(y.i18nPostprocess).callFn([h,...p])}return i.push(...jN(r.message,s,a,r.params,l)),{mainVar:s,statements:i}}function WN(t,e){for(let[n,r]of e)r.length===1?t.params.set(n,r[0]):(t.params.set(n,T(`${iE}${HN}${n}${iE}`)),t.postprocessingParams.set(n,xe(r)))}function jN(t,e,n,r,i){let o=Object.fromEntries(r),s=[GN(e),gd(YN(),RN(e,t,n,o),ON(e,t,Wm(o,!1)))];return i&&s.push(new gn(e.set(i(e)))),s}function YN(){return Nl(de(rE)).notIdentical(T("undefined",qm)).and(de(rE))}function JN(t,e,n,r){let i,o=n;if(r){let s=oE("EXTERNAL_"),a=t.uniqueName(o);i=`${s}${xi(e)}$$${a}`}else{let s=oE(o);i=t.uniqueName(s)}return de(i)}function KN(t){for(let e of t.units){let n=null,r=null,i=new Map,o=new Map,s=new Map;for(let a of e.create)switch(a.kind){case m.I18nStart:if(a.context===null)throw Error("I18n op should have its context set.");n=a;break;case m.I18nEnd:n=null;break;case m.IcuStart:if(a.context===null)throw Error("Icu op should have its context set.");r=a;break;case m.IcuEnd:r=null;break;case m.Text:if(n!==null)if(i.set(a.xref,n),o.set(a.xref,r),a.icuPlaceholder!==null){let l=S1(t.allocateXrefId(),a.icuPlaceholder,[a.initialValue]);k.replace(a,l),s.set(a.xref,l)}else k.remove(a);break}for(let a of e.update)switch(a.kind){case m.InterpolateText:if(!i.has(a.target))continue;let l=i.get(a.target),c=o.get(a.target),d=s.get(a.target),p=c?c.context:l.context,h=c?hl.Postproccessing:hl.Creation,g=[];for(let v=0;v<a.interpolation.expressions.length;v++){let w=a.interpolation.expressions[v];g.push(wC(p,l.xref,l.xref,l.handle,w,d?.xref??null,a.interpolation.i18nPlaceholders[v]??null,h,ws.I18nText,"",w.sourceSpan??a.sourceSpan))}k.replaceWithMany(a,g),d!==void 0&&(d.strings=a.interpolation.strings);break}}}function XN(t){for(let e of t.units)for(let n of e.create)switch(n.kind){case m.ElementStart:case m.ConditionalCreate:case m.ConditionalBranchCreate:case m.Template:if(!Array.isArray(n.localRefs))throw new Error("AssertionError: expected localRefs to be an array still");if(n.numSlotsUsed+=n.localRefs.length,n.localRefs.length>0){let r=ZN(n.localRefs);n.localRefs=t.addConst(r)}else n.localRefs=null;break}}function ZN(t){let e=[];for(let n of t)e.push(T(n.name),T(n.target));return xe(e)}function QN(t){for(let e of t.units){let n=_t.HTML;for(let r of e.create)r.kind===m.ElementStart&&r.namespace!==n&&(k.insertBefore(m1(r.namespace),r),n=r.namespace)}}function eM(t){let e=[],n=0,r=0,i=0,o=0,s=0,a=null;for(;n<t.length;)switch(t.charCodeAt(n++)){case 40:r++;break;case 41:r--;break;case 39:i===0?i=39:i===39&&t.charCodeAt(n-1)!==92&&(i=0);break;case 34:i===0?i=34:i===34&&t.charCodeAt(n-1)!==92&&(i=0);break;case 58:!a&&r===0&&i===0&&(a=zC(t.substring(s,n-1).trim()),o=n);break;case 59:if(a&&o>0&&r===0&&i===0){let c=t.substring(o,n-1).trim();e.push(a,c),s=n,o=0,a=null}break}if(a&&o){let l=t.slice(o).trim();e.push(a,l)}return e}function zC(t){return t.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function tM(t){let e=new Map;for(let n of t.units)for(let r of n.create)Dr(r)&&e.set(r.xref,r);for(let n of t.units)for(let r of n.create)if(r.kind===m.ExtractedAttribute&&r.bindingKind===$.Attribute&&SC(r.expression)){let i=e.get(r.target);if(i!==void 0&&(i.kind===m.Template||i.kind===m.ConditionalCreate||i.kind===m.ConditionalBranchCreate)&&i.templateKind===Ft.Structural)continue;if(r.name==="style"){let o=eM(r.expression.value);for(let s=0;s<o.length-1;s+=2)k.insertBefore(dn(r.target,$.StyleProperty,null,o[s],T(o[s+1]),null,null,Me.STYLE),r);k.remove(r)}else if(r.name==="class"){let o=r.expression.value.trim().split(/\s+/g);for(let s of o)k.insertBefore(dn(r.target,$.ClassName,null,s,null,null,null,Me.NONE),r);k.remove(r)}}}function nM(t){ba(t.root,t.componentName,{index:0},t.compatibility===Xt.TemplateDefinitionBuilder)}function ba(t,e,n,r){t.fnName===null&&(t.fnName=t.job.pool.uniqueName(xi(`${e}_${t.job.fnSuffix}`),!1));let i=new Map;for(let o of t.ops())switch(o.kind){case m.Property:case m.DomProperty:o.bindingKind===$.LegacyAnimation&&(o.name="@"+o.name);break;case m.Animation:if(o.handlerFnName===null){let d=o.name.replace(".","");o.handlerFnName=`${t.fnName}_${d}_cb`,o.handlerFnName=xi(o.handlerFnName)}break;case m.AnimationListener:if(o.handlerFnName!==null)break;if(!o.hostListener&&o.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");let s=o.name.replace(".","");o.hostListener?o.handlerFnName=`${e}_${s}_HostBindingHandler`:o.handlerFnName=`${t.fnName}_${o.tag.replace("-","_")}_${s}_${o.targetSlot.slot}_listener`,o.handlerFnName=xi(o.handlerFnName);break;case m.Listener:if(o.handlerFnName!==null)break;if(!o.hostListener&&o.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");let a="";o.isLegacyAnimationListener&&(o.name=`@${o.name}.${o.legacyAnimationPhase}`,a="animation"),o.hostListener?o.handlerFnName=`${e}_${a}${o.name}_HostBindingHandler`:o.handlerFnName=`${t.fnName}_${o.tag.replace("-","_")}_${a}${o.name}_${o.targetSlot.slot}_listener`,o.handlerFnName=xi(o.handlerFnName);break;case m.TwoWayListener:if(o.handlerFnName!==null)break;if(o.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");o.handlerFnName=xi(`${t.fnName}_${o.tag.replace("-","_")}_${o.name}_${o.targetSlot.slot}_listener`);break;case m.Variable:i.set(o.xref,rM(t,o.variable,n));break;case m.RepeaterCreate:if(!(t instanceof fn))throw new Error("AssertionError: must be compiling a component");if(o.handle.slot===null)throw new Error("Expected slot to be assigned");if(o.emptyView!==null){let d=t.job.views.get(o.emptyView);ba(d,`${e}_${o.functionNameSuffix}Empty_${o.handle.slot+2}`,n,r)}ba(t.job.views.get(o.xref),`${e}_${o.functionNameSuffix}_${o.handle.slot+1}`,n,r);break;case m.Projection:if(!(t instanceof fn))throw new Error("AssertionError: must be compiling a component");if(o.handle.slot===null)throw new Error("Expected slot to be assigned");if(o.fallbackView!==null){let d=t.job.views.get(o.fallbackView);ba(d,`${e}_ProjectionFallback_${o.handle.slot}`,n,r)}break;case m.ConditionalCreate:case m.ConditionalBranchCreate:case m.Template:if(!(t instanceof fn))throw new Error("AssertionError: must be compiling a component");let l=t.job.views.get(o.xref);if(o.handle.slot===null)throw new Error("Expected slot to be assigned");let c=o.functionNameSuffix.length===0?"":`_${o.functionNameSuffix}`;ba(l,`${e}${c}_${o.handle.slot}`,n,r);break;case m.StyleProp:o.name=iM(o.name),r&&(o.name=sE(o.name));break;case m.ClassProp:r&&(o.name=sE(o.name));break}for(let o of t.ops())at(o,s=>{if(!(!(s instanceof xr)||s.name!==null)){if(!i.has(s.xref))throw new Error(`Variable ${s.xref} not yet named`);s.name=i.get(s.xref)}})}function rM(t,e,n){if(e.name===null)switch(e.kind){case ot.Context:e.name=`ctx_r${n.index++}`;break;case ot.Identifier:if(t.job.compatibility===Xt.TemplateDefinitionBuilder){let r=e.identifier==="ctx"?"i":"";e.name=`${e.identifier}_${r}r${++n.index}`}else e.name=`${e.identifier}_i${n.index++}`;break;default:e.name=`_r${++n.index}`;break}return e.name}function iM(t){return t.startsWith("--")?t:zC(t)}function sE(t){let e=t.indexOf("!important");return e>-1?t.substring(0,e):t}function oM(t){for(let e of t.units){for(let n of e.create)(n.kind===m.Listener||n.kind===m.Animation||n.kind===m.AnimationListener||n.kind===m.TwoWayListener)&&aE(n.handlerOps);aE(e.update)}}function aE(t){for(let e of t){if(e.kind!==m.Statement||!(e.statement instanceof gn)||!(e.statement.expr instanceof Hu))continue;let n=e.statement.expr.steps,r=!0;for(let i=e.next;i.kind!==m.ListEnd&&r;i=i.next)at(i,(o,s)=>{if(!or(o))return o;if(r&&!(s&we.InChildOperation))switch(o.kind){case z.NextContext:o.steps+=n,k.remove(e),r=!1;break;case z.GetCurrentView:case z.Reference:case z.ContextLetReference:r=!1;break}})}}var sM="ng-container";function aM(t){for(let e of t.units){let n=new Set;for(let r of e.create)r.kind===m.ElementStart&&r.tag===sM&&(r.kind=m.ContainerStart,n.add(r.xref)),r.kind===m.ElementEnd&&n.has(r.xref)&&(r.kind=m.ContainerEnd)}}function lM(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function cM(t){let e=new Map;for(let n of t.units)for(let r of n.create)Dr(r)&&e.set(r.xref,r);for(let n of t.units)for(let r of n.create)(r.kind===m.ElementStart||r.kind===m.ContainerStart)&&r.nonBindable&&k.insertAfter(d1(r.xref),r),(r.kind===m.ElementEnd||r.kind===m.ContainerEnd)&&lM(e,r.xref).nonBindable&&k.insertBefore(f1(r.xref),r)}function Cr(t){return e=>e.kind===t}function Ra(t,e){return n=>n.kind===t&&e===n.expression instanceof Ue}function uM(t){return t.kind===m.Listener&&!(t.hostListener&&t.isLegacyAnimationListener)||t.kind===m.TwoWayListener||t.kind===m.Animation||t.kind===m.AnimationListener}function dM(t){return(t.kind===m.Property||t.kind===m.TwoWayProperty)&&!(t.expression instanceof Ue)}var fM=[{test:t=>t.kind===m.Listener&&t.hostListener&&t.isLegacyAnimationListener},{test:uM}],pM=[{test:Cr(m.StyleMap),transform:od},{test:Cr(m.ClassMap),transform:od},{test:Cr(m.StyleProp)},{test:Cr(m.ClassProp)},{test:Ra(m.Attribute,!0)},{test:Ra(m.Property,!0)},{test:dM},{test:Ra(m.Attribute,!1)}],hM=[{test:Ra(m.DomProperty,!0)},{test:Ra(m.DomProperty,!1)},{test:Cr(m.Attribute)},{test:Cr(m.StyleMap),transform:od},{test:Cr(m.ClassMap),transform:od},{test:Cr(m.StyleProp)},{test:Cr(m.ClassProp)}],lE=new Set([m.Listener,m.TwoWayListener,m.AnimationListener,m.StyleMap,m.ClassMap,m.StyleProp,m.ClassProp,m.Property,m.TwoWayProperty,m.DomProperty,m.Attribute,m.Animation]);function mM(t){for(let e of t.units){cE(e.create,fM);let n=e.job.kind===B.Host?hM:pM;cE(e.update,n)}}function cE(t,e){let n=[],r=null;for(let i of t){let o=ml(i)?i.target:null;(!lE.has(i.kind)||o!==r&&r!==null&&o!==null)&&(k.insertBefore(uE(n,e),i),n=[],r=null),lE.has(i.kind)&&(n.push(i),k.remove(i),r=o??r)}t.push(uE(n,e))}function uE(t,e){let n=Array.from(e,()=>new Array);for(let r of t){let i=e.findIndex(o=>o.test(r));n[i].push(r)}return n.flatMap((r,i)=>{let o=e[i].transform;return o?o(r):r})}function od(t){return t.slice(t.length-1)}function gM(t){for(let e of t.units){let n=ng(e);for(let r of e.ops())switch(r.kind){case m.Binding:let i=yM(n,r.target);vM(r.name)&&i.kind===m.Projection&&k.remove(r);break}}}function vM(t){return t.toLowerCase()==="select"}function yM(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an slottable target.");return n}function _M(t){for(let e of t.units)EM(e)}function EM(t){for(let e of t.update)at(e,(n,r)=>{if(or(n)&&n.kind===z.PipeBinding){if(r&we.InChildOperation)throw new Error("AssertionError: pipe bindings should not appear in child expressions");if(t.job.compatibility){if(e.target==null)throw new Error("AssertionError: expected slot handle to be assigned for pipe creation");CM(t,e.target,n)}else t.create.push(kC(n.target,n.targetSlot,n.name))}})}function CM(t,e,n){for(let r=t.create.head.next;r.kind!==m.ListEnd;r=r.next){if(!Ts(r)||r.xref!==e)continue;for(;r.next.kind===m.Pipe;)r=r.next;let i=kC(n.target,n.targetSlot,n.name);k.insertBefore(i,r.next);return}throw new Error(`AssertionError: unable to find insertion point for pipe ${n.name}`)}function wM(t){for(let e of t.units)for(let n of e.update)We(n,r=>!(r instanceof Ki)||r.args.length<=4?r:new yl(r.target,r.targetSlot,r.name,xe(r.args),r.args.length),we.None)}function SM(t){WC(t.root,0)}function WC(t,e){let n=null;for(let r of t.create)switch(r.kind){case m.I18nStart:r.subTemplateIndex=e===0?null:e,n=r;break;case m.I18nEnd:n.subTemplateIndex===null&&(e=0),n=null;break;case m.ConditionalCreate:case m.ConditionalBranchCreate:case m.Template:e=qc(t.job.views.get(r.xref),n,r.i18nPlaceholder,e);break;case m.RepeaterCreate:let i=t.job.views.get(r.xref);e=qc(i,n,r.i18nPlaceholder,e),r.emptyView!==null&&(e=qc(t.job.views.get(r.emptyView),n,r.emptyI18nPlaceholder,e));break;case m.Projection:r.fallbackView!==null&&(e=qc(t.job.views.get(r.fallbackView),n,r.fallbackViewI18nPlaceholder,e));break}return e}function qc(t,e,n,r){if(n!==void 0){if(e===null)throw Error("Expected template with i18n placeholder to be in an i18n block.");r++,TM(t,e)}return WC(t,r)}function TM(t,e){if(t.create.head.next?.kind!==m.I18nStart){let n=t.job.allocateXrefId();k.insertAfter(Cd(n,e.message,e.root,null),t.create.head),k.insertBefore(wd(n,null),t.create.tail)}}function xM(t){for(let e of t.units)for(let n of e.ops())at(n,r=>{if(!(r instanceof Ji)||r.body===null)return;let i=new _m(r.args.length);r.fn=t.pool.getSharedConstant(i,r.body),r.body=null})}var _m=class extends Xo{numArgs;constructor(e){super(),this.numArgs=e}keyOf(e){return e instanceof hs?`param(${e.index})`:super.keyOf(e)}toSharedConstantDeclaration(e,n){let r=[];for(let o=0;o<this.numArgs;o++)r.push(new st("a"+o));let i=V(n,o=>o instanceof hs?de("a"+o.index):o,we.None);return new Xe(e,new $i(r,i),void 0,dt.Final)}};function IM(t){for(let e of t.units)for(let n of e.update)We(n,(r,i)=>i&we.InChildOperation?r:r instanceof Rn?DM(r):r instanceof tr?AM(r):r,we.None)}function DM(t){let e=[],n=[];for(let r of t.entries)if(r.isConstant())e.push(r);else{let i=n.length;n.push(r),e.push(new hs(i))}return new Ji(xe(e),n)}function AM(t){let e=[],n=[];for(let r of t.entries)if(r.value.isConstant())e.push(r);else{let i=n.length;n.push(r.value),e.push(new rs(r.key,new hs(i),r.quoted))}return new Ji(At(e),n)}function bM(t,e,n,r,i){return oi(y.element,t,e,n,r,i)}function kM(t,e,n,r,i){return oi(y.elementStart,t,e,n,r,i)}function oi(t,e,n,r,i,o){let s=[T(e)];return n!==null&&s.push(T(n)),i!==null?s.push(T(r),T(i)):r!==null&&s.push(T(r)),re(t,s,o)}function jC(t,e,n,r,i,o,s,a,l){let c=[T(e),n,T(r),T(i),T(o),T(s)];for(a!==null&&(c.push(T(a)),c.push(q(y.templateRefExtractor)));c[c.length-1].isEquivalent(is);)c.pop();return re(t,c,l)}function rg(t,e,n,r,i){let o=[T(e)];return n instanceof Ue?o.push(xs(n,i)):o.push(n),r!==null&&o.push(r),re(t,o,i)}function NM(t){return re(y.elementEnd,[],t)}function MM(t,e,n,r){return oi(y.elementContainerStart,t,null,e,n,r)}function PM(t,e,n,r){return oi(y.elementContainer,t,null,e,n,r)}function RM(){return re(y.elementContainerEnd,[],null)}function LM(t,e,n,r,i,o,s,a){return jC(y.templateCreate,t,e,n,r,i,o,s,a)}function FM(){return re(y.disableBindings,[],null)}function OM(){return re(y.enableBindings,[],null)}function BM(t,e,n,r,i){let o=[T(t),e];return n!==null&&o.push(q(n)),re(r?y.syntheticHostListener:y.listener,o,i)}function dE(t,e){return q(y.twoWayBindingSet).callFn([t,e])}function VM(t,e,n){return re(y.twoWayListener,[T(t),e],n)}function $M(t,e){return re(y.pipe,[T(t),T(e)],null)}function UM(){return re(y.namespaceHTML,[],null)}function HM(){return re(y.namespaceSVG,[],null)}function qM(){return re(y.namespaceMathML,[],null)}function GM(t,e){return re(y.advance,t>1?[T(t)]:[],e)}function zM(t){return q(y.reference).callFn([T(t)])}function WM(t){return q(y.nextContext).callFn(t===1?[]:[T(t)])}function jM(){return q(y.getCurrentView).callFn([])}function YM(t){return q(y.restoreView).callFn([t])}function JM(t){return q(y.resetView).callFn([t])}function KM(t,e,n){let r=[T(t,null)];return e!==""&&r.push(T(e)),re(y.text,r,n)}function XM(t,e,n,r,i,o,s,a,l,c,d){let p=[T(t),T(e),n??T(null),T(r),T(i),T(o),s??T(null),a??T(null),l?q(y.deferEnableTimerScheduling):T(null),T(d)],h;for(;(h=p[p.length-1])!==null&&h instanceof ht&&h.value===null;)p.pop();return re(y.defer,p,c)}var ZM=new Map([[Ae.Idle,{none:y.deferOnIdle,prefetch:y.deferPrefetchOnIdle,hydrate:y.deferHydrateOnIdle}],[Ae.Immediate,{none:y.deferOnImmediate,prefetch:y.deferPrefetchOnImmediate,hydrate:y.deferHydrateOnImmediate}],[Ae.Timer,{none:y.deferOnTimer,prefetch:y.deferPrefetchOnTimer,hydrate:y.deferHydrateOnTimer}],[Ae.Hover,{none:y.deferOnHover,prefetch:y.deferPrefetchOnHover,hydrate:y.deferHydrateOnHover}],[Ae.Interaction,{none:y.deferOnInteraction,prefetch:y.deferPrefetchOnInteraction,hydrate:y.deferHydrateOnInteraction}],[Ae.Viewport,{none:y.deferOnViewport,prefetch:y.deferPrefetchOnViewport,hydrate:y.deferHydrateOnViewport}],[Ae.Never,{none:y.deferHydrateNever,prefetch:y.deferHydrateNever,hydrate:y.deferHydrateNever}]]);function QM(t,e,n,r){let i=ZM.get(t)?.[n];if(i===void 0)throw new Error(`Unable to determine instruction for trigger ${t}`);return re(i,e.map(o=>T(o)),r)}function e2(t){return re(y.projectionDef,t?[t]:[],null)}function t2(t,e,n,r,i,o,s){let a=[T(t)];return(e!==0||n!==null||r!==null)&&(a.push(T(e)),n!==null&&a.push(n),r!==null&&(n===null&&a.push(T(null)),a.push(de(r),T(i),T(o)))),re(y.projection,a,s)}function n2(t,e,n,r){let i=[T(t),T(e)];return n!==null&&i.push(T(n)),re(y.i18nStart,i,r)}function r2(t,e,n,r,i,o,s,a){let l=[T(t),e,T(n),T(r),T(i),T(o)];for(s!==null&&(l.push(T(s)),l.push(q(y.templateRefExtractor)));l[l.length-1].isEquivalent(is);)l.pop();return re(y.conditionalCreate,l,a)}function i2(t,e,n,r,i,o,s,a){let l=[T(t),e,T(n),T(r),T(i),T(o)];for(s!==null&&(l.push(T(s)),l.push(q(y.templateRefExtractor)));l[l.length-1].isEquivalent(is);)l.pop();return re(y.conditionalBranchCreate,l,a)}function o2(t,e,n,r,i,o,s,a,l,c,d,p,h,g){let v=[T(t),de(e),T(n),T(r),T(i),T(o),s];return(a||l!==null)&&(v.push(T(a)),l!==null&&(v.push(de(l),T(c),T(d)),(p!==null||h!==null)&&v.push(T(p)),h!==null&&v.push(T(h)))),re(y.repeaterCreate,v,g)}function s2(t,e){return re(y.repeater,[t],e)}function a2(t,e,n){return t==="prefetch"?re(y.deferPrefetchWhen,[e],n):t==="hydrate"?re(y.deferHydrateWhen,[e],n):re(y.deferWhen,[e],n)}function l2(t,e){return re(y.declareLet,[T(t)],e)}function c2(t,e){return q(y.storeLet).callFn([t],e)}function u2(t){return q(y.readContextLet).callFn([T(t)])}function d2(t,e,n,r){let i=[T(t),T(e)];return n&&i.push(T(n)),re(y.i18n,i,r)}function f2(t){return re(y.i18nEnd,[],t)}function p2(t,e){let n=[T(t),T(e)];return re(y.i18nAttributes,n,null)}function h2(t,e,n){return rg(y.ariaProperty,t,e,null,n)}function m2(t,e,n,r){return rg(y.property,t,e,n,r)}function g2(t,e,n,r){let i=[T(t),e];return n!==null&&i.push(n),re(y.twoWayProperty,i,r)}function v2(t,e,n,r,i){let o=[T(t)];return e instanceof Ue?o.push(xs(e,i)):o.push(e),(n!==null||r!==null)&&o.push(n??T(null)),r!==null&&o.push(T(r)),re(y.attribute,o,null)}function y2(t,e,n,r){let i=[T(t)];return e instanceof Ue?i.push(xs(e,r)):i.push(e),n!==null&&i.push(T(n)),re(y.styleProp,i,r)}function _2(t,e,n){return re(y.classProp,[T(t),e],n)}function E2(t,e){let n=t instanceof Ue?xs(t,e):t;return re(y.styleMap,[n],e)}function C2(t,e){let n=t instanceof Ue?xs(t,e):t;return re(y.classMap,[n],e)}function w2(t,e,n,r,i){return oi(y.domElement,t,e,n,r,i)}function S2(t,e,n,r,i){return oi(y.domElementStart,t,e,n,r,i)}function T2(t){return re(y.domElementEnd,[],t)}function x2(t,e,n,r){return oi(y.domElementContainerStart,t,null,e,n,r)}function I2(t,e,n,r){return oi(y.domElementContainer,t,null,e,n,r)}function D2(){return re(y.domElementContainerEnd,[],null)}function A2(t,e,n,r){let i=[T(t),e];return n!==null&&i.push(q(n)),re(y.domListener,i,r)}function b2(t,e,n,r,i,o,s,a){return jC(y.domTemplate,t,e,n,r,i,o,s,a)}var fE=[y.pipeBind1,y.pipeBind2,y.pipeBind3,y.pipeBind4];function k2(t,e,n){if(n.length<1||n.length>fE.length)throw new Error("pipeBind() argument count out of bounds");let r=fE[n.length-1];return q(r).callFn([T(t),T(e),...n])}function N2(t,e,n){return q(y.pipeBindV).callFn([T(t),T(e),n])}function M2(t,e,n){let r=YC(t,e);return W2(q2,[],r,[],n)}function P2(t,e){return re(y.i18nExp,[t],e)}function R2(t,e){return re(y.i18nApply,[T(t)],e)}function L2(t,e,n,r){return rg(y.domProperty,t,e,n,r)}function F2(t,e,n,r){let i=[e];n!==null&&i.push(n);let o=t==="enter"?y.animationEnter:y.animationLeave;return re(o,i,r)}function O2(t,e,n,r){let o=[e instanceof Ue?xs(e,r):e];n!==null&&o.push(n);let s=t==="enter"?y.animationEnter:y.animationLeave;return re(s,o,r)}function B2(t,e,n,r){let i=[e],o=t==="enter"?y.animationEnterListener:y.animationLeaveListener;return re(o,i,r)}function V2(t,e,n){return re(y.syntheticHostProperty,[T(t),e],n)}function $2(t,e,n){return ig(z2,[T(t),e],n,[],null)}function U2(t,e){return re(y.attachSourceLocations,[T(t),e],null)}function YC(t,e){if(t.length<1||e.length!==t.length-1)throw new Error("AssertionError: expected specific shape of args for strings/expressions in interpolation");let n=[];if(e.length===1&&t[0]===""&&t[1]==="")n.push(e[0]);else{let r;for(r=0;r<e.length;r++)n.push(T(t[r]),e[r]);n.push(T(t[r]))}return n}function xs(t,e){let n=YC(t.strings,t.expressions);return ig(G2,[],n,[],e)}function re(t,e,n){let r=q(t).callFn(e,n);return yn(new gn(r,n))}function H2(t,e,n){let r=[t];return e!==null&&r.push(e),re(y.conditional,r,n)}var q2={constant:[y.textInterpolate,y.textInterpolate1,y.textInterpolate2,y.textInterpolate3,y.textInterpolate4,y.textInterpolate5,y.textInterpolate6,y.textInterpolate7,y.textInterpolate8],variable:y.textInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},G2={constant:[y.interpolate,y.interpolate1,y.interpolate2,y.interpolate3,y.interpolate4,y.interpolate5,y.interpolate6,y.interpolate7,y.interpolate8],variable:y.interpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},z2={constant:[y.pureFunction0,y.pureFunction1,y.pureFunction2,y.pureFunction3,y.pureFunction4,y.pureFunction5,y.pureFunction6,y.pureFunction7,y.pureFunction8],variable:y.pureFunctionV,mapping:t=>t};function ig(t,e,n,r,i){let o=t.mapping(n.length),s=n.at(-1);if(r.length===0&&n.length>1&&s instanceof ht&&s.value===""&&n.pop(),o<t.constant.length)return q(t.constant[o]).callFn([...e,...n,...r],i);if(t.variable!==null)return q(t.variable).callFn([...e,xe(n),...r],i);throw new Error("AssertionError: unable to call variadic function")}function W2(t,e,n,r,i){return yn(ig(t,e,n,r,i).toStmt())}var j2=new Map([["window",y.resolveWindow],["document",y.resolveDocument],["body",y.resolveBody]]),Y2=new Map([["class","className"],["for","htmlFor"],["formaction","formAction"],["innerHtml","innerHTML"],["readonly","readOnly"],["tabindex","tabIndex"]]);function J2(t){for(let e of t.units)K2(e,e.create),og(e,e.update)}function K2(t,e){for(let n of e)switch(We(n,JC,we.None),n.kind){case m.Text:k.replace(n,KM(n.handle.slot,n.initialValue,n.sourceSpan));break;case m.ElementStart:k.replace(n,t.job.mode===Pt.DomOnly?S2(n.handle.slot,n.tag,n.attributes,n.localRefs,n.startSourceSpan):kM(n.handle.slot,n.tag,n.attributes,n.localRefs,n.startSourceSpan));break;case m.Element:k.replace(n,t.job.mode===Pt.DomOnly?w2(n.handle.slot,n.tag,n.attributes,n.localRefs,n.wholeSourceSpan):bM(n.handle.slot,n.tag,n.attributes,n.localRefs,n.wholeSourceSpan));break;case m.ElementEnd:k.replace(n,t.job.mode===Pt.DomOnly?T2(n.sourceSpan):NM(n.sourceSpan));break;case m.ContainerStart:k.replace(n,t.job.mode===Pt.DomOnly?x2(n.handle.slot,n.attributes,n.localRefs,n.startSourceSpan):MM(n.handle.slot,n.attributes,n.localRefs,n.startSourceSpan));break;case m.Container:k.replace(n,t.job.mode===Pt.DomOnly?I2(n.handle.slot,n.attributes,n.localRefs,n.wholeSourceSpan):PM(n.handle.slot,n.attributes,n.localRefs,n.wholeSourceSpan));break;case m.ContainerEnd:k.replace(n,t.job.mode===Pt.DomOnly?D2():RM());break;case m.I18nStart:k.replace(n,n2(n.handle.slot,n.messageIndex,n.subTemplateIndex,n.sourceSpan));break;case m.I18nEnd:k.replace(n,f2(n.sourceSpan));break;case m.I18n:k.replace(n,d2(n.handle.slot,n.messageIndex,n.subTemplateIndex,n.sourceSpan));break;case m.I18nAttributes:if(n.i18nAttributesConfig===null)throw new Error("AssertionError: i18nAttributesConfig was not set");k.replace(n,p2(n.handle.slot,n.i18nAttributesConfig));break;case m.Template:if(!(t instanceof fn))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(n.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");let r=t.job.views.get(n.xref);k.replace(n,n.templateKind===Ft.Block||t.job.mode===Pt.DomOnly?b2(n.handle.slot,de(r.fnName),r.decls,r.vars,n.tag,n.attributes,n.localRefs,n.startSourceSpan):LM(n.handle.slot,de(r.fnName),r.decls,r.vars,n.tag,n.attributes,n.localRefs,n.startSourceSpan));break;case m.DisableBindings:k.replace(n,FM());break;case m.EnableBindings:k.replace(n,OM());break;case m.Pipe:k.replace(n,$M(n.handle.slot,n.name));break;case m.DeclareLet:k.replace(n,l2(n.handle.slot,n.sourceSpan));break;case m.AnimationString:k.replace(n,O2(n.animationKind,n.expression,n.sanitizer,n.sourceSpan));break;case m.Animation:let i=Gc(t,n.handlerFnName,n.handlerOps,!1);k.replace(n,F2(n.animationKind,i,n.sanitizer,n.sourceSpan));break;case m.AnimationListener:let o=Gc(t,n.handlerFnName,n.handlerOps,n.consumesDollarEvent);k.replace(n,B2(n.animationKind,o,null,n.sourceSpan));break;case m.Listener:let s=Gc(t,n.handlerFnName,n.handlerOps,n.consumesDollarEvent),a=n.eventTarget?j2.get(n.eventTarget):null;if(a===void 0)throw new Error(`Unexpected global target '${n.eventTarget}' defined for '${n.name}' event. Supported list of global targets: window,document,body.`);k.replace(n,t.job.mode===Pt.DomOnly&&!n.hostListener&&!n.isLegacyAnimationListener?A2(n.name,s,a,n.sourceSpan):BM(n.name,s,a,n.hostListener&&n.isLegacyAnimationListener,n.sourceSpan));break;case m.TwoWayListener:k.replace(n,VM(n.name,Gc(t,n.handlerFnName,n.handlerOps,!0),n.sourceSpan));break;case m.Variable:if(n.variable.name===null)throw new Error(`AssertionError: unnamed variable ${n.xref}`);k.replace(n,yn(new Xe(n.variable.name,n.initializer,void 0,dt.Final)));break;case m.Namespace:switch(n.active){case _t.HTML:k.replace(n,UM());break;case _t.SVG:k.replace(n,HM());break;case _t.Math:k.replace(n,qM());break}break;case m.Defer:let l=!!n.loadingMinimumTime||!!n.loadingAfterTime||!!n.placeholderMinimumTime;k.replace(n,XM(n.handle.slot,n.mainSlot.slot,n.resolverFn,n.loadingSlot?.slot??null,n.placeholderSlot?.slot??null,n.errorSlot?.slot??null,n.loadingConfig,n.placeholderConfig,l,n.sourceSpan,n.flags));break;case m.DeferOn:let c=[];switch(n.trigger.kind){case Ae.Never:case Ae.Idle:case Ae.Immediate:break;case Ae.Timer:c=[n.trigger.delay];break;case Ae.Interaction:case Ae.Hover:case Ae.Viewport:n.modifier==="hydrate"?c=[]:(c=[n.trigger.targetSlot?.slot??null],n.trigger.targetSlotViewSteps!==0&&c.push(n.trigger.targetSlotViewSteps));break;default:throw new Error(`AssertionError: Unsupported reification of defer trigger kind ${n.trigger.kind}`)}k.replace(n,QM(n.trigger.kind,c,n.modifier,n.sourceSpan));break;case m.ProjectionDef:k.replace(n,e2(n.def));break;case m.Projection:if(n.handle.slot===null)throw new Error("No slot was assigned for project instruction");let d=null,p=null,h=null;if(n.fallbackView!==null){if(!(t instanceof fn))throw new Error("AssertionError: must be compiling a component");let P=t.job.views.get(n.fallbackView);if(P===void 0)throw new Error("AssertionError: projection had fallback view xref, but fallback view was not found");if(P.fnName===null||P.decls===null||P.vars===null)throw new Error("AssertionError: expected projection fallback view to have been named and counted");d=P.fnName,p=P.decls,h=P.vars}k.replace(n,t2(n.handle.slot,n.projectionSlotIndex,n.attributes,d,p,h,n.sourceSpan));break;case m.ConditionalCreate:if(!(t instanceof fn))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(n.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");let g=t.job.views.get(n.xref);k.replace(n,r2(n.handle.slot,de(g.fnName),g.decls,g.vars,n.tag,n.attributes,n.localRefs,n.startSourceSpan));break;case m.ConditionalBranchCreate:if(!(t instanceof fn))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(n.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");let v=t.job.views.get(n.xref);k.replace(n,i2(n.handle.slot,de(v.fnName),v.decls,v.vars,n.tag,n.attributes,n.localRefs,n.startSourceSpan));break;case m.RepeaterCreate:if(n.handle.slot===null)throw new Error("No slot was assigned for repeater instruction");if(!(t instanceof fn))throw new Error("AssertionError: must be compiling a component");let w=t.job.views.get(n.xref);if(w.fnName===null)throw new Error("AssertionError: expected repeater primary view to have been named");let x=null,S=null,N=null;if(n.emptyView!==null){let P=t.job.views.get(n.emptyView);if(P===void 0)throw new Error("AssertionError: repeater had empty view xref, but empty view was not found");if(P.fnName===null||P.decls===null||P.vars===null)throw new Error("AssertionError: expected repeater empty view to have been named and counted");x=P.fnName,S=P.decls,N=P.vars}k.replace(n,o2(n.handle.slot,w.fnName,n.decls,n.vars,n.tag,n.attributes,Z2(t,n),n.usesComponentInstance,x,S,N,n.emptyTag,n.emptyAttributes,n.wholeSourceSpan));break;case m.SourceLocation:let R=xe(n.locations.map(({targetSlot:P,offset:H,line:te,column:_e})=>{if(P.slot===null)throw new Error("No slot was assigned for source location");return xe([T(P.slot),T(H),T(te),T(_e)])}));k.replace(n,U2(n.templatePath,R));break;case m.Statement:break;default:throw new Error(`AssertionError: Unsupported reification of create op ${m[n.kind]}`)}}function og(t,e){for(let n of e)switch(We(n,JC,we.None),n.kind){case m.Advance:k.replace(n,GM(n.delta,n.sourceSpan));break;case m.Property:k.replace(n,t.job.mode===Pt.DomOnly&&n.bindingKind!==$.LegacyAnimation&&n.bindingKind!==$.Animation?pE(n):X2(n));break;case m.TwoWayProperty:k.replace(n,g2(n.name,n.expression,n.sanitizer,n.sourceSpan));break;case m.StyleProp:k.replace(n,y2(n.name,n.expression,n.unit,n.sourceSpan));break;case m.ClassProp:k.replace(n,_2(n.name,n.expression,n.sourceSpan));break;case m.StyleMap:k.replace(n,E2(n.expression,n.sourceSpan));break;case m.ClassMap:k.replace(n,C2(n.expression,n.sourceSpan));break;case m.I18nExpression:k.replace(n,P2(n.expression,n.sourceSpan));break;case m.I18nApply:k.replace(n,R2(n.handle.slot,n.sourceSpan));break;case m.InterpolateText:k.replace(n,M2(n.interpolation.strings,n.interpolation.expressions,n.sourceSpan));break;case m.Attribute:k.replace(n,v2(n.name,n.expression,n.sanitizer,n.namespace,n.sourceSpan));break;case m.DomProperty:if(n.expression instanceof Ue)throw new Error("not yet handled");n.bindingKind===$.LegacyAnimation||n.bindingKind===$.Animation?k.replace(n,V2(n.name,n.expression,n.sourceSpan)):k.replace(n,pE(n));break;case m.Variable:if(n.variable.name===null)throw new Error(`AssertionError: unnamed variable ${n.xref}`);k.replace(n,yn(new Xe(n.variable.name,n.initializer,void 0,dt.Final)));break;case m.Conditional:if(n.processed===null)throw new Error("Conditional test was not set.");k.replace(n,H2(n.processed,n.contextValue,n.sourceSpan));break;case m.Repeater:k.replace(n,s2(n.collection,n.sourceSpan));break;case m.DeferWhen:k.replace(n,a2(n.modifier,n.expr,n.sourceSpan));break;case m.StoreLet:throw new Error(`AssertionError: unexpected storeLet ${n.declaredName}`);case m.Statement:break;default:throw new Error(`AssertionError: Unsupported reification of update op ${m[n.kind]}`)}}function pE(t){return L2(Y2.get(t.name)??t.name,t.expression,t.sanitizer,t.sourceSpan)}function X2(t){return PC(t.name)?h2(t.name,t.expression,t.sourceSpan):m2(t.name,t.expression,t.sanitizer,t.sourceSpan)}function JC(t){if(!or(t))return t;switch(t.kind){case z.NextContext:return WM(t.steps);case z.Reference:return zM(t.targetSlot.slot+1+t.offset);case z.LexicalRead:throw new Error(`AssertionError: unresolved LexicalRead of ${t.name}`);case z.TwoWayBindingSet:throw new Error("AssertionError: unresolved TwoWayBindingSet");case z.RestoreView:if(typeof t.view=="number")throw new Error("AssertionError: unresolved RestoreView");return YM(t.view);case z.ResetView:return JM(t.expr);case z.GetCurrentView:return jM();case z.ReadVariable:if(t.name===null)throw new Error(`Read of unnamed variable ${t.xref}`);return de(t.name);case z.ReadTemporaryExpr:if(t.name===null)throw new Error(`Read of unnamed temporary ${t.xref}`);return de(t.name);case z.AssignTemporaryExpr:if(t.name===null)throw new Error(`Assign of unnamed temporary ${t.xref}`);return de(t.name).set(t.expr);case z.PureFunctionExpr:if(t.fn===null)throw new Error("AssertionError: expected PureFunctions to have been extracted");return $2(t.varOffset,t.fn,t.args);case z.PureFunctionParameterExpr:throw new Error("AssertionError: expected PureFunctionParameterExpr to have been extracted");case z.PipeBinding:return k2(t.targetSlot.slot,t.varOffset,t.args);case z.PipeBindingVariadic:return N2(t.targetSlot.slot,t.varOffset,t.args);case z.SlotLiteralExpr:return T(t.slot.slot);case z.ContextLetReference:return u2(t.targetSlot.slot);case z.StoreLet:return c2(t.value,t.sourceSpan);case z.TrackContext:return de("this");default:throw new Error(`AssertionError: Unsupported reification of ir.Expression kind: ${z[t.kind]}`)}}function Gc(t,e,n,r){og(t,n);let i=[];for(let s of n){if(s.kind!==m.Statement)throw new Error(`AssertionError: expected reified statements, but found op ${m[s.kind]}`);i.push(s.statement)}let o=[];return r&&o.push(new st("$event")),Kr(o,i,void 0,void 0,e)}function Z2(t,e){if(e.trackByFn!==null)return e.trackByFn;let n=[new st("$index"),new st("$item")],r;if(e.trackByOps===null)r=e.usesComponentInstance?Kr(n,[new ft(e.track)]):Ln(n,e.track);else{og(t,e.trackByOps);let i=[];for(let o of e.trackByOps){if(o.kind!==m.Statement)throw new Error(`AssertionError: expected reified statements, but found op ${m[o.kind]}`);i.push(o.statement)}r=e.usesComponentInstance||i.length!==1||!(i[0]instanceof ft)?Kr(n,i):Ln(n,i[0].value)}return e.trackByFn=t.job.pool.getSharedFunctionReference(r,"_forTrack"),e.trackByFn}function Q2(t){for(let e of t.units)for(let n of e.update)switch(n.kind){case m.Attribute:case m.Binding:case m.ClassProp:case m.ClassMap:case m.Property:case m.StyleProp:case m.StyleMap:n.expression instanceof _l&&k.remove(n);break}}function eP(t){for(let e of t.units)for(let n of e.create)switch(n.kind){case m.I18nContext:k.remove(n);break;case m.I18nStart:n.context=null;break}}function tP(t){for(let e of t.units)for(let n of e.update){if(n.kind!==m.Variable||n.variable.kind!==ot.Identifier||!(n.initializer instanceof gl))continue;let r=n.variable.identifier,i=n;for(;i&&i.kind!==m.ListEnd;)We(i,o=>o instanceof ct&&o.name===r?T(void 0):o,we.None),i=i.prev}}function nP(t){for(let e of t.units){let n=new Set;for(let r of e.update)switch(r.kind){case m.I18nExpression:n.add(r.i18nOwner)}for(let r of e.create)switch(r.kind){case m.I18nAttributes:if(n.has(r.xref))continue;k.remove(r)}}}function rP(t){for(let e of t.units)sd(e,e.create),sd(e,e.update)}function sd(t,e){let n=new Map;n.set(t.xref,de("ctx"));for(let r of e)switch(r.kind){case m.Variable:switch(r.variable.kind){case ot.Context:n.set(r.variable.view,new xr(r.xref));break}break;case m.Animation:case m.AnimationListener:case m.Listener:case m.TwoWayListener:sd(t,r.handlerOps);break;case m.RepeaterCreate:r.trackByOps!==null&&sd(t,r.trackByOps);break}t===t.job.root&&n.set(t.xref,de("ctx"));for(let r of e)We(r,i=>{if(i instanceof ti){if(!n.has(i.view))throw new Error(`No context found for reference to view ${i.view} from view ${t.xref}`);return n.get(i.view)}else return i},we.None)}function iP(t){for(let e of t.units)for(let n of e.create)if(n.kind===m.Defer){if(n.resolverFn!==null)continue;if(n.ownResolverFn!==null){if(n.handle.slot===null)throw new Error("AssertionError: slot must be assigned before extracting defer deps functions");let r=e.fnName?.replace("_Template","");n.resolverFn=t.pool.getSharedFunctionReference(n.ownResolverFn,`${r}_Defer_${n.handle.slot}_DepsFn`,!1)}}}function oP(t){for(let e of t.units)hE(e.create),hE(e.update)}function hE(t){for(let e of t)(e.kind===m.Listener||e.kind===m.TwoWayListener||e.kind===m.AnimationListener)&&We(e,n=>n instanceof ct&&n.name==="$event"?((e.kind===m.Listener||e.kind===m.AnimationListener)&&(e.consumesDollarEvent=!0),new mn(n.name)):n,we.InChildOperation)}function sP(t){let e=new Map,n=new Map;for(let r of t.units)for(let i of r.create)switch(i.kind){case m.I18nContext:e.set(i.xref,i);break;case m.ElementStart:n.set(i.xref,i);break}Yn(t,t.root,e,n)}function Yn(t,e,n,r,i){let o=null,s=new Map;for(let a of e.create)switch(a.kind){case m.I18nStart:if(!a.context)throw Error("Could not find i18n context for i18n op");o={i18nBlock:a,i18nContext:n.get(a.context)};break;case m.I18nEnd:o=null;break;case m.ElementStart:if(a.i18nPlaceholder!==void 0){if(o===null)throw Error("i18n tag placeholder should only occur inside an i18n block");mE(a,o.i18nContext,o.i18nBlock,i),i&&a.i18nPlaceholder.closeName&&s.set(a.xref,i),i=void 0}break;case m.ElementEnd:let l=r.get(a.xref);if(l&&l.i18nPlaceholder!==void 0){if(o===null)throw Error("AssertionError: i18n tag placeholder should only occur inside an i18n block");gE(l,o.i18nContext,o.i18nBlock,s.get(a.xref)),s.delete(a.xref)}break;case m.Projection:if(a.i18nPlaceholder!==void 0){if(o===null)throw Error("i18n tag placeholder should only occur inside an i18n block");mE(a,o.i18nContext,o.i18nBlock,i),gE(a,o.i18nContext,o.i18nBlock,i),i=void 0}if(a.fallbackView!==null){let h=t.views.get(a.fallbackView);if(a.fallbackViewI18nPlaceholder===void 0)Yn(t,h,n,r);else{if(o===null)throw Error("i18n tag placeholder should only occur inside an i18n block");zc(t,h,a.handle.slot,a.fallbackViewI18nPlaceholder,o.i18nContext,o.i18nBlock,i),Yn(t,h,n,r),Wc(t,h,a.handle.slot,a.fallbackViewI18nPlaceholder,o.i18nContext,o.i18nBlock,i),i=void 0}}break;case m.ConditionalCreate:case m.ConditionalBranchCreate:case m.Template:let c=t.views.get(a.xref);if(a.i18nPlaceholder===void 0)Yn(t,c,n,r);else{if(o===null)throw Error("i18n tag placeholder should only occur inside an i18n block");a.templateKind===Ft.Structural?Yn(t,c,n,r,a):(zc(t,c,a.handle.slot,a.i18nPlaceholder,o.i18nContext,o.i18nBlock,i),Yn(t,c,n,r),Wc(t,c,a.handle.slot,a.i18nPlaceholder,o.i18nContext,o.i18nBlock,i),i=void 0)}break;case m.RepeaterCreate:if(i!==void 0)throw Error("AssertionError: Unexpected structural directive associated with @for block");let d=a.handle.slot+1,p=t.views.get(a.xref);if(a.i18nPlaceholder===void 0)Yn(t,p,n,r);else{if(o===null)throw Error("i18n tag placeholder should only occur inside an i18n block");zc(t,p,d,a.i18nPlaceholder,o.i18nContext,o.i18nBlock,i),Yn(t,p,n,r),Wc(t,p,d,a.i18nPlaceholder,o.i18nContext,o.i18nBlock,i),i=void 0}if(a.emptyView!==null){let h=a.handle.slot+2,g=t.views.get(a.emptyView);if(a.emptyI18nPlaceholder===void 0)Yn(t,g,n,r);else{if(o===null)throw Error("i18n tag placeholder should only occur inside an i18n block");zc(t,g,h,a.emptyI18nPlaceholder,o.i18nContext,o.i18nBlock,i),Yn(t,g,n,r),Wc(t,g,h,a.emptyI18nPlaceholder,o.i18nContext,o.i18nBlock,i),i=void 0}}break}}function mE(t,e,n,r){let{startName:i,closeName:o}=t.i18nPlaceholder,s=Ne.ElementTag|Ne.OpenTag,a=t.handle.slot;r!==void 0&&(s|=Ne.TemplateTag,a={element:a,template:r.handle.slot}),o||(s|=Ne.CloseTag),Es(e.params,i,a,n.subTemplateIndex,s)}function gE(t,e,n,r){let{closeName:i}=t.i18nPlaceholder;if(i){let o=Ne.ElementTag|Ne.CloseTag,s=t.handle.slot;r!==void 0&&(o|=Ne.TemplateTag,s={element:s,template:r.handle.slot}),Es(e.params,i,s,n.subTemplateIndex,o)}}function zc(t,e,n,r,i,o,s){let{startName:a,closeName:l}=r,c=Ne.TemplateTag|Ne.OpenTag;l||(c|=Ne.CloseTag),s!==void 0&&Es(i.params,a,s.handle.slot,o.subTemplateIndex,c),Es(i.params,a,n,KC(t,o,e),c)}function Wc(t,e,n,r,i,o,s){let{closeName:a}=r,l=Ne.TemplateTag|Ne.CloseTag;a&&(Es(i.params,a,n,KC(t,o,e),l),s!==void 0&&Es(i.params,a,s.handle.slot,o.subTemplateIndex,l))}function KC(t,e,n){for(let r of n.create)if(r.kind===m.I18nStart)return r.subTemplateIndex;return e.subTemplateIndex}function Es(t,e,n,r,i){let o=t.get(e)??[];o.push({value:n,subTemplateIndex:r,flags:i}),t.set(e,o)}function aP(t){let e=new Map,n=new Map,r=new Map;for(let s of t.units)for(let a of s.create)switch(a.kind){case m.I18nStart:e.set(a.xref,a.subTemplateIndex);break;case m.I18nContext:n.set(a.xref,a);break;case m.IcuPlaceholder:r.set(a.xref,a);break}let i=new Map,o=s=>s.usage===ws.I18nText?s.i18nOwner:s.context;for(let s of t.units)for(let a of s.update)if(a.kind===m.I18nExpression){let l=i.get(o(a))||0,c=e.get(a.i18nOwner)??null,d={value:l,subTemplateIndex:c,flags:Ne.ExpressionIndex};lP(a,d,n,r),i.set(o(a),l+1)}}function lP(t,e,n,r){if(t.i18nPlaceholder!==null){let i=n.get(t.context),o=t.resolutionTime===hl.Creation?i.params:i.postprocessingParams,s=o.get(t.i18nPlaceholder)||[];s.push(e),o.set(t.i18nPlaceholder,s)}t.icuPlaceholder!==null&&r.get(t.icuPlaceholder)?.expressionPlaceholders.push(e)}function cP(t){for(let e of t.units)ad(e,e.create,null),ad(e,e.update,null)}function ad(t,e,n){let r=new Map,i=new Map;for(let o of e)switch(o.kind){case m.Variable:switch(o.variable.kind){case ot.Identifier:if(o.variable.local){if(i.has(o.variable.identifier))continue;i.set(o.variable.identifier,o.xref)}else if(r.has(o.variable.identifier))continue;r.set(o.variable.identifier,o.xref);break;case ot.Alias:if(r.has(o.variable.identifier))continue;r.set(o.variable.identifier,o.xref);break;case ot.SavedView:n={view:o.variable.view,variable:o.xref};break}break;case m.Animation:case m.AnimationListener:case m.Listener:case m.TwoWayListener:ad(t,o.handlerOps,n);break;case m.RepeaterCreate:o.trackByOps!==null&&ad(t,o.trackByOps,n);break}for(let o of e)o.kind==m.Listener||o.kind===m.TwoWayListener||o.kind===m.Animation||o.kind===m.AnimationListener||We(o,s=>{if(s instanceof ct)return i.has(s.name)?new xr(i.get(s.name)):r.has(s.name)?new xr(r.get(s.name)):new Kt(new ti(t.job.root.xref),s.name);if(s instanceof qu&&typeof s.view=="number"){if(n===null||n.view!==s.view)throw new Error(`AssertionError: no saved view ${s.view} from view ${t.xref}`);return s.view=new xr(n.variable),s}else return s},we.None);for(let o of e)at(o,s=>{if(s instanceof ct)throw new Error(`AssertionError: no lexical reads should remain, but found read of ${s.name}`)})}var uP=new Map([[Me.HTML,y.sanitizeHtml],[Me.RESOURCE_URL,y.sanitizeResourceUrl],[Me.SCRIPT,y.sanitizeScript],[Me.STYLE,y.sanitizeStyle],[Me.URL,y.sanitizeUrl]]),dP=new Map([[Me.HTML,y.trustConstantHtml],[Me.RESOURCE_URL,y.trustConstantResourceUrl]]);function fP(t){for(let e of t.units){let n=ng(e);if(t.kind!==B.Host){for(let r of e.create)if(r.kind===m.ExtractedAttribute){let i=dP.get(vE(r.securityContext))??null;r.trustedValueFn=i!==null?q(i):null}}for(let r of e.update)switch(r.kind){case m.Property:case m.Attribute:case m.DomProperty:let i=null;if(Array.isArray(r.securityContext)&&r.securityContext.length===2&&r.securityContext.indexOf(Me.URL)>-1&&r.securityContext.indexOf(Me.RESOURCE_URL)>-1?i=y.sanitizeUrlOrResourceUrl:i=uP.get(vE(r.securityContext))??null,r.sanitizer=i!==null?q(i):null,r.sanitizer===null){let o=!1;if(t.kind===B.Host||r.kind===m.DomProperty)o=!0;else{let s=n.get(r.target);if(s===void 0||!Dr(s))throw Error("Property should have an element-like owner");o=pP(s)}o&&fN(r.name)&&(r.sanitizer=q(y.validateIframeAttribute))}break}}}function pP(t){return t.kind===m.ElementStart&&t.tag?.toLowerCase()==="iframe"}function vE(t){if(Array.isArray(t)){if(t.length>1)throw Error("AssertionError: Ambiguous security context");return t[0]||Me.NONE}return t}function hP(t){for(let e of t.units){e.create.prepend([zr(e.job.allocateXrefId(),{kind:ot.SavedView,name:null,view:e.xref},new Yh,un.None)]);for(let n of e.create){if(n.kind!==m.Listener&&n.kind!==m.TwoWayListener&&n.kind!==m.Animation&&n.kind!==m.AnimationListener)continue;let r=e!==t.root;if(!r)for(let i of n.handlerOps)at(i,o=>{(o instanceof Uu||o instanceof vl)&&(r=!0)});r&&mP(e,n)}}}function mP(t,e){e.handlerOps.prepend([zr(t.job.allocateXrefId(),{kind:ot.Context,name:null,view:t.xref},new qu(t.xref),un.None)]);for(let n of e.handlerOps)n.kind===m.Statement&&n.statement instanceof ft&&(n.statement.value=new Jh(n.statement.value))}function gP(t){let e=new Map;for(let n of t.units){let r=0;for(let i of n.create)Ts(i)&&(i.handle.slot=r,e.set(i.xref,i.handle.slot),r+=i.numSlotsUsed);n.decls=r}for(let n of t.units)for(let r of n.ops())if(r.kind===m.Template||r.kind===m.ConditionalCreate||r.kind===m.ConditionalBranchCreate||r.kind===m.RepeaterCreate){let i=t.views.get(r.xref);r.decls=i.decls}}function vP(t){let e=new Set,n=new Map;for(let r of t.units)for(let i of r.ops())i.kind===m.DeclareLet&&n.set(i.xref,i),at(i,o=>{o instanceof vl&&e.add(o.target)});for(let r of t.units)for(let i of r.update)We(i,o=>o instanceof gl&&!e.has(o.target)?(yP(o)||k.remove(n.get(o.target)),o.value):o,we.None)}function yP(t){let e=!1;return V(t,n=>((n instanceof Ki||n instanceof yl)&&(e=!0),n),we.None),e}function _P(t){let e=new Set;for(let n of t.units)for(let r of n.ops())at(r,i=>{if(i instanceof ve)switch(i.operator){case M.Exponentiation:EP(i,e);break;case M.NullishCoalesce:CP(i,e);break;case M.And:case M.Or:wP(i,e)}});for(let n of t.units)for(let r of n.ops())We(r,i=>i instanceof Pn?e.has(i)?i:i.expr:i,we.None)}function EP(t,e){t.lhs instanceof Pn&&t.lhs.expr instanceof Ui&&e.add(t.lhs)}function CP(t,e){t.lhs instanceof Pn&&(yE(t.lhs.expr)||t.lhs.expr instanceof er)&&e.add(t.lhs),t.rhs instanceof Pn&&(yE(t.rhs.expr)||t.rhs.expr instanceof er)&&e.add(t.rhs)}function wP(t,e){t.lhs instanceof Pn&&t.lhs.expr instanceof ve&&t.lhs.expr.operator===M.NullishCoalesce&&e.add(t.lhs)}function yE(t){return t instanceof ve&&(t.operator===M.And||t.operator===M.Or)}function SP(t){for(let e of t.units)for(let n of e.update)if(n.kind===m.Binding)switch(n.bindingKind){case $.ClassName:if(n.expression instanceof Ue)throw new Error("Unexpected interpolation in ClassName binding");k.replace(n,Qb(n.target,n.name,n.expression,n.sourceSpan));break;case $.StyleProperty:k.replace(n,Zb(n.target,n.name,n.expression,n.unit,n.sourceSpan));break;case $.Property:case $.Template:n.name==="style"?k.replace(n,e1(n.target,n.expression,n.sourceSpan)):n.name==="class"&&k.replace(n,t1(n.target,n.expression,n.sourceSpan));break}}function TP(t){for(let e of t.units)e.create.prepend(ld(e.create)),e.update.prepend(ld(e.update))}function ld(t){let e=0,n=[];for(let r of t){let i=new Map;at(r,(c,d)=>{d&we.InChildOperation||c instanceof ni&&i.set(c.xref,c)});let o=0,s=new Set,a=new Set,l=new Map;at(r,(c,d)=>{d&we.InChildOperation||(c instanceof sr?(s.has(c.xref)||(s.add(c.xref),l.set(c.xref,`tmp_${e}_${o++}`)),_E(l,c)):c instanceof ni&&(i.get(c.xref)===c&&(a.add(c.xref),o--),_E(l,c)))}),n.push(...Array.from(new Set(l.values())).map(c=>yn(new Xe(c)))),e++,r.kind===m.Listener||r.kind===m.Animation||r.kind===m.AnimationListener||r.kind===m.TwoWayListener?r.handlerOps.prepend(ld(r.handlerOps)):r.kind===m.RepeaterCreate&&r.trackByOps!==null&&r.trackByOps.prepend(ld(r.trackByOps))}return n}function _E(t,e){let n=t.get(e.xref);if(n===void 0)throw new Error(`Found xref with unassigned name: ${e.xref}`);e.name=n}function xP(t){for(let e of t.units)for(let n of e.create)if(n.kind===m.RepeaterCreate)if(n.track instanceof mn&&n.track.name==="$index")n.trackByFn=q(y.repeaterTrackByIndex);else if(n.track instanceof mn&&n.track.name==="$item")n.trackByFn=q(y.repeaterTrackByIdentity);else if(IP(t.root.xref,n.track))n.usesComponentInstance=!0,n.track.receiver.receiver.view===e.xref?n.trackByFn=n.track.receiver:(n.trackByFn=q(y.componentInstance).callFn([]).prop(n.track.receiver.name),n.track=n.trackByFn);else{n.track=V(n.track,i=>{if(i instanceof Ki||i instanceof yl)throw new Error("Illegal State: Pipes are not allowed in this context");return i instanceof ti?(n.usesComponentInstance=!0,new jh(i.view)):i},we.None);let r=new k;r.push(yn(new ft(n.track,n.track.sourceSpan))),n.trackByOps=r}}function IP(t,e){if(!(e instanceof Ot)||e.args.length===0||e.args.length>2||!(e.receiver instanceof Kt&&e.receiver.receiver instanceof ti)||e.receiver.receiver.view!==t)return!1;let[n,r]=e.args;return!(n instanceof mn)||n.name!=="$index"?!1:e.args.length===1?!0:!(!(r instanceof mn)||r.name!=="$item")}function DP(t){for(let e of t.units)for(let n of e.create)n.kind===m.RepeaterCreate&&(n.track=V(n.track,r=>{if(r instanceof ct){if(n.varNames.$index.has(r.name))return de("$index");if(r.name===n.varNames.$implicit)return de("$item")}return r},we.None))}function AP(t){for(let e of t.units)for(let n of e.create)n.kind===m.TwoWayListener&&We(n,r=>{if(!(r instanceof Gu))return r;let{target:i,value:o}=r;if(i instanceof Kt||i instanceof Ir)return dE(i,o).or(i.set(o));if(i instanceof xr)return dE(i,o);throw new Error("Unsupported expression in two-way action binding.")},we.InChildOperation)}function bP(t){for(let e of t.units){let n=0;for(let r of e.ops())eh(r)&&(n+=kP(r));for(let r of e.ops())at(r,i=>{or(i)&&(t.compatibility===Xt.TemplateDefinitionBuilder&&i instanceof Ji||(A_(i)&&(i.varOffset=n),eh(i)&&(n+=EE(i))))});if(t.compatibility===Xt.TemplateDefinitionBuilder)for(let r of e.ops())at(r,i=>{!or(i)||!(i instanceof Ji)||(A_(i)&&(i.varOffset=n),eh(i)&&(n+=EE(i)))});e.vars=n}if(t instanceof Cl)for(let e of t.units)for(let n of e.create){if(n.kind!==m.Template&&n.kind!==m.RepeaterCreate&&n.kind!==m.ConditionalCreate&&n.kind!==m.ConditionalBranchCreate)continue;let r=t.views.get(n.xref);n.vars=r.vars}}function kP(t){let e;switch(t.kind){case m.Attribute:return e=1,t.expression instanceof Ue&&!NP(t.expression)&&(e+=t.expression.expressions.length),e;case m.Property:case m.DomProperty:return e=1,t.expression instanceof Ue&&(e+=t.expression.expressions.length),e;case m.TwoWayProperty:return 1;case m.StyleProp:case m.ClassProp:case m.StyleMap:case m.ClassMap:return e=2,t.expression instanceof Ue&&(e+=t.expression.expressions.length),e;case m.InterpolateText:return t.interpolation.expressions.length;case m.I18nExpression:case m.Conditional:case m.DeferWhen:case m.StoreLet:return 1;case m.RepeaterCreate:return t.emptyView?1:0;default:throw new Error(`Unhandled op: ${m[t.kind]}`)}}function EE(t){switch(t.kind){case z.PureFunctionExpr:return 1+t.args.length;case z.PipeBinding:return 1+t.args.length;case z.PipeBindingVariadic:return 1+t.numArgs;case z.StoreLet:return 1;default:throw new Error(`AssertionError: unhandled ConsumesVarsTrait expression ${t.constructor.name}`)}}function NP(t){return!(t.expressions.length!==1||t.strings.length!==2||t.strings[0]!==""||t.strings[1]!=="")}function MP(t){for(let e of t.units){jc(e.create),jc(e.update);for(let n of e.create)n.kind===m.Listener||n.kind===m.Animation||n.kind===m.AnimationListener||n.kind===m.TwoWayListener?jc(n.handlerOps):n.kind===m.RepeaterCreate&&n.trackByOps!==null&&jc(n.trackByOps);Yc(e.create,t.compatibility),Yc(e.update,t.compatibility);for(let n of e.create)n.kind===m.Listener||n.kind===m.Animation||n.kind===m.AnimationListener||n.kind===m.TwoWayListener?Yc(n.handlerOps,t.compatibility):n.kind===m.RepeaterCreate&&n.trackByOps!==null&&Yc(n.trackByOps,t.compatibility)}}var Ke=(function(t){return t[t.None=0]="None",t[t.ViewContextRead=1]="ViewContextRead",t[t.ViewContextWrite=2]="ViewContextWrite",t[t.SideEffectful=4]="SideEffectful",t})(Ke||{});function jc(t){let e=new Map;for(let n of t)n.kind===m.Variable&&n.flags&un.AlwaysInline&&(at(n,r=>{if(or(r)&&sg(r)!==Ke.None)throw new Error("AssertionError: A context-sensitive variable was marked AlwaysInline")}),e.set(n.xref,n)),We(n,r=>r instanceof xr&&e.has(r.xref)?e.get(r.xref).initializer.clone():r,we.None);for(let n of e.values())k.remove(n)}function Yc(t,e){let n=new Map,r=new Map,i=new Set,o=new Map;for(let c of t){if(c.kind===m.Variable){if(n.has(c.xref)||r.has(c.xref))throw new Error(`Should not see two declarations of the same variable: ${c.xref}`);n.set(c.xref,c),r.set(c.xref,0)}o.set(c,PP(c)),RP(c,r,i)}let s=!1;for(let c of t.reversed()){let d=o.get(c);if(c.kind===m.Variable&&r.get(c.xref)===0){if(s&&d.fences&Ke.ViewContextWrite||d.fences&Ke.SideEffectful){let p=yn(c.initializer.toStmt());o.set(p,d),k.replace(c,p)}else LP(c,r),k.remove(c);o.delete(c),n.delete(c.xref),r.delete(c.xref);continue}d.fences&Ke.ViewContextRead&&(s=!0)}let a=[];for(let[c,d]of r){let h=!!(n.get(c).flags&un.AlwaysInline);d!==1||h||i.has(c)||a.push(c)}let l;for(;l=a.pop();){let c=n.get(l),d=o.get(c);if(!!(c.flags&un.AlwaysInline))throw new Error("AssertionError: Found an 'AlwaysInline' variable after the always inlining pass.");for(let h=c.next;h.kind!==m.ListEnd;h=h.next){let g=o.get(h);if(g.variablesUsed.has(l)){if(e===Xt.TemplateDefinitionBuilder&&!OP(c,h))break;if(FP(l,c.initializer,h,d.fences)){g.variablesUsed.delete(l);for(let v of d.variablesUsed)g.variablesUsed.add(v);g.fences|=d.fences,n.delete(l),r.delete(l),o.delete(c),k.remove(c)}break}if(!XC(g.fences,d.fences))break}}}function sg(t){switch(t.kind){case z.NextContext:return Ke.ViewContextRead|Ke.ViewContextWrite;case z.RestoreView:return Ke.ViewContextRead|Ke.ViewContextWrite|Ke.SideEffectful;case z.StoreLet:return Ke.SideEffectful;case z.Reference:case z.ContextLetReference:return Ke.ViewContextRead;default:return Ke.None}}function PP(t){let e=Ke.None,n=new Set;return at(t,r=>{if(or(r))switch(r.kind){case z.ReadVariable:n.add(r.xref);break;default:e|=sg(r)}}),{fences:e,variablesUsed:n}}function RP(t,e,n){at(t,(r,i)=>{if(!or(r)||r.kind!==z.ReadVariable)return;let o=e.get(r.xref);o!==void 0&&(e.set(r.xref,o+1),i&we.InChildOperation&&n.add(r.xref))})}function LP(t,e){at(t,n=>{if(!or(n)||n.kind!==z.ReadVariable)return;let r=e.get(n.xref);if(r!==void 0){if(r===0)throw new Error(`Inaccurate variable count: ${n.xref} - found another read but count is already 0`);e.set(n.xref,r-1)}})}function XC(t,e){if(t&Ke.ViewContextWrite){if(e&Ke.ViewContextRead)return!1}else if(t&Ke.ViewContextRead&&e&Ke.ViewContextWrite)return!1;return!0}function FP(t,e,n,r){let i=!1,o=!0;return We(n,(s,a)=>{if(!or(s)||i||!o)return s;if(a&we.InChildOperation&&r&Ke.ViewContextRead)return s;switch(s.kind){case z.ReadVariable:if(s.xref===t)return i=!0,e;break;default:let l=sg(s);o=o&&XC(l,r);break}return s},we.None),i}function OP(t,e){switch(t.variable.kind){case ot.Identifier:return t.initializer instanceof mn&&t.initializer.name==="ctx";case ot.Context:return e.kind===m.Variable;default:return!0}}function BP(t){for(let e of t.units){let n=null,r=null;for(let i of e.create)switch(i.kind){case m.I18nStart:n=i;break;case m.I18nEnd:n=null;break;case m.IcuStart:n===null&&(r=t.allocateXrefId(),k.insertBefore(Cd(r,i.message,void 0,null),i));break;case m.IcuEnd:r!==null&&(k.insertAfter(wd(r,null),i),r=null);break}}}var VP=[{kind:B.Tmpl,fn:gM},{kind:B.Host,fn:bk},{kind:B.Tmpl,fn:QN},{kind:B.Tmpl,fn:SM},{kind:B.Tmpl,fn:BP},{kind:B.Both,fn:K1},{kind:B.Both,fn:SP},{kind:B.Both,fn:L1},{kind:B.Both,fn:W1},{kind:B.Both,fn:M1},{kind:B.Tmpl,fn:J1},{kind:B.Both,fn:tM},{kind:B.Tmpl,fn:Q2},{kind:B.Both,fn:B1},{kind:B.Both,fn:mM},{kind:B.Tmpl,fn:V1},{kind:B.Tmpl,fn:_M},{kind:B.Tmpl,fn:X1},{kind:B.Tmpl,fn:wM},{kind:B.Both,fn:IM},{kind:B.Tmpl,fn:Tk},{kind:B.Tmpl,fn:Sk},{kind:B.Tmpl,fn:xk},{kind:B.Tmpl,fn:hP},{kind:B.Both,fn:I1},{kind:B.Both,fn:oP},{kind:B.Tmpl,fn:DP},{kind:B.Tmpl,fn:tP},{kind:B.Both,fn:cP},{kind:B.Tmpl,fn:Z1},{kind:B.Tmpl,fn:AP},{kind:B.Tmpl,fn:xP},{kind:B.Both,fn:rP},{kind:B.Both,fn:fP},{kind:B.Tmpl,fn:XN},{kind:B.Both,fn:rk},{kind:B.Both,fn:_P},{kind:B.Both,fn:TP},{kind:B.Both,fn:MP},{kind:B.Both,fn:vP},{kind:B.Tmpl,fn:KN},{kind:B.Tmpl,fn:Y1},{kind:B.Tmpl,fn:nP},{kind:B.Tmpl,fn:k1},{kind:B.Tmpl,fn:A1},{kind:B.Tmpl,fn:gP},{kind:B.Tmpl,fn:sP},{kind:B.Tmpl,fn:aP},{kind:B.Tmpl,fn:yk},{kind:B.Tmpl,fn:zN},{kind:B.Tmpl,fn:Dk},{kind:B.Both,fn:q1},{kind:B.Tmpl,fn:eP},{kind:B.Both,fn:bP},{kind:B.Tmpl,fn:wk},{kind:B.Both,fn:nM},{kind:B.Tmpl,fn:iP},{kind:B.Tmpl,fn:oM},{kind:B.Tmpl,fn:aM},{kind:B.Tmpl,fn:nk},{kind:B.Tmpl,fn:N1},{kind:B.Tmpl,fn:cM},{kind:B.Both,fn:xM},{kind:B.Both,fn:J2},{kind:B.Both,fn:O1}];function ZC(t,e){for(let n of VP)(n.kind===e||n.kind===B.Both)&&n.fn(t)}function $P(t,e){let n=ew(t.root);return QC(t.root,e),n}function QC(t,e){for(let n of t.job.units){if(n.parent!==t.xref)continue;QC(n,e);let r=ew(n);e.statements.push(r.toDeclStmt(r.name))}}function ew(t){if(t.fnName===null)throw new Error(`AssertionError: view ${t.xref} is unnamed`);let e=[];for(let o of t.create){if(o.kind!==m.Statement)throw new Error(`AssertionError: expected all create ops to have been compiled, but got ${m[o.kind]}`);e.push(o.statement)}let n=[];for(let o of t.update){if(o.kind!==m.Statement)throw new Error(`AssertionError: expected all update ops to have been compiled, but got ${m[o.kind]}`);n.push(o.statement)}let r=cd(1,e),i=cd(2,n);return Kr([new st("rf"),new st("ctx")],[...r,...i],void 0,void 0,t.fnName)}function cd(t,e){return e.length===0?[]:[gd(new ve(M.BitwiseAnd,de("rf"),T(t)),e)]}function UP(t){if(t.root.fnName===null)throw new Error("AssertionError: host binding function is unnamed");let e=[];for(let o of t.root.create){if(o.kind!==m.Statement)throw new Error(`AssertionError: expected all create ops to have been compiled, but got ${m[o.kind]}`);e.push(o.statement)}let n=[];for(let o of t.root.update){if(o.kind!==m.Statement)throw new Error(`AssertionError: expected all update ops to have been compiled, but got ${m[o.kind]}`);n.push(o.statement)}if(e.length===0&&n.length===0)return null;let r=cd(1,e),i=cd(2,n);return Kr([new st("rf"),new st("ctx")],[...r,...i],void 0,void 0,t.root.fnName)}var tw=Xt.TemplateDefinitionBuilder,Oi=new _s,Bi="ng-template",HP="animate.";function ru(t){return t instanceof Dt}function qP(t){return ru(t)&&t.nodes.length===1&&t.nodes[0]instanceof Pu}function GP(t,e,n,r,i,o,s,a,l,c){let d=new Cl(t,n,tw,r,i,o,s,a,l,c);return br(d.root,e),d}function zP(t,e,n){let r=new Ku(t.componentName,n,tw,Pt.DomOnly);for(let i of t.properties??[]){let o=$.Property;i.name.startsWith("attr.")&&(i.name=i.name.substring(5),o=$.Attribute),i.isLegacyAnimation&&(o=$.LegacyAnimation),i.isAnimation&&(o=$.Animation);let s=e.calcPossibleSecurityContexts(t.componentSelector,i.name,o===$.Attribute).filter(a=>a!==Me.NONE);WP(r,i,o,s)}for(let[i,o]of Object.entries(t.attributes)??[]){let s=e.calcPossibleSecurityContexts(t.componentSelector,i,!0).filter(a=>a!==Me.NONE);jP(r,i,o,s)}for(let i of t.events??[])YP(r,i);return r}function WP(t,e,n,r){let i,o=e.expression.ast;o instanceof Ml?i=new Ue(o.strings,o.expressions.map(s=>ue(s,t,e.sourceSpan)),[]):i=ue(o,t,e.sourceSpan),t.root.update.push(Yi(t.root.xref,n,e.name,i,null,r,!1,!1,null,null,e.sourceSpan))}function jP(t,e,n,r){let i=Yi(t.root.xref,$.Attribute,e,n,null,r,!0,!1,null,null,n.sourceSpan);t.root.update.push(i)}function YP(t,e){let n;if(e.type===It.Animation)n=AC(t.root.xref,new mt,e.name,null,Il(t.root,e.handler,e.handlerSpan),e.name.endsWith("enter")?"enter":"leave",e.targetOrPhase,!0,e.sourceSpan);else{let[r,i]=e.type!==It.LegacyAnimation?[null,e.targetOrPhase]:[e.targetOrPhase,null];n=tg(t.root.xref,new mt,e.name,null,Il(t.root,e.handler,e.handlerSpan),r,i,!0,e.sourceSpan)}t.root.create.push(n)}function br(t,e){for(let n of e)if(n instanceof rr)JP(t,n);else if(n instanceof Yt)KP(t,n);else if(n instanceof us)XP(t,n);else if(n instanceof bi)nw(t,n,null);else if(n instanceof as)rw(t,n,null);else if(n instanceof Nu)ZP(t,n);else if(n instanceof ku)QP(t,n);else if(n instanceof Wi)eR(t,n);else if(n instanceof KE)nR(t,n);else if(n instanceof cs)rR(t,n);else if(n instanceof zm)oR(t,n);else if(!(n instanceof Na))throw new Error(`Unsupported template node: ${n.constructor.name}`)}function JP(t,e){if(e.i18n!==void 0&&!(e.i18n instanceof Dt||e.i18n instanceof Zr))throw Error(`Unhandled i18n metadata type for element: ${e.i18n.constructor.name}`);let n=t.job.allocateXrefId(),[r,i]=Fn(e.name),o=l1(i,n,RC(r),e.i18n instanceof Zr?e.i18n:void 0,e.startSourceSpan,e.sourceSpan);t.create.push(o),aR(t,o,e),sw(o,e);let s=null;e.i18n instanceof Dt&&(s=t.job.allocateXrefId(),t.create.push(Cd(s,e.i18n,void 0,e.startSourceSpan))),br(t,e.children);let a=u1(n,e.endSourceSpan??e.startSourceSpan);t.create.push(a),s!==null&&k.insertBefore(wd(s,e.endSourceSpan??e.startSourceSpan),a)}function KP(t,e){if(e.i18n!==void 0&&!(e.i18n instanceof Dt||e.i18n instanceof Zr))throw Error(`Unhandled i18n metadata type for template: ${e.i18n.constructor.name}`);let n=t.job.allocateView(t.xref),r=e.tagName,i="";e.tagName&&([i,r]=Fn(e.tagName));let o=e.i18n instanceof Zr?e.i18n:void 0,s=RC(i),a=r===null?"":H1(r,s),l=sR(e)?Ft.NgTemplate:Ft.Structural,c=TC(n.xref,l,r,a,s,o,e.startSourceSpan,e.sourceSpan);t.create.push(c),lR(t,c,e,l),sw(c,e),br(n,e.children);for(let{name:d,value:p}of e.variables)n.contextVariables.set(d,p!==""?p:"$implicit");if(l===Ft.NgTemplate&&e.i18n instanceof Dt){let d=t.job.allocateXrefId();k.insertAfter(Cd(d,e.i18n,void 0,e.startSourceSpan),n.create.head),k.insertBefore(wd(d,e.endSourceSpan??e.startSourceSpan),n.create.tail)}}function XP(t,e){if(e.i18n!==void 0&&!(e.i18n instanceof Zr))throw Error(`Unhandled i18n metadata type for element: ${e.i18n.constructor.name}`);let n=null;e.children.some(o=>!(o instanceof yd)&&(!(o instanceof bi)||o.value.trim().length>0))&&(n=t.job.allocateView(t.xref),br(n,e.children));let r=t.job.allocateXrefId(),i=v1(r,e.selector,e.i18n,n?.xref??null,e.sourceSpan);for(let o of e.attributes){let s=Oi.securityContext(e.name,o.name,!0);t.update.push(Yi(i.xref,$.Attribute,o.name,T(o.value),null,s,!0,!1,null,wr(o.i18n),o.sourceSpan))}t.create.push(i)}function nw(t,e,n){t.create.push(DC(t.job.allocateXrefId(),e.value,n,e.sourceSpan))}function rw(t,e,n){let r=e.value;if(r instanceof qt&&(r=r.ast),!(r instanceof Ml))throw new Error(`AssertionError: expected Interpolation for BoundText node, got ${r.constructor.name}`);if(e.i18n!==void 0&&!(e.i18n instanceof Tr))throw Error(`Unhandled i18n metadata type for text interpolation: ${e.i18n?.constructor.name}`);let i=e.i18n instanceof Tr?e.i18n.children.filter(a=>a instanceof al).map(a=>a.name):[];if(i.length>0&&i.length!==r.expressions.length)throw Error(`Unexpected number of i18n placeholders (${r.expressions.length}) for BoundText with ${r.expressions.length} expressions`);let o=t.job.allocateXrefId();t.create.push(DC(o,"",n,e.sourceSpan));let s=t.job.compatibility?null:e.sourceSpan;t.update.push(Jb(o,new Ue(r.strings,r.expressions.map(a=>ue(a,t.job,s)),i),e.sourceSpan))}function ZP(t,e){let n=null,r=[];for(let i=0;i<e.branches.length;i++){let o=e.branches[i],s=t.job.allocateView(t.xref),a=ud(t,s.xref,o);o.expressionAlias!==null&&s.contextVariables.set(o.expressionAlias.name,MC);let l;if(o.i18n!==void 0){if(!(o.i18n instanceof Qr))throw Error(`Unhandled i18n metadata type for if block: ${o.i18n?.constructor.name}`);l=o.i18n}let d=(i===0?xC:IC)(s.xref,Ft.Block,a,"Conditional",_t.HTML,l,o.startSourceSpan,o.sourceSpan);t.create.push(d),n===null&&(n=s.xref);let p=o.expression?ue(o.expression,t.job,null):null,h=new Wu(p,d.xref,d.handle,o.expressionAlias);r.push(h),br(s,o.children)}t.update.push(CC(n,null,r,e.sourceSpan))}function QP(t,e){if(e.cases.length===0)return;let n=null,r=[];for(let i=0;i<e.cases.length;i++){let o=e.cases[i],s=t.job.allocateView(t.xref),a=ud(t,s.xref,o),l;if(o.i18n!==void 0){if(!(o.i18n instanceof Qr))throw Error(`Unhandled i18n metadata type for switch block: ${o.i18n?.constructor.name}`);l=o.i18n}let d=(i===0?xC:IC)(s.xref,Ft.Block,a,"Case",_t.HTML,l,o.startSourceSpan,o.sourceSpan);t.create.push(d),n===null&&(n=s.xref);let p=o.expression?ue(o.expression,t.job,e.startSourceSpan):null,h=new Wu(p,d.xref,d.handle);r.push(h),br(s,o.children)}t.update.push(CC(n,ue(e.expression,t.job,null),r,e.sourceSpan))}function Jc(t,e,n,r,i){if(n!==void 0&&!(n instanceof Qr))throw Error("Unhandled i18n metadata type for defer block");if(r===void 0)return null;let o=t.job.allocateView(t.xref);br(o,r);let s=TC(o.xref,Ft.Block,null,`Defer${e}`,_t.HTML,n,i,i);return t.create.push(s),s}function eR(t,e){let n=null;if(t.job.deferMeta.mode===0){if(!t.job.deferMeta.blocks.has(e))throw new Error("AssertionError: unable to find a dependency function for this deferred block");n=t.job.deferMeta.blocks.get(e)??null}let r=Jc(t,"",e.i18n,e.children,e.sourceSpan),i=Jc(t,"Loading",e.loading?.i18n,e.loading?.children,e.loading?.sourceSpan),o=Jc(t,"Placeholder",e.placeholder?.i18n,e.placeholder?.children,e.placeholder?.sourceSpan),s=Jc(t,"Error",e.error?.i18n,e.error?.children,e.error?.sourceSpan),a=t.job.allocateXrefId(),l=y1(a,r.xref,r.handle,n,t.job.allDeferrableDepsFn,e.sourceSpan);l.placeholderView=o?.xref??null,l.placeholderSlot=o?.handle??null,l.loadingSlot=i?.handle??null,l.errorSlot=s?.handle??null,l.placeholderMinimumTime=e.placeholder?.minimumTime??null,l.loadingMinimumTime=e.loading?.minimumTime??null,l.loadingAfterTime=e.loading?.afterTime??null,l.flags=tR(e),t.create.push(l);let c=[],d=[];oh("hydrate",e.hydrateTriggers,c,d,t,a),oh("none",e.triggers,c,d,t,a),oh("prefetch",e.prefetchTriggers,c,d,t,a),c.some(h=>h.modifier==="none")||d.some(h=>h.modifier==="none")||c.push(Hr(a,{kind:Ae.Idle},"none",null)),t.create.push(c),t.update.push(d)}function tR(t){return Object.keys(t.hydrateTriggers).length>0?1:null}function oh(t,e,n,r,i,o){if(e.idle!==void 0){let s=Hr(o,{kind:Ae.Idle},t,e.idle.sourceSpan);n.push(s)}if(e.immediate!==void 0){let s=Hr(o,{kind:Ae.Immediate},t,e.immediate.sourceSpan);n.push(s)}if(e.timer!==void 0){let s=Hr(o,{kind:Ae.Timer,delay:e.timer.delay},t,e.timer.sourceSpan);n.push(s)}if(e.hover!==void 0){let s=Hr(o,{kind:Ae.Hover,targetName:e.hover.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},t,e.hover.sourceSpan);n.push(s)}if(e.interaction!==void 0){let s=Hr(o,{kind:Ae.Interaction,targetName:e.interaction.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},t,e.interaction.sourceSpan);n.push(s)}if(e.viewport!==void 0){let s=Hr(o,{kind:Ae.Viewport,targetName:e.viewport.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},t,e.viewport.sourceSpan);n.push(s)}if(e.never!==void 0){let s=Hr(o,{kind:Ae.Never},t,e.never.sourceSpan);n.push(s)}if(e.when!==void 0){if(e.when.value instanceof Ml)throw new Error("Unexpected interpolation in defer block when trigger");let s=i1(o,ue(e.when.value,i.job,e.when.sourceSpan),t,e.when.sourceSpan);r.push(s)}}function nR(t,e){if(e.i18n instanceof Dt&&qP(e.i18n)){let n=t.job.allocateXrefId();t.create.push(C1(n,e.i18n,QE(e.i18n).name,null));for(let[r,i]of Object.entries(I(I({},e.vars),e.placeholders)))i instanceof as?rw(t,i,r):nw(t,i,r);t.create.push(w1(n))}else throw Error(`Unhandled i18n metadata type for ICU: ${e.i18n?.constructor.name}`)}function rR(t,e){let n=t.job.allocateView(t.xref),r=`\u0275$index_${n.xref}`,i=`\u0275$count_${n.xref}`,o=new Set;n.contextVariables.set(e.item.name,e.item.value);for(let S of e.contextVariables)S.value==="$index"&&o.add(S.name),S.name==="$index"?n.contextVariables.set("$index",S.value).set(r,S.value):S.name==="$count"?n.contextVariables.set("$count",S.value).set(i,S.value):n.aliases.add({kind:ot.Alias,name:null,identifier:S.name,expression:iR(S,r,i)});let s=Ye(e.trackBy.span,e.sourceSpan),a=ue(e.trackBy,t.job,s);br(n,e.children);let l=null,c=null;e.empty!==null&&(l=t.job.allocateView(t.xref),br(l,e.empty.children),c=ud(t,l.xref,e.empty));let d={$index:o,$implicit:e.item.name};if(e.i18n!==void 0&&!(e.i18n instanceof Qr))throw Error("AssertionError: Unhandled i18n metadata type or @for");if(e.empty?.i18n!==void 0&&!(e.empty.i18n instanceof Qr))throw Error("AssertionError: Unhandled i18n metadata type or @empty");let p=e.i18n,h=e.empty?.i18n,g=ud(t,n.xref,e),v=c1(n.xref,l?.xref??null,g,a,d,c,p,h,e.startSourceSpan,e.sourceSpan);t.create.push(v);let w=ue(e.expression,t.job,Ye(e.expression.span,e.sourceSpan)),x=r1(v.xref,v.handle,w,e.sourceSpan);t.update.push(x)}function iR(t,e,n){switch(t.value){case"$index":return new ct(e);case"$count":return new ct(n);case"$first":return new ct(e).identical(T(0));case"$last":return new ct(e).identical(new ct(n).minus(T(1)));case"$even":return new ct(e).modulo(T(2)).identical(T(0));case"$odd":return new ct(e).modulo(T(2)).notIdentical(T(0));default:throw new Error(`AssertionError: unknown @for loop variable ${t.value}`)}}function oR(t,e){let n=t.job.allocateXrefId();t.create.push(_1(n,e.name,e.sourceSpan)),t.update.push(s1(n,e.name,ue(e.value,t.job,e.valueSpan),e.sourceSpan))}function ue(t,e,n){if(t instanceof qt)return ue(t.ast,e,n);if(t instanceof Sr)return t.receiver instanceof nr&&!(t.receiver instanceof Gi)?new ct(t.name):new Kt(ue(t.receiver,e,n),t.name,null,Ye(t.span,n));if(t instanceof ss){if(t.receiver instanceof nr)throw new Error("Unexpected ImplicitReceiver");return new Ot(ue(t.receiver,e,n),t.args.map(r=>ue(r,e,n)),void 0,Ye(t.span,n))}else{if(t instanceof Ht)return T(t.value,void 0,Ye(t.span,n));if(t instanceof Zo)switch(t.operator){case"+":return new Ui(Fa.Plus,ue(t.expr,e,n),void 0,Ye(t.span,n));case"-":return new Ui(Fa.Minus,ue(t.expr,e,n),void 0,Ye(t.span,n));default:throw new Error(`AssertionError: unknown unary operator ${t.operator}`)}else if(t instanceof St){let r=$1.get(t.operation);if(r===void 0)throw new Error(`AssertionError: unknown binary operator ${t.operation}`);return new ve(r,ue(t.left,e,n),ue(t.right,e,n),void 0,Ye(t.span,n))}else{if(t instanceof Gi)return new ti(e.root.xref);if(t instanceof zi)return new Ir(ue(t.receiver,e,n),ue(t.key,e,n),void 0,Ye(t.span,n));if(t instanceof os)throw new Error("AssertionError: Chain in unknown context");if(t instanceof Cu){let r=t.keys.map((i,o)=>{let s=t.values[o];return new rs(i.key,ue(s,e,n),i.quoted)});return new tr(r,void 0,Ye(t.span,n))}else{if(t instanceof Eu)return new Rn(t.expressions.map(r=>ue(r,e,n)));if(t instanceof yu)return new er(ue(t.condition,e,n),ue(t.trueExp,e,n),ue(t.falseExp,e,n),void 0,Ye(t.span,n));if(t instanceof Ya)return ue(t.expression,e,n);if(t instanceof _u)return new Ki(e.allocateXrefId(),new mt,t.name,[ue(t.exp,e,n),...t.args.map(r=>ue(r,e,n))]);if(t instanceof Ga)return new gs(ue(t.receiver,e,n),ue(t.key,e,n),Ye(t.span,n));if(t instanceof qa)return new ms(ue(t.receiver,e,n),t.name);if(t instanceof wu)return new Xi(ue(t.receiver,e,n),t.args.map(r=>ue(r,e,n)));if(t instanceof Mt)return new _l(Ye(t.span,n));if(t instanceof za)return aA(ue(t.expression,e,n),Ye(t.span,n));if(t instanceof Wa)return Nl(ue(t.expression,e,n));if(t instanceof ja)return new cu(ue(t.expression,e,n),void 0,Ye(t.span,n));if(t instanceof Ka)return CE(t,e,n);if(t instanceof Ja)return new Oa(ue(t.tag,e,n),CE(t.template,e,n),void 0,Ye(t.span,n));if(t instanceof Xa)return new Pn(ue(t.expression,e,n),void 0,Ye(t.span,n));throw new Error(`Unhandled expression type "${t.constructor.name}" in file "${n?.start.file.url}"`)}}}}function CE(t,e,n){return new Va(t.elements.map(r=>new uu(r.text,Ye(r.span,n))),t.expressions.map(r=>ue(r,e,n)),Ye(t.span,n))}function Em(t,e,n,r){let i;return e instanceof Ml?i=new Ue(e.strings,e.expressions.map(o=>ue(o,t,null)),Object.keys(wr(n)?.placeholders??{})):e instanceof Oe?i=ue(e,t,null):i=T(e),i}var iw=new Map([[Ce.Property,$.Property],[Ce.TwoWay,$.TwoWayProperty],[Ce.Attribute,$.Attribute],[Ce.Class,$.ClassName],[Ce.Style,$.StyleProperty],[Ce.LegacyAnimation,$.LegacyAnimation],[Ce.Animation,$.Animation]]);function sR(t){return Fn(t.tagName??"")[1]===Bi}function wr(t){if(t==null)return null;if(!(t instanceof Dt))throw Error(`Expected i18n meta to be a Message, but got: ${t.constructor.name}`);return t}function aR(t,e,n){let r=new Array,i=new Set;for(let o of n.attributes){let s=Oi.securityContext(n.name,o.name,!0);r.push(Yi(e.xref,$.Attribute,o.name,Em(t.job,o.value,o.i18n),null,s,!0,!1,null,wr(o.i18n),o.sourceSpan)),o.i18n&&i.add(o.name)}for(let o of n.inputs)i.has(o.name)&&console.error(`On component ${t.job.componentName}, the binding ${o.name} is both an i18n attribute and a property. You may want to remove the property binding. This will become a compilation error in future versions of Angular.`),r.push(Yi(e.xref,iw.get(o.type),o.name,Em(t.job,Dl(o.value),o.i18n),o.unit,o.securityContext,!1,!1,null,wr(o.i18n)??null,o.sourceSpan));t.create.push(r.filter(o=>o?.kind===m.ExtractedAttribute)),t.update.push(r.filter(o=>o?.kind===m.Binding));for(let o of n.outputs){if(o.type===It.LegacyAnimation&&o.phase===null)throw Error("Animation listener should have a phase");o.type===It.TwoWay?t.create.push(bC(e.xref,e.handle,o.name,e.tag,ow(t,o.handler,o.handlerSpan),o.sourceSpan)):o.type===It.Animation?t.create.push(AC(e.xref,e.handle,o.name,e.tag,Il(t,o.handler,o.handlerSpan),o.name.endsWith("enter")?"enter":"leave",o.target,!1,o.sourceSpan)):t.create.push(tg(e.xref,e.handle,o.name,e.tag,Il(t,o.handler,o.handlerSpan),o.phase,o.target,!1,o.sourceSpan))}r.some(o=>o?.i18nMessage)!==null&&t.create.push(NC(t.job.allocateXrefId(),new mt,e.xref))}function lR(t,e,n,r){let i=new Array;for(let o of n.templateAttrs)if(o instanceof ls){let s=Oi.securityContext(Bi,o.name,!0);i.push(Kc(t,e.xref,Ce.Attribute,o.name,o.value,null,s,!0,r,wr(o.i18n),o.sourceSpan))}else i.push(Kc(t,e.xref,o.type,o.name,Dl(o.value),o.unit,o.securityContext,!0,r,wr(o.i18n),o.sourceSpan));for(let o of n.attributes){let s=Oi.securityContext(Bi,o.name,!0);i.push(Kc(t,e.xref,Ce.Attribute,o.name,o.value,null,s,!1,r,wr(o.i18n),o.sourceSpan))}for(let o of n.inputs)i.push(Kc(t,e.xref,o.type,o.name,Dl(o.value),o.unit,o.securityContext,!1,r,wr(o.i18n),o.sourceSpan));t.create.push(i.filter(o=>o?.kind===m.ExtractedAttribute)),t.update.push(i.filter(o=>o?.kind===m.Binding));for(let o of n.outputs){if(o.type===It.LegacyAnimation&&o.phase===null)throw Error("Animation listener should have a phase");if(r===Ft.NgTemplate&&(o.type===It.TwoWay?t.create.push(bC(e.xref,e.handle,o.name,e.tag,ow(t,o.handler,o.handlerSpan),o.sourceSpan)):t.create.push(tg(e.xref,e.handle,o.name,e.tag,Il(t,o.handler,o.handlerSpan),o.phase,o.target,!1,o.sourceSpan))),r===Ft.Structural&&o.type!==It.LegacyAnimation){let s=Oi.securityContext(Bi,o.name,!1);t.create.push(dn(e.xref,$.Property,null,o.name,null,null,null,s))}}i.some(o=>o?.i18nMessage)!==null&&t.create.push(NC(t.job.allocateXrefId(),new mt,e.xref))}function Kc(t,e,n,r,i,o,s,a,l,c,d){let p=typeof i=="string";if(l===Ft.Structural){if(!a)switch(n){case Ce.Property:case Ce.Class:case Ce.Style:return dn(e,$.Property,null,r,null,null,c,s);case Ce.TwoWay:return dn(e,$.TwoWayProperty,null,r,null,null,c,s)}if(!p&&(n===Ce.Attribute||n===Ce.LegacyAnimation||n===Ce.Animation))return null}let h=iw.get(n);return l===Ft.NgTemplate&&(n===Ce.Class||n===Ce.Style||n===Ce.Attribute&&!p)&&(h=$.Property),Yi(e,h,r,Em(t.job,i,c),o,s,p,a,l,c,d)}function Il(t,e,n){e=Dl(e);let r=new Array,i=e instanceof os?e.expressions:[e];if(i.length===0)throw new Error("Expected listener to have non-empty expression list.");let o=i.map(a=>ue(a,t.job,n)),s=o.pop();return r.push(...o.map(a=>yn(new gn(a,a.sourceSpan)))),r.push(yn(new ft(s,s.sourceSpan))),r}function ow(t,e,n){e=Dl(e);let r=new Array;if(e instanceof os)if(e.expressions.length===1)e=e.expressions[0];else throw new Error("Expected two-way listener to have a single expression.");let i=ue(e,t.job,n),o=new ct("$event"),s=new Gu(i,o);return r.push(yn(new gn(s))),r.push(yn(new ft(o))),r}function Dl(t){return t instanceof qt?t.ast:t}function sw(t,e){cR(t.localRefs);for(let{name:n,value:r}of e.references)t.localRefs.push({name:n,target:r})}function cR(t){if(!Array.isArray(t))throw new Error("AssertionError: expected an array")}function Ye(t,e){if(e===null)return null;let n=e.start.moveBy(t.start),r=e.start.moveBy(t.end),i=e.fullStart.moveBy(t.start);return new Q(n,r,i)}function ud(t,e,n){let r=null;for(let i of n.children)if(!(i instanceof yd||i instanceof zm)){if(r!==null)return null;if(i instanceof rr||i instanceof Yt&&i.tagName!==null)r=i;else return null}if(r!==null){for(let o of r.attributes)if(!o.name.startsWith(HP)){let s=Oi.securityContext(Bi,o.name,!0);t.update.push(Yi(e,$.Attribute,o.name,T(o.value),null,s,!0,!1,null,wr(o.i18n),o.sourceSpan))}for(let o of r.inputs)if(o.type!==Ce.LegacyAnimation&&o.type!==Ce.Animation&&o.type!==Ce.Attribute){let s=Oi.securityContext(Bi,o.name,!0);t.create.push(dn(e,$.Property,null,o.name,null,null,null,s))}let i=r instanceof rr?r.name:r.tagName;return i===Bi?null:i}return null}var uR=!1;function dR(){return uR}function dd(t,e){return gd(de(Ym).bitwiseAnd(T(t),null),e)}function fR(t){return(t.descendants?1:0)|(t.static?2:0)|(t.emitDistinctChangesOnly?4:0)}function pR(t,e){if(Array.isArray(t.predicate)){let n=[];return t.predicate.forEach(r=>{let i=r.split(",").map(o=>T(o.trim()));n.push(...i)}),e.getConstLiteral(xe(n),!0)}else switch(t.predicate.forwardRef){case 0:case 2:return t.predicate.expression;case 1:return q(y.resolveForwardRef).callFn([t.predicate.expression])}}function aw(t,e,n,r){let i=[];r!==void 0&&i.push(...r),t.isSignal&&i.push(new Kt(de(ll),t.propertyName)),i.push(pR(t,e),T(fR(t))),t.read&&i.push(t.read);let o=t.isSignal?n.signalBased:n.nonSignal;return q(o).callFn(i)}var ag=Symbol("queryAdvancePlaceholder");function lw(t){let e=[],n=0,r=()=>{n>0&&(e.unshift(q(y.queryAdvance).callFn(n===1?[]:[T(n)]).toStmt()),n=0)};for(let i=t.length-1;i>=0;i--){let o=t[i];o===ag?n++:(r(),e.unshift(o))}return r(),e}function hR(t,e,n){let r=[],i=[],o=eC(a=>i.push(a),jm);t.forEach(a=>{let l=aw(a,e,{signalBased:y.viewQuerySignal,nonSignal:y.viewQuery});if(r.push(l.toStmt()),a.isSignal){i.push(ag);return}let c=o(),d=q(y.loadQuery).callFn([]),p=q(y.queryRefresh).callFn([c.set(d)]),h=de(ll).prop(a.propertyName).set(a.first?c.prop("first"):c);i.push(p.and(h).toStmt())});let s=n?`${n}_Query`:null;return Kr([new st(Ym,Hm),new st(ll,null)],[dd(1,r),dd(2,lw(i))],Wt,null,s)}function mR(t,e,n){let r=[],i=[],o=eC(a=>i.push(a),jm);for(let a of t){if(r.push(aw(a,e,{nonSignal:y.contentQuery,signalBased:y.contentQuerySignal},[de("dirIndex")]).toStmt()),a.isSignal){i.push(ag);continue}let l=o(),c=q(y.loadQuery).callFn([]),d=q(y.queryRefresh).callFn([l.set(c)]),p=de(ll).prop(a.propertyName).set(a.first?l.prop("first"):l);i.push(d.and(p).toStmt())}let s=n?`${n}_ContentQueries`:null;return Kr([new st(Ym,Hm),new st(ll,null),new st("dirIndex",null)],[dd(1,r),dd(2,lw(i))],Wt,null,s)}var Cm=class extends Gk{constructor(){super(hm)}parse(e,n,r){return super.parse(e,n,r)}},Xc=".",gR="attr",sh="animate",vR="class",yR="style",_R="*",ah="animate-",wm=class{_exprParser;_interpolationConfig;_schemaRegistry;errors;constructor(e,n,r,i){this._exprParser=e,this._interpolationConfig=n,this._schemaRegistry=r,this.errors=i}get interpolationConfig(){return this._interpolationConfig}createBoundHostProperties(e,n){let r=[];for(let i of Object.keys(e)){let o=e[i];typeof o=="string"?this.parsePropertyBinding(i,o,!0,!1,n,n.start.offset,void 0,[],r,n):this._reportError(`Value of the host property binding "${i}" needs to be a string representing an expression but got "${o}" (${typeof o})`,n)}return r}createDirectiveHostEventAsts(e,n){let r=[];for(let i of Object.keys(e)){let o=e[i];typeof o=="string"?this.parseEvent(i,o,!1,n,n,[],r,n):this._reportError(`Value of the host listener "${i}" needs to be a string representing an expression but got "${o}" (${typeof o})`,n)}return r}parseInterpolation(e,n,r){let i=n.fullStart.offset;try{let o=this._exprParser.parseInterpolation(e,n,i,r,this._interpolationConfig);return o&&this.errors.push(...o.errors),o}catch(o){return this._reportError(`${o}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",n,i)}}parseInterpolationExpression(e,n){let r=n.start.offset;try{let i=this._exprParser.parseInterpolationExpression(e,n,r);return i&&this.errors.push(...i.errors),i}catch(i){return this._reportError(`${i}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)}}parseInlineTemplateBinding(e,n,r,i,o,s,a,l){let c=r.start.offset+_R.length,d=this._parseTemplateBindings(e,n,r,c,i);for(let p of d){let h=$r(r,p.sourceSpan),g=p.key.source,v=$r(r,p.key.span);if(p instanceof Za){let w=p.value?p.value.source:"$implicit",x=p.value?$r(r,p.value.span):void 0;a.push(new Dh(g,w,h,v,x))}else if(p.value){let w=l?h:r,x=$r(r,p.value.ast.sourceSpan);this._parsePropertyAst(g,p.value,!1,w,v,x,o,s)}else o.push([g,""]),this.parseLiteralAttr(g,null,v,i,void 0,o,s,v)}}_parseTemplateBindings(e,n,r,i,o){try{let s=this._exprParser.parseTemplateBindings(e,n,r,i,o);return s.errors.forEach(a=>this.errors.push(a)),s.warnings.forEach(a=>{this._reportError(a,r,Wr.WARNING)}),s.templateBindings}catch(s){return this._reportError(`${s}`,r),[]}}parseLiteralAttr(e,n,r,i,o,s,a,l){lh(e)?(e=e.substring(1),l!==void 0&&(l=$r(l,new jt(l.start.offset+1,l.end.offset))),n&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',r,Wr.ERROR),this._parseLegacyAnimation(e,n,r,i,l,o,s,a)):a.push(new zo(e,this._exprParser.wrapLiteralPrimitive(n,"",i),Jn.LITERAL_ATTR,r,l,o))}parsePropertyBinding(e,n,r,i,o,s,a,l,c,d){e.length===0&&this._reportError("Property name is missing in binding",o);let p=!1;e.startsWith(ah)?(p=!0,e=e.substring(ah.length),d!==void 0&&(d=$r(d,new jt(d.start.offset+ah.length,d.end.offset)))):lh(e)&&(p=!0,e=e.substring(1),d!==void 0&&(d=$r(d,new jt(d.start.offset+1,d.end.offset)))),p?this._parseLegacyAnimation(e,n,o,s,d,a,l,c):e.startsWith(`${sh}${Xc}`)?this._parseAnimation(e,this.parseBinding(n,r,a||o,s),o,d,a,l,c):this._parsePropertyAst(e,this.parseBinding(n,r,a||o,s),i,o,d,a,l,c)}parsePropertyInterpolation(e,n,r,i,o,s,a,l){let c=this.parseInterpolation(n,i||r,l);return c?(this._parsePropertyAst(e,c,!1,r,a,i,o,s),!0):!1}_parsePropertyAst(e,n,r,i,o,s,a,l){a.push([e,n.source]),l.push(new zo(e,n,r?Jn.TWO_WAY:Jn.DEFAULT,i,o,s))}_parseAnimation(e,n,r,i,o,s,a){s.push([e,n.source]),a.push(new zo(e,n,Jn.ANIMATION,r,i,o))}_parseLegacyAnimation(e,n,r,i,o,s,a,l){e.length===0&&this._reportError("Animation trigger is missing",r);let c=this.parseBinding(n||"undefined",!1,s||r,i);a.push([e,c.source]),l.push(new zo(e,c,Jn.LEGACY_ANIMATION,r,o,s))}parseBinding(e,n,r,i){try{let o=n?this._exprParser.parseSimpleBinding(e,r,i,this._interpolationConfig):this._exprParser.parseBinding(e,r,i,this._interpolationConfig);return o&&this.errors.push(...o.errors),o}catch(o){return this._reportError(`${o}`,r),this._exprParser.wrapLiteralPrimitive("ERROR",r,i)}}createBoundElementProperty(e,n,r=!1,i=!0){if(n.isLegacyAnimation)return new xu(n.name,Ce.LegacyAnimation,Me.NONE,n.expression,null,n.sourceSpan,n.keySpan,n.valueSpan);let o=null,s,a=null,l=n.name.split(Xc),c;if(l.length>1)if(l[0]==gR){a=l.slice(1).join(Xc),r||this._validatePropertyOrAttributeName(a,n.sourceSpan,!0),c=ch(this._schemaRegistry,e,a,!0);let d=a.indexOf(":");if(d>-1){let p=a.substring(0,d),h=a.substring(d+1);a=eu(p,h)}s=Ce.Attribute}else l[0]==vR?(a=l[1],s=Ce.Class,c=[Me.NONE]):l[0]==yR?(o=l.length>2?l[2]:null,a=l[1],s=Ce.Style,c=[Me.STYLE]):l[0]==sh&&(a=n.name,s=Ce.Animation,c=[Me.NONE]);if(a===null){let d=this._schemaRegistry.getMappedPropName(n.name);a=i?d:n.name,c=ch(this._schemaRegistry,e,d,!1),s=n.type===Jn.TWO_WAY?Ce.TwoWay:Ce.Property,r||this._validatePropertyOrAttributeName(d,n.sourceSpan,!1)}return new xu(a,s,c[0],n.expression,o,n.sourceSpan,n.keySpan,n.valueSpan)}parseEvent(e,n,r,i,o,s,a,l){e.length===0&&this._reportError("Event name is missing in binding",i),lh(e)?(e=e.slice(1),l!==void 0&&(l=$r(l,new jt(l.start.offset+1,l.end.offset))),this._parseLegacyAnimationEvent(e,n,i,o,a,l)):this._parseRegularEvent(e,n,r,i,o,s,a,l)}calcPossibleSecurityContexts(e,n,r){let i=this._schemaRegistry.getMappedPropName(n);return ch(this._schemaRegistry,e,i,r)}parseEventListenerName(e){let[n,r]=vA(e,[null,e]);return{eventName:r,target:n}}parseLegacyAnimationEventName(e){let n=yA(e,[e,null]);return{eventName:n[0],phase:n[1]===null?null:n[1].toLowerCase()}}_parseLegacyAnimationEvent(e,n,r,i,o,s){let{eventName:a,phase:l}=this.parseLegacyAnimationEventName(e),c=this._parseAction(n,i);o.push(new Tu(a,l,It.LegacyAnimation,c,r,i,s)),a.length===0&&this._reportError("Animation event name is missing in binding",r),l?l!=="start"&&l!=="done"&&this._reportError(`The provided animation output phase value "${l}" for "@${a}" is not supported (use start or done)`,r):this._reportError(`The animation trigger output event (@${a}) is missing its phase value name (start or done are currently supported)`,r)}_parseRegularEvent(e,n,r,i,o,s,a,l){let{eventName:c,target:d}=this.parseEventListenerName(e),p=this.errors.length,h=this._parseAction(n,o),g=this.errors.length===p;s.push([e,h.source]),r&&g&&!this._isAllowedAssignmentEvent(h)&&this._reportError("Unsupported expression in a two-way binding",i);let v=It.Regular;r&&(v=It.TwoWay),e.startsWith(`${sh}${Xc}`)&&(v=It.Animation),a.push(new Tu(c,d,v,h,i,o,l))}_parseAction(e,n){let r=n&&n.start?n.start.offset:0;try{let i=this._exprParser.parseAction(e,n,r,this._interpolationConfig);return i&&this.errors.push(...i.errors),!i||i.ast instanceof Mt?(this._reportError("Empty expressions are not allowed",n),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)):i}catch(i){return this._reportError(`${i}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)}}_reportError(e,n,r=Wr.ERROR){this.errors.push(new Z(n,e,r))}_validatePropertyOrAttributeName(e,n,r){let i=r?this._schemaRegistry.validateAttribute(e):this._schemaRegistry.validateProperty(e);i.error&&this._reportError(i.msg,n,Wr.ERROR)}_isAllowedAssignmentEvent(e){return e instanceof qt?this._isAllowedAssignmentEvent(e.ast):e instanceof Ya?this._isAllowedAssignmentEvent(e.expression):e instanceof ss&&e.args.length===1&&e.receiver instanceof Sr&&e.receiver.name==="$any"&&e.receiver.receiver instanceof nr&&!(e.receiver.receiver instanceof Gi)?this._isAllowedAssignmentEvent(e.args[0]):(e instanceof Sr||e instanceof zi)&&!Sm(e)}};function Sm(t){return t instanceof qa||t instanceof Ga?!0:t instanceof Xa?Sm(t.expression):t instanceof Sr||t instanceof zi||t instanceof ss?Sm(t.receiver):!1}function lh(t){return t[0]=="@"}function ch(t,e,n,r){let i,o=s=>t.securityContext(s,n,r);return e===null?i=t.allKnownElementNames().map(o):(i=[],ts.parse(e).forEach(s=>{let a=s.element?[s.element]:t.allKnownElementNames(),l=new Set(s.notSelectors.filter(d=>d.isElementSelector()).map(d=>d.element)),c=a.filter(d=>!l.has(d));i.push(...c.map(o))})),i.length===0?[Me.NONE]:Array.from(new Set(i)).sort()}function $r(t,e){let n=e.start-t.start.offset,r=e.end-t.end.offset;return new Q(t.start.moveBy(n),t.end.moveBy(r),t.fullStart.moveBy(n),t.details)}function ER(t){if(t==null||t.length===0||t[0]=="/")return!1;let e=t.match(CR);return e===null||e[1]=="package"||e[1]=="asset"}var CR=/^([^:/?#]+):/,wR="select",SR="link",TR="rel",xR="href",IR="stylesheet",DR="style",AR="script",bR="ngNonBindable",kR="ngProjectAs";function cw(t){let e=null,n=null,r=null,i=!1,o="";t.attrs.forEach(l=>{let c=l.name.toLowerCase();c==wR?e=l.value:c==xR?n=l.value:c==TR?r=l.value:l.name==bR?i=!0:l.name==kR&&l.value.length>0&&(o=l.value)}),e=NR(e);let s=t.name.toLowerCase(),a=zt.OTHER;return Ah(s)?a=zt.NG_CONTENT:s==DR?a=zt.STYLE:s==AR?a=zt.SCRIPT:s==SR&&r==IR&&(a=zt.STYLESHEET),new Tm(a,e,n,i,o)}var zt=(function(t){return t[t.NG_CONTENT=0]="NG_CONTENT",t[t.STYLE=1]="STYLE",t[t.STYLESHEET=2]="STYLESHEET",t[t.SCRIPT=3]="SCRIPT",t[t.OTHER=4]="OTHER",t})(zt||{}),Tm=class{type;selectAttr;hrefAttr;nonBindable;projectAs;constructor(e,n,r,i,o){this.type=e,this.selectAttr=n,this.hrefAttr=r,this.nonBindable=i,this.projectAs=o}};function NR(t){return t===null||t.length===0?"*":t}var MR=/^\s*([0-9A-Za-z_$]*)\s+of\s+([\S\s]*)/,PR=/^track\s+([\S\s]*)/,RR=/^(as\s+)(.*)/,Sd=/^else[^\S\r\n]+if/,LR=/^let\s+([\S\s]*)/,FR=/^[$A-Z_][0-9A-Z_$]*$/i,wE=/(\s*)(\S+)(\s*)/,La=new Set(["$index","$first","$last","$even","$odd","$count"]);function SE(t){return t==="empty"}function TE(t){return t==="else"||Sd.test(t)}function OR(t,e,n,r){let i=qR(e),o=[],s=xE(t,i,r);s!==null&&o.push(new Pi(s.expression,Re(n,t.children,t.children),s.expressionAlias,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.nameSpan,t.i18n));for(let p of e)if(Sd.test(p.name)){let h=xE(p,i,r);if(h!==null){let g=Re(n,p.children,p.children);o.push(new Pi(h.expression,g,h.expressionAlias,p.sourceSpan,p.startSourceSpan,p.endSourceSpan,p.nameSpan,p.i18n))}}else if(p.name==="else"){let h=Re(n,p.children,p.children);o.push(new Pi(null,h,null,p.sourceSpan,p.startSourceSpan,p.endSourceSpan,p.nameSpan,p.i18n))}let a=o.length>0?o[0].startSourceSpan:t.startSourceSpan,l=o.length>0?o[o.length-1].endSourceSpan:t.endSourceSpan,c=t.sourceSpan,d=o[o.length-1];return d!==void 0&&(c=new Q(a.start,d.sourceSpan.end)),{node:new Nu(o,c,t.startSourceSpan,l,t.nameSpan),errors:i}}function BR(t,e,n,r){let i=[],o=$R(t,i,r),s=null,a=null;for(let l of e)l.name==="empty"?a!==null?i.push(new Z(l.sourceSpan,"@for loop can only have one @empty block")):l.parameters.length>0?i.push(new Z(l.sourceSpan,"@empty block cannot have parameters")):a=new il(Re(n,l.children,l.children),l.sourceSpan,l.startSourceSpan,l.endSourceSpan,l.nameSpan,l.i18n):i.push(new Z(l.sourceSpan,`Unrecognized @for loop block "${l.name}"`));if(o!==null)if(o.trackBy===null)i.push(new Z(t.startSourceSpan,'@for loop must have a "track" expression'));else{let l=a?.endSourceSpan??t.endSourceSpan,c=new Q(t.sourceSpan.start,l?.end??t.sourceSpan.end);UR(o.trackBy.expression,o.trackBy.keywordSpan,i),s=new cs(o.itemName,o.expression,o.trackBy.expression,o.trackBy.keywordSpan,o.context,Re(n,t.children,t.children),a,c,t.sourceSpan,t.startSourceSpan,l,t.nameSpan,t.i18n)}return{node:s,errors:i}}function VR(t,e,n){let r=GR(t),i=t.parameters.length>0?Al(t.parameters[0],n):n.parseBinding("",!1,t.sourceSpan,0),o=[],s=[],a=null;for(let l of t.children){if(!(l instanceof cn))continue;if((l.name!=="case"||l.parameters.length===0)&&l.name!=="default"){s.push(new Mu(l.name,l.sourceSpan,l.nameSpan));continue}let c=l.name==="case"?Al(l.parameters[0],n):null,d=new rl(c,Re(e,l.children,l.children),l.sourceSpan,l.startSourceSpan,l.endSourceSpan,l.nameSpan,l.i18n);c===null?a=d:o.push(d)}return a!==null&&o.push(a),{node:new ku(i,o,s,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.nameSpan),errors:r}}function $R(t,e,n){if(t.parameters.length===0)return e.push(new Z(t.startSourceSpan,"@for loop does not have an expression")),null;let[r,...i]=t.parameters,o=zR(r,e)?.match(MR);if(!o||o[2].trim().length===0)return e.push(new Z(r.sourceSpan,'Cannot parse expression. @for loop expression must match the pattern "<identifier> of <expression>"')),null;let[,s,a]=o;La.has(s)&&e.push(new Z(r.sourceSpan,`@for loop item name cannot be one of ${Array.from(La).join(", ")}.`));let l=r.expression.split(" ")[0],c=new Q(r.sourceSpan.start,r.sourceSpan.start.moveBy(l.length)),d={itemName:new Xr(s,"$implicit",c,c),trackBy:null,expression:Al(r,n,a),context:Array.from(La,p=>{let h=new Q(t.startSourceSpan.end,t.startSourceSpan.end);return new Xr(p,p,h,h)})};for(let p of i){let h=p.expression.match(LR);if(h!==null){let v=new Q(p.sourceSpan.start.moveBy(h[0].length-h[1].length),p.sourceSpan.end);HR(p.sourceSpan,h[1],v,s,d.context,e);continue}let g=p.expression.match(PR);if(g!==null){if(d.trackBy!==null)e.push(new Z(p.sourceSpan,'@for loop can only have one "track" expression'));else{let v=Al(p,n,g[1]);v.ast instanceof Mt&&e.push(new Z(t.startSourceSpan,'@for loop must have a "track" expression'));let w=new Q(p.sourceSpan.start,p.sourceSpan.start.moveBy(5));d.trackBy={expression:v,keywordSpan:w}}continue}e.push(new Z(p.sourceSpan,`Unrecognized @for loop parameter "${p.expression}"`))}return d}function UR(t,e,n){let r=new xm;t.ast.visit(r),r.hasPipe&&n.push(new Z(e,"Cannot use pipes in track expressions"))}function HR(t,e,n,r,i,o){let s=e.split(","),a=n.start;for(let l of s){let c=l.split("="),d=c.length===2?c[0].trim():"",p=c.length===2?c[1].trim():"";if(d.length===0||p.length===0)o.push(new Z(t,'Invalid @for loop "let" parameter. Parameter should match the pattern "<name> = <variable name>"'));else if(!La.has(p))o.push(new Z(t,`Unknown "let" parameter variable "${p}". The allowed variables are: ${Array.from(La).join(", ")}`));else if(d===r)o.push(new Z(t,`Invalid @for loop "let" parameter. Variable cannot be called "${r}"`));else if(i.some(h=>h.name===d))o.push(new Z(t,`Duplicate "let" parameter variable "${p}"`));else{let[,h,g]=c[0].match(wE)??[],v=h!==void 0&&c.length===2?new Q(a.moveBy(h.length),a.moveBy(h.length+g.length)):n,w;if(c.length===2){let[,S,N]=c[1].match(wE)??[];w=S!==void 0?new Q(a.moveBy(c[0].length+1+S.length),a.moveBy(c[0].length+1+S.length+N.length)):void 0}let x=new Q(v.start,w?.end??v.end);i.push(new Xr(d,p,x,v,w))}a=a.moveBy(l.length+1)}}function qR(t){let e=[],n=!1;for(let r=0;r<t.length;r++){let i=t[r];i.name==="else"?(n?e.push(new Z(i.startSourceSpan,"Conditional can only have one @else block")):t.length>1&&r<t.length-1?e.push(new Z(i.startSourceSpan,"@else block must be last inside the conditional")):i.parameters.length>0&&e.push(new Z(i.startSourceSpan,"@else block cannot have parameters")),n=!0):Sd.test(i.name)||e.push(new Z(i.startSourceSpan,`Unrecognized conditional block @${i.name}`))}return e}function GR(t){let e=[],n=!1;if(t.parameters.length!==1)return e.push(new Z(t.startSourceSpan,"@switch block must have exactly one parameter")),e;for(let r of t.children)if(!(r instanceof wl||r instanceof Zi&&r.value.trim().length===0)){if(!(r instanceof cn)||r.name!=="case"&&r.name!=="default"){e.push(new Z(r.sourceSpan,"@switch block can only contain @case and @default blocks"));continue}r.name==="default"?(n?e.push(new Z(r.startSourceSpan,"@switch block can only have one @default block")):r.parameters.length>0&&e.push(new Z(r.startSourceSpan,"@default block cannot have parameters")),n=!0):r.name==="case"&&r.parameters.length!==1&&e.push(new Z(r.startSourceSpan,"@case block must have exactly one parameter"))}return e}function Al(t,e,n){let r,i;return typeof n=="string"?(r=Math.max(0,t.expression.lastIndexOf(n)),i=r+n.length):(r=0,i=t.expression.length),e.parseBinding(t.expression.slice(r,i),!1,t.sourceSpan,t.sourceSpan.start.offset+r)}function xE(t,e,n){if(t.parameters.length===0)return e.push(new Z(t.startSourceSpan,"Conditional block does not have an expression")),null;let r=Al(t.parameters[0],n),i=null;for(let o=1;o<t.parameters.length;o++){let s=t.parameters[o],a=s.expression.match(RR);if(a===null)e.push(new Z(s.sourceSpan,`Unrecognized conditional parameter "${s.expression}"`));else if(t.name!=="if"&&!Sd.test(t.name))e.push(new Z(s.sourceSpan,'"as" expression is only allowed on `@if` and `@else if` blocks'));else if(i!==null)e.push(new Z(s.sourceSpan,'Conditional can only have one "as" expression'));else{let l=a[2].trim();if(FR.test(l)){let c=s.sourceSpan.start.moveBy(a[1].length),d=new Q(c,c.moveBy(l.length));i=new Xr(l,l,d,d)}else e.push(new Z(s.sourceSpan,'"as" expression must be a valid JavaScript identifier'))}}return{expression:r,expressionAlias:i}}function zR(t,e){let n=t.expression,r=/^\s$/,i=0,o=0,s=n.length-1;for(let a=0;a<n.length;a++){let l=n[a];if(l==="(")o=a+1,i++;else{if(r.test(l))continue;break}}if(i===0)return n;for(let a=n.length-1;a>-1;a--){let l=n[a];if(l===")"){if(s=a,i--,i===0)break}else{if(r.test(l))continue;break}}return i!==0?(e.push(new Z(t.sourceSpan,"Unclosed parentheses in expression")),null):n.slice(o,s)}var xm=class extends Qa{hasPipe=!1;visitPipe(){this.hasPipe=!0}},WR=/^\d+\.?\d*(ms|s)?$/,jR=/^\s$/,IE=new Map([[Nn,xt],[Jr,ki],[Mn,Tt]]),Lt=(function(t){return t.IDLE="idle",t.TIMER="timer",t.INTERACTION="interaction",t.IMMEDIATE="immediate",t.HOVER="hover",t.VIEWPORT="viewport",t.NEVER="never",t})(Lt||{});function YR({expression:t,sourceSpan:e},n,r){let i=t.indexOf("never"),o=new Q(e.start.moveBy(i),e.start.moveBy(i+5)),s=lg(t,e),a=cg(t,e);i===-1?r.push(new Z(e,'Could not find "never" keyword in expression')):ug("never",n,r,new Mh(o,e,s,null,a))}function uh({expression:t,sourceSpan:e},n,r,i){let o=t.indexOf("when"),s=new Q(e.start.moveBy(o),e.start.moveBy(o+4)),a=lg(t,e),l=cg(t,e);if(o===-1)i.push(new Z(e,'Could not find "when" keyword in expression'));else{let c=bl(t,o+1),d=n.parseBinding(t.slice(c),!1,e,e.start.offset+c);ug("when",r,i,new Iu(d,e,a,s,l))}}function dh({expression:t,sourceSpan:e},n,r,i){let o=t.indexOf("on"),s=new Q(e.start.moveBy(o),e.start.moveBy(o+2)),a=lg(t,e),l=cg(t,e);if(o===-1)r.push(new Z(e,'Could not find "on" keyword in expression'));else{let c=bl(t,o+1);new Im(t,c,e,n,r,t.startsWith("hydrate")?nL:tL,i,a,s,l).parse()}}function lg(t,e){return t.startsWith("prefetch")?new Q(e.start,e.start.moveBy(8)):null}function cg(t,e){return t.startsWith("hydrate")?new Q(e.start,e.start.moveBy(7)):null}var Im=class{expression;start;span;triggers;errors;validator;placeholder;prefetchSpan;onSourceSpan;hydrateSpan;index=0;tokens;constructor(e,n,r,i,o,s,a,l,c,d){this.expression=e,this.start=n,this.span=r,this.triggers=i,this.errors=o,this.validator=s,this.placeholder=a,this.prefetchSpan=l,this.onSourceSpan=c,this.hydrateSpan=d,this.tokens=new xl().tokenize(e.slice(n))}parse(){for(;this.tokens.length>0&&this.index<this.tokens.length;){let e=this.token();if(!e.isIdentifier()){this.unexpectedToken(e);break}if(this.isFollowedByOrLast(pn))this.consumeTrigger(e,[]),this.advance();else if(this.isFollowedByOrLast(Mn)){this.advance();let n=this.errors.length,r=this.consumeParameters();if(this.errors.length!==n)break;this.consumeTrigger(e,r),this.advance()}else this.index<this.tokens.length-1&&this.unexpectedToken(this.tokens[this.index+1]);this.advance()}}advance(){this.index++}isFollowedByOrLast(e){return this.index===this.tokens.length-1?!0:this.tokens[this.index+1].isCharacter(e)}token(){return this.tokens[Math.min(this.index,this.tokens.length-1)]}consumeTrigger(e,n){let r=this.span.start.moveBy(this.start+e.index-this.tokens[0].index),i=new Q(r,r.moveBy(e.strValue.length)),o=r.moveBy(this.token().end-e.index),s=e.index===0,a=s?this.onSourceSpan:null,l=s?this.prefetchSpan:null,c=s?this.hydrateSpan:null,d=new Q(s?this.span.start:r,o);try{switch(e.toString()){case Lt.IDLE:this.trackTrigger("idle",JR(n,i,d,l,a,c));break;case Lt.TIMER:this.trackTrigger("timer",KR(n,i,d,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan));break;case Lt.INTERACTION:this.trackTrigger("interaction",QR(n,i,d,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.validator));break;case Lt.IMMEDIATE:this.trackTrigger("immediate",XR(n,i,d,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan));break;case Lt.HOVER:this.trackTrigger("hover",ZR(n,i,d,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.placeholder,this.validator));break;case Lt.VIEWPORT:this.trackTrigger("viewport",eL(n,i,d,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.validator));break;default:throw new Error(`Unrecognized trigger type "${e}"`)}}catch(p){this.error(e,p.message)}}consumeParameters(){let e=[];if(!this.token().isCharacter(Mn))return this.unexpectedToken(this.token()),e;this.advance();let n=[],r="";for(;this.index<this.tokens.length;){let i=this.token();if(i.isCharacter(Tt)&&n.length===0){r.length&&e.push(r);break}if(i.type===ae.Character&&IE.has(i.numValue)&&n.push(IE.get(i.numValue)),n.length>0&&i.isCharacter(n[n.length-1])&&n.pop(),n.length===0&&i.isCharacter(pn)&&r.length>0){e.push(r),r="",this.advance();continue}r+=this.tokenText(),this.advance()}return(!this.token().isCharacter(Tt)||n.length>0)&&this.error(this.token(),"Unexpected end of expression"),this.index<this.tokens.length-1&&!this.tokens[this.index+1].isCharacter(pn)&&this.unexpectedToken(this.tokens[this.index+1]),e}tokenText(){return this.expression.slice(this.start+this.token().index,this.start+this.token().end)}trackTrigger(e,n){ug(e,this.triggers,this.errors,n)}error(e,n){let r=this.span.start.moveBy(this.start+e.index),i=r.moveBy(e.end-e.index);this.errors.push(new Z(new Q(r,i),n))}unexpectedToken(e){this.error(e,`Unexpected token "${e}"`)}};function ug(t,e,n,r){e[t]?n.push(new Z(r.sourceSpan,`Duplicate "${t}" trigger is not allowed`)):e[t]=r}function JR(t,e,n,r,i,o){if(t.length>0)throw new Error(`"${Lt.IDLE}" trigger cannot have parameters`);return new Ph(e,n,r,i,o)}function KR(t,e,n,r,i,o){if(t.length!==1)throw new Error(`"${Lt.TIMER}" trigger must have exactly one parameter`);let s=fd(t[0]);if(s===null)throw new Error(`Could not parse time value of trigger "${Lt.TIMER}"`);return new Lh(s,e,n,r,i,o)}function XR(t,e,n,r,i,o){if(t.length>0)throw new Error(`"${Lt.IMMEDIATE}" trigger cannot have parameters`);return new Rh(e,n,r,i,o)}function ZR(t,e,n,r,i,o,s,a){return a(Lt.HOVER,t),new Du(t[0]??null,e,n,r,i,o)}function QR(t,e,n,r,i,o,s){return s(Lt.INTERACTION,t),new Au(t[0]??null,e,n,r,i,o)}function eL(t,e,n,r,i,o,s){return s(Lt.VIEWPORT,t),new bu(t[0]??null,e,n,r,i,o)}function tL(t,e){if(e.length>1)throw new Error(`"${t}" trigger can only have zero or one parameters`)}function nL(t,e){if(e.length>0)throw new Error(`Hydration trigger "${t}" cannot have parameters`)}function bl(t,e=0){let n=!1;for(let r=e;r<t.length;r++)if(jR.test(t[r]))n=!0;else if(n)return r;return-1}function fd(t){let e=t.match(WR);if(!e)return null;let[n,r]=e;return parseFloat(n)*(r==="s"?1e3:1)}var rL=/^prefetch\s+when\s/,iL=/^prefetch\s+on\s/,oL=/^hydrate\s+when\s/,sL=/^hydrate\s+on\s/,aL=/^hydrate\s+never(\s*)$/,uw=/^minimum\s/,lL=/^after\s/,cL=/^when\s/,uL=/^on\s/;function Dm(t){return t==="placeholder"||t==="loading"||t==="error"}function dL(t,e,n,r){let i=[],{placeholder:o,loading:s,error:a}=fL(e,i,n),{triggers:l,prefetchTriggers:c,hydrateTriggers:d}=gL(t,r,i,o),p=t.endSourceSpan,h=t.sourceSpan.end;if(e.length>0){let w=e[e.length-1];p=w.endSourceSpan,h=w.sourceSpan.end}let g=new Q(t.sourceSpan.start,h);return{node:new Wi(Re(n,t.children,t.children),l,c,d,o,s,a,t.nameSpan,g,t.sourceSpan,t.startSourceSpan,p,t.i18n),errors:i}}function fL(t,e,n){let r=null,i=null,o=null;for(let s of t)try{if(!Dm(s.name)){e.push(new Z(s.startSourceSpan,`Unrecognized block "@${s.name}"`));break}switch(s.name){case"placeholder":r!==null?e.push(new Z(s.startSourceSpan,"@defer block can only have one @placeholder block")):r=pL(s,n);break;case"loading":i!==null?e.push(new Z(s.startSourceSpan,"@defer block can only have one @loading block")):i=hL(s,n);break;case"error":o!==null?e.push(new Z(s.startSourceSpan,"@defer block can only have one @error block")):o=mL(s,n);break}}catch(a){e.push(new Z(s.startSourceSpan,a.message))}return{placeholder:r,loading:i,error:o}}function pL(t,e){let n=null;for(let r of t.parameters)if(uw.test(r.expression)){if(n!=null)throw new Error('@placeholder block can only have one "minimum" parameter');let i=fd(r.expression.slice(bl(r.expression)));if(i===null)throw new Error('Could not parse time value of parameter "minimum"');n=i}else throw new Error(`Unrecognized parameter in @placeholder block: "${r.expression}"`);return new el(Re(e,t.children,t.children),n,t.nameSpan,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}function hL(t,e){let n=null,r=null;for(let i of t.parameters)if(lL.test(i.expression)){if(n!=null)throw new Error('@loading block can only have one "after" parameter');let o=fd(i.expression.slice(bl(i.expression)));if(o===null)throw new Error('Could not parse time value of parameter "after"');n=o}else if(uw.test(i.expression)){if(r!=null)throw new Error('@loading block can only have one "minimum" parameter');let o=fd(i.expression.slice(bl(i.expression)));if(o===null)throw new Error('Could not parse time value of parameter "minimum"');r=o}else throw new Error(`Unrecognized parameter in @loading block: "${i.expression}"`);return new tl(Re(e,t.children,t.children),n,r,t.nameSpan,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}function mL(t,e){if(t.parameters.length>0)throw new Error("@error block cannot have parameters");return new nl(Re(e,t.children,t.children),t.nameSpan,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}function gL(t,e,n,r){let i={},o={},s={};for(let a of t.parameters)cL.test(a.expression)?uh(a,e,i,n):uL.test(a.expression)?dh(a,i,n,r):rL.test(a.expression)?uh(a,e,o,n):iL.test(a.expression)?dh(a,o,n,r):oL.test(a.expression)?uh(a,e,s,n):sL.test(a.expression)?dh(a,s,n,r):aL.test(a.expression)?YR(a,s,n):n.push(new Z(a.sourceSpan,"Unrecognized trigger"));return s.never&&Object.keys(s).length>1&&n.push(new Z(t.startSourceSpan,"Cannot specify additional `hydrate` triggers if `hydrate never` is present")),{triggers:i,prefetchTriggers:o,hydrateTriggers:s}}var vL=/^(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.*)$/,DE=1,AE=2,bE=3,kE=4,NE=5,yL=6,Sa=7,Ur={BANANA_BOX:{start:"[(",end:")]"},PROPERTY:{start:"[",end:"]"},EVENT:{start:"(",end:")"}},fh="*",_L=new Set(["link","style","script","ng-template","ng-container","ng-content"]),EL=new Set(["ngProjectAs","ngNonBindable"]);function CL(t,e,n){let r=new Am(e,n),i=Re(r,t,t),o=e.errors.concat(r.errors),s={nodes:i,errors:o,styleUrls:r.styleUrls,styles:r.styles,ngContentSelectors:r.ngContentSelectors};return n.collectCommentNodes&&(s.commentNodes=r.commentNodes),s}var Am=class{bindingParser;options;errors=[];styles=[];styleUrls=[];ngContentSelectors=[];commentNodes=[];inI18nBlock=!1;processedNodes=new Set;constructor(e,n){this.bindingParser=e,this.options=n}visitElement(e){let n=ru(e.i18n);n&&(this.inI18nBlock&&this.reportError("Cannot mark an element as translatable inside of a translatable section. Please remove the nested i18n marker.",e.sourceSpan),this.inI18nBlock=!0);let r=cw(e);if(r.type===zt.SCRIPT)return null;if(r.type===zt.STYLE){let S=wL(e);return S!==null&&this.styles.push(S),null}else if(r.type===zt.STYLESHEET&&ER(r.hrefAttr))return this.styleUrls.push(r.hrefAttr),null;let i=VA(e.name),{attributes:o,boundEvents:s,references:a,variables:l,templateVariables:c,elementHasInlineTemplate:d,parsedProperties:p,templateParsedProperties:h,i18nAttrsMeta:g}=this.prepareAttributes(e.attrs,i),v=this.extractDirectives(e),w;r.nonBindable?w=Re(ME,e.children).flat(1/0):w=Re(this,e.children,e.children);let x;if(r.type===zt.NG_CONTENT){let S=r.selectAttr,N=e.attrs.map(R=>this.visitAttribute(R));x=new us(S,N,w,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n),this.ngContentSelectors.push(S)}else if(i){let S=this.categorizePropertyAttributes(e.name,p,g);x=new Yt(e.name,o,S.bound,s,v,[],w,a,l,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}else{let S=this.categorizePropertyAttributes(e.name,p,g);if(e.name==="ng-container")for(let N of S.bound)N.type===Ce.Attribute&&this.reportError("Attribute bindings are not supported on ng-container. Use property bindings instead.",N.sourceSpan);x=new rr(e.name,o,S.bound,s,v,w,a,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.isVoid,e.i18n)}return d&&(x=this.wrapInTemplate(x,h,c,g,i,n)),n&&(this.inI18nBlock=!1),x}visitAttribute(e){return new ls(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return this.processedNodes.has(e)?null:this._visitTextWithInterpolation(e.value,e.sourceSpan,e.tokens,e.i18n)}visitExpansion(e){if(!e.i18n)return null;if(!ru(e.i18n))throw new Error(`Invalid type "${e.i18n.constructor}" for "i18n" property of ${e.sourceSpan.toString()}. Expected a "Message"`);let n=e.i18n,r={},i={};return Object.keys(n.placeholders).forEach(o=>{let s=n.placeholders[o];if(o.startsWith(qA)){let a=o.trim(),l=this.bindingParser.parseInterpolationExpression(s.text,s.sourceSpan);r[a]=new as(l,s.sourceSpan)}else i[o]=this._visitTextWithInterpolation(s.text,s.sourceSpan,null)}),new KE(r,i,e.sourceSpan,n)}visitExpansionCase(e){return null}visitComment(e){return this.options.collectCommentNodes&&this.commentNodes.push(new yd(e.value||"",e.sourceSpan)),null}visitLetDeclaration(e,n){let r=this.bindingParser.parseBinding(e.value,!1,e.valueSpan,e.valueSpan.start.offset);return r.errors.length===0&&r.ast instanceof Mt&&this.reportError("@let declaration value cannot be empty",e.valueSpan),new zm(e.name,r,e.sourceSpan,e.nameSpan,e.valueSpan)}visitComponent(e){let n=ru(e.i18n);if(n&&(this.inI18nBlock&&this.reportError("Cannot mark a component as translatable inside of a translatable section. Please remove the nested i18n marker.",e.sourceSpan),this.inI18nBlock=!0),e.tagName!==null&&_L.has(e.tagName))return this.reportError(`Tag name "${e.tagName}" cannot be used as a component tag`,e.startSourceSpan),null;let{attributes:r,boundEvents:i,references:o,templateVariables:s,elementHasInlineTemplate:a,parsedProperties:l,templateParsedProperties:c,i18nAttrsMeta:d}=this.prepareAttributes(e.attrs,!1);this.validateSelectorlessReferences(o);let p=this.extractDirectives(e),h;e.attrs.find(w=>w.name==="ngNonBindable")?h=Re(ME,e.children).flat(1/0):h=Re(this,e.children,e.children);let g=this.categorizePropertyAttributes(e.tagName,l,d),v=new Na(e.componentName,e.tagName,e.fullName,r,g.bound,i,p,h,o,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return a&&(v=this.wrapInTemplate(v,c,s,d,!1,n)),n&&(this.inI18nBlock=!1),v}visitDirective(){return null}visitBlockParameter(){return null}visitBlock(e,n){let r=Array.isArray(n)?n.indexOf(e):-1;if(r===-1)throw new Error("Visitor invoked incorrectly. Expecting visitBlock to be invoked siblings array as its context");if(this.processedNodes.has(e))return null;let i=null;switch(e.name){case"defer":i=dL(e,this.findConnectedBlocks(r,n,Dm),this,this.bindingParser);break;case"switch":i=VR(e,this,this.bindingParser);break;case"for":i=BR(e,this.findConnectedBlocks(r,n,SE),this,this.bindingParser);break;case"if":i=OR(e,this.findConnectedBlocks(r,n,TE),this,this.bindingParser);break;default:let o;Dm(e.name)?(o=`@${e.name} block can only be used after an @defer block.`,this.processedNodes.add(e)):SE(e.name)?(o=`@${e.name} block can only be used after an @for block.`,this.processedNodes.add(e)):TE(e.name)?(o=`@${e.name} block can only be used after an @if or @else if block.`,this.processedNodes.add(e)):o=`Unrecognized block @${e.name}.`,i={node:new Mu(e.name,e.sourceSpan,e.nameSpan),errors:[new Z(e.sourceSpan,o)]};break}return this.errors.push(...i.errors),i.node}findConnectedBlocks(e,n,r){let i=[];for(let o=e+1;o<n.length;o++){let s=n[o];if(!(s instanceof wl)){if(s instanceof Zi&&s.value.trim().length===0){this.processedNodes.add(s);continue}if(!(s instanceof cn)||!r(s.name))break;i.push(s),this.processedNodes.add(s)}}return i}categorizePropertyAttributes(e,n,r){let i=[],o=[];return n.forEach(s=>{let a=r[s.name];if(s.isLiteral)o.push(new ls(s.name,s.expression.source||"",s.sourceSpan,s.keySpan,s.valueSpan,a));else{let l=this.bindingParser.createBoundElementProperty(e,s,!0,!1);i.push(kh.fromBoundElementProperty(l,a))}}),{bound:i,literal:o}}prepareAttributes(e,n){let r=[],i=[],o=[],s=[],a=[],l={},c=[],d=[],p=!1;for(let h of e){let g=!1,v=PE(h.name),w=!1;if(h.i18n&&(l[h.name]=h.i18n),v.startsWith(fh)){p&&this.reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",h.sourceSpan),w=!0,p=!0;let x=h.value,S=v.substring(fh.length),N=[],R=h.valueSpan?h.valueSpan.fullStart.offset:h.sourceSpan.fullStart.offset+h.name.length;this.bindingParser.parseInlineTemplateBinding(S,x,h.sourceSpan,R,[],c,N,!0),d.push(...N.map(P=>new Xr(P.name,P.value,P.sourceSpan,P.keySpan,P.valueSpan)))}else g=this.parseAttribute(n,h,[],r,i,o,s);!g&&!w&&a.push(this.visitAttribute(h))}return{attributes:a,boundEvents:i,references:s,variables:o,templateVariables:d,elementHasInlineTemplate:p,parsedProperties:r,templateParsedProperties:c,i18nAttrsMeta:l}}parseAttribute(e,n,r,i,o,s,a){let l=PE(n.name),c=n.value,d=n.sourceSpan,p=n.valueSpan?n.valueSpan.fullStart.offset:d.fullStart.offset;function h(S,N,R){let P=n.name.length-l.length,H=S.start.moveBy(N.length+P),te=H.moveBy(R.length);return new Q(H,te,H,R)}let g=l.match(vL);if(g){if(g[DE]!=null){let S=g[Sa],N=h(d,g[DE],S);this.bindingParser.parsePropertyBinding(S,c,!1,!1,d,p,n.valueSpan,r,i,N)}else if(g[AE])if(e){let S=g[Sa],N=h(d,g[AE],S);this.parseVariable(S,c,d,N,n.valueSpan,s)}else this.reportError('"let-" is only supported on ng-template elements.',d);else if(g[bE]){let S=g[Sa],N=h(d,g[bE],S);this.parseReference(S,c,d,N,n.valueSpan,a)}else if(g[kE]){let S=[],N=g[Sa],R=h(d,g[kE],N);this.bindingParser.parseEvent(N,c,!1,d,n.valueSpan||d,r,S,R),ph(S,o)}else if(g[NE]){let S=g[Sa],N=h(d,g[NE],S);this.bindingParser.parsePropertyBinding(S,c,!1,!0,d,p,n.valueSpan,r,i,N),this.parseAssignmentEvent(S,c,d,n.valueSpan,r,o,N,p)}else if(g[yL]){let S=h(d,"",l);this.bindingParser.parseLiteralAttr(l,c,d,p,n.valueSpan,r,i,S)}return!0}let v=null;if(l.startsWith(Ur.BANANA_BOX.start)?v=Ur.BANANA_BOX:l.startsWith(Ur.PROPERTY.start)?v=Ur.PROPERTY:l.startsWith(Ur.EVENT.start)&&(v=Ur.EVENT),v!==null&&l.endsWith(v.end)&&l.length>v.start.length+v.end.length){let S=l.substring(v.start.length,l.length-v.end.length),N=h(d,v.start,S);if(v.start===Ur.BANANA_BOX.start)this.bindingParser.parsePropertyBinding(S,c,!1,!0,d,p,n.valueSpan,r,i,N),this.parseAssignmentEvent(S,c,d,n.valueSpan,r,o,N,p);else if(v.start===Ur.PROPERTY.start)this.bindingParser.parsePropertyBinding(S,c,!1,!1,d,p,n.valueSpan,r,i,N);else{let R=[];this.bindingParser.parseEvent(S,c,!1,d,n.valueSpan||d,r,R,N),ph(R,o)}return!0}let w=h(d,"",l);return this.bindingParser.parsePropertyInterpolation(l,c,d,n.valueSpan,r,i,w,n.valueTokens??null)}extractDirectives(e){let n=e instanceof Rt?e.tagName:e.name,r=[],i=new Set;for(let o of e.directives){let s=!1;for(let g of o.attrs)g.name.startsWith(fh)?(s=!0,this.reportError(`Shorthand template syntax "${g.name}" is not supported inside a directive context`,g.sourceSpan)):EL.has(g.name)&&(s=!0,this.reportError(`Attribute "${g.name}" is not supported in a directive context`,g.sourceSpan));if(!s&&i.has(o.name)&&(s=!0,this.reportError(`Cannot apply directive "${o.name}" multiple times on the same element`,o.sourceSpan)),s)continue;let{attributes:a,parsedProperties:l,boundEvents:c,references:d,i18nAttrsMeta:p}=this.prepareAttributes(o.attrs,!1);this.validateSelectorlessReferences(d);let{bound:h}=this.categorizePropertyAttributes(n,l,p);for(let g of h)g.type!==Ce.Property&&g.type!==Ce.TwoWay&&(s=!0,this.reportError("Binding is not supported in a directive context",g.sourceSpan));s||(i.add(o.name),r.push(new JE(o.name,a,h,c,d,o.sourceSpan,o.startSourceSpan,o.endSourceSpan,void 0)))}return r}filterAnimationAttributes(e){return e.filter(n=>!n.name.startsWith("animate."))}filterAnimationInputs(e){return e.filter(n=>n.type!==Ce.Animation)}wrapInTemplate(e,n,r,i,o,s){let a=this.categorizePropertyAttributes("ng-template",n,i),l=[];a.literal.forEach(h=>l.push(h)),a.bound.forEach(h=>l.push(h));let c={attributes:[],inputs:[],outputs:[]};(e instanceof rr||e instanceof Na)&&(c.attributes.push(...this.filterAnimationAttributes(e.attributes)),c.inputs.push(...this.filterAnimationInputs(e.inputs)),c.outputs.push(...e.outputs));let d=o&&s?void 0:e.i18n,p;return e instanceof Na?p=e.tagName:e instanceof Yt?p=null:p=e.name,new Yt(p,c.attributes,c.inputs,c.outputs,[],l,[e],[],r,!1,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,d)}_visitTextWithInterpolation(e,n,r,i){let o=$C(e),s=this.bindingParser.parseInterpolation(o,n,r);return s?new as(s,n,i):new bi(o,n)}parseVariable(e,n,r,i,o,s){e.indexOf("-")>-1?this.reportError('"-" is not allowed in variable names',r):e.length===0&&this.reportError("Variable does not have a name",r),s.push(new Xr(e,n,r,i,o))}parseReference(e,n,r,i,o,s){e.indexOf("-")>-1?this.reportError('"-" is not allowed in reference names',r):e.length===0?this.reportError("Reference does not have a name",r):s.some(a=>a.name===e)&&this.reportError(`Reference "#${e}" is defined more than once`,r),s.push(new ol(e,n,r,i,o))}parseAssignmentEvent(e,n,r,i,o,s,a,l){let c=[];this.bindingParser.parseEvent(`${e}Change`,n,!0,r,i||r,o,c,a),ph(c,s)}validateSelectorlessReferences(e){if(e.length===0)return;let n=new Set;for(let r of e)r.value.length>0?this.reportError("Cannot specify a value for a local reference in this context",r.valueSpan||r.sourceSpan):n.has(r.name)?this.reportError("Duplicate reference names are not allowed",r.sourceSpan):n.add(r.name)}reportError(e,n,r=Wr.ERROR){this.errors.push(new Z(n,e,r))}},bm=class{visitElement(e){let n=cw(e);if(n.type===zt.SCRIPT||n.type===zt.STYLE||n.type===zt.STYLESHEET)return null;let r=Re(this,e.children,null);return new rr(e.name,Re(this,e.attrs),[],[],[],r,[],e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.isVoid)}visitComment(e){return null}visitAttribute(e){return new ls(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return new bi(e.value,e.sourceSpan)}visitExpansion(e){return null}visitExpansionCase(e){return null}visitBlock(e,n){let r=[new bi(e.startSourceSpan.toString(),e.startSourceSpan),...Re(this,e.children)];return e.endSourceSpan!==null&&r.push(new bi(e.endSourceSpan.toString(),e.endSourceSpan)),r}visitBlockParameter(e,n){return null}visitLetDeclaration(e,n){return new bi(`@let ${e.name} = ${e.value};`,e.sourceSpan)}visitComponent(e,n){let r=Re(this,e.children,null);return new rr(e.fullName,Re(this,e.attrs),[],[],[],r,[],e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,!1)}visitDirective(e,n){return null}},ME=new bm;function PE(t){return/^data-/i.test(t)?t.substring(5):t}function ph(t,e){e.push(...t.map(n=>Nh.fromParsedEvent(n)))}function wL(t){return t.children.length!==1||!(t.children[0]instanceof Zi)?null:t.children[0].value}var SL=[" ",`
`,"\r","	"];function TL(t,e,n={}){let{interpolationConfig:r,preserveWhitespaces:i,enableI18nLegacyMessageIdFormat:o}=n,s=n.enableSelectorless??!1,a=pd(r,s),c=new Cm().parse(t,e,U(I({leadingTriviaChars:SL},n),{tokenizeExpansionForms:!0,tokenizeBlocks:n.enableBlockSyntax??!0,tokenizeLet:n.enableLetSyntax??!0,selectorlessEnabled:s}));if(!n.alwaysAttemptHtmlToR3AstConversion&&c.errors&&c.errors.length>0){let H={interpolationConfig:r,preserveWhitespaces:i,errors:c.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return n.collectCommentNodes&&(H.commentNodes=[]),H}let d=c.rootNodes,p=!(n.preserveSignificantWhitespace??!0),h=new id(r,!i,o,void 0,n.preserveSignificantWhitespace,p),g=h.visitAllWithErrors(d);if(!n.alwaysAttemptHtmlToR3AstConversion&&g.errors&&g.errors.length>0){let H={interpolationConfig:r,preserveWhitespaces:i,errors:g.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return n.collectCommentNodes&&(H.commentNodes=[]),H}d=g.rootNodes,i||(d=Re(new nd(!0,void 0,!1),d),h.hasI18nMeta&&(d=Re(new id(r,!1,void 0,void 0,!0,p),d)));let{nodes:v,errors:w,styleUrls:x,styles:S,ngContentSelectors:N,commentNodes:R}=CL(d,a,{collectCommentNodes:!!n.collectCommentNodes});w.push(...c.errors,...g.errors);let P={interpolationConfig:r,preserveWhitespaces:i,errors:w.length>0?w:null,nodes:v,styleUrls:x,styles:S,ngContentSelectors:N};return n.collectCommentNodes&&(P.commentNodes=R),P}var xL=new _s;function pd(t=Xn,e=!1){return new wm(new rd(new xl,e),t,xL,[])}var dw="%COMP%",IL=`_nghost-${dw}`,DL=`_ngcontent-${dw}`;function fw(t,e,n){let r=new ei,i=$m(t.selector);return r.set("type",t.type.value),i.length>0&&r.set("selectors",Wo(i)),t.queries.length>0&&r.set("contentQueries",mR(t.queries,e,t.name)),t.viewQueries.length&&r.set("viewQuery",hR(t.viewQueries,e,t.name)),r.set("hostBindings",LL(t.host,t.typeSourceSpan,n,e,t.selector||"",t.name,r)),r.set("inputs",p_(t.inputs,!0)),r.set("outputs",p_(t.outputs)),t.exportAs!==null&&r.set("exportAs",xe(t.exportAs.map(o=>T(o)))),t.isStandalone===!1&&r.set("standalone",T(!1)),t.isSignal&&r.set("signals",T(!0)),r}function pw(t,e){let n=[],r=e.providers,i=e.viewProviders;if(r||i){let o=[r||new Rn([])];i&&o.push(i),n.push(q(y.ProvidersFeature).callFn(o))}if(e.hostDirectives?.length&&n.push(q(y.HostDirectivesFeature).callFn([$L(e.hostDirectives)])),e.usesInheritance&&n.push(q(y.InheritDefinitionFeature)),e.fullInheritance&&n.push(q(y.CopyDefinitionFeature)),e.lifecycle.usesOnChanges&&n.push(q(y.NgOnChangesFeature)),"externalStyles"in e&&e.externalStyles?.length){let o=e.externalStyles.map(s=>T(s));n.push(q(y.ExternalStylesFeature).callFn([xe(o)]))}n.length&&t.set("features",xe(n))}function AL(t,e,n){let r=fw(t,e,n);pw(r,t);let i=q(y.defineDirective).callFn([r.toLiteralMap()],void 0,!0),o=RL(t);return{expression:i,type:o,statements:[]}}function bL(t,e,n){let r=fw(t,e,n);pw(r,t);let i=t.selector&&ts.parse(t.selector),o=i&&i[0];if(o){let v=o.getAttrs();v.length&&r.set("attrs",e.getConstLiteral(xe(v.map(w=>w!=null?T(w):T(void 0))),!0))}let s=t.name,a=null;if(t.defer.mode===1&&t.defer.dependenciesFn!==null){let v=`${s}_DeferFn`;e.statements.push(new Xe(v,t.defer.dependenciesFn,void 0,dt.Final)),a=de(v)}let l=t.isStandalone&&!t.hasDirectiveDependencies?Pt.DomOnly:Pt.Full,c=GP(t.name,t.template.nodes,e,l,t.relativeContextFilePath,t.i18nUseExternalIds,t.defer,a,t.relativeTemplatePath,dR());ZC(c,B.Tmpl);let d=$P(c,e);if(c.contentSelectors!==null&&r.set("ngContentSelectors",c.contentSelectors),r.set("decls",T(c.root.decls)),r.set("vars",T(c.root.vars)),c.consts.length>0&&(c.constsInitializers.length>0?r.set("consts",Ln([],[...c.constsInitializers,new ft(xe(c.consts))])):r.set("consts",xe(c.consts))),r.set("template",d),t.declarationListEmitMode!==3&&t.declarations.length>0)r.set("dependencies",NL(xe(t.declarations.map(v=>v.type)),t.declarationListEmitMode));else if(t.declarationListEmitMode===3){let v=[t.type.value];t.rawImports&&v.push(t.rawImports),r.set("dependencies",q(y.getComponentDepsFactory).callFn(v))}t.encapsulation===null&&(t.encapsulation=Si.Emulated);let p=!!t.externalStyles?.length;if(t.styles&&t.styles.length){let w=(t.encapsulation==Si.Emulated?VL(t.styles,DL,IL):t.styles).reduce((x,S)=>(S.trim().length>0&&x.push(e.getConstLiteral(T(S))),x),[]);w.length>0&&(p=!0,r.set("styles",xe(w)))}!p&&t.encapsulation===Si.Emulated&&(t.encapsulation=Si.None),t.encapsulation!==Si.Emulated&&r.set("encapsulation",T(t.encapsulation)),t.animations!==null&&r.set("data",At([{key:"animation",value:t.animations,quoted:!1}])),t.changeDetection!==null&&(typeof t.changeDetection=="number"&&t.changeDetection!==Vm.Default?r.set("changeDetection",T(t.changeDetection)):typeof t.changeDetection=="object"&&r.set("changeDetection",t.changeDetection));let h=q(y.defineComponent).callFn([r.toLiteralMap()],void 0,!0),g=kL(t);return{expression:h,type:g,statements:[]}}function kL(t){let e=hw(t);return e.push(Nm(t.template.ngContentSelectors)),e.push(pt(T(t.isStandalone))),e.push(mw(t)),t.isSignal&&e.push(pt(T(t.isSignal))),pt(q(y.ComponentDeclaration,e))}function NL(t,e){switch(e){case 0:return t;case 1:return Ln([],t);case 2:let n=t.prop("map").callFn([q(y.resolveForwardRef)]);return Ln([],n);case 3:throw new Error("Unsupported with an array of pre-resolved dependencies")}}function ML(t){return pt(T(t))}function km(t){let e=Object.keys(t).map(n=>{let r=Array.isArray(t[n])?t[n][0]:t[n];return{key:n,value:T(r),quoted:!0}});return At(e)}function Nm(t){return t.length>0?pt(xe(t.map(e=>T(e)))):Qn}function hw(t){let e=t.selector!==null?t.selector.replace(/\n/g,""):null;return[vd(t.type.type,t.typeArgumentCount),e!==null?ML(e):Qn,t.exportAs!==null?Nm(t.exportAs):Qn,pt(PL(t)),pt(km(t.outputs)),Nm(t.queries.map(n=>n.propertyName))]}function PL(t){return At(Object.keys(t.inputs).map(e=>{let n=t.inputs[e],r=[{key:"alias",value:T(n.bindingPropertyName),quoted:!0},{key:"required",value:T(n.required),quoted:!0}];return n.isSignal&&r.push({key:"isSignal",value:T(n.isSignal),quoted:!0}),{key:e,value:At(r),quoted:!0}}))}function RL(t){let e=hw(t);return e.push(Qn),e.push(pt(T(t.isStandalone))),e.push(mw(t)),t.isSignal&&e.push(pt(T(t.isSignal))),pt(q(y.DirectiveDeclaration,e))}function LL(t,e,n,r,i,o,s){let a=n.createBoundHostProperties(t.properties,e),l=n.createDirectiveHostEventAsts(t.listeners,e);t.specialAttributes.styleAttr&&(t.attributes.style=T(t.specialAttributes.styleAttr)),t.specialAttributes.classAttr&&(t.attributes.class=T(t.specialAttributes.classAttr));let c=zP({componentName:o,componentSelector:i,properties:a,events:l,attributes:t.attributes},n,r);ZC(c,B.Host),s.set("hostAttrs",c.root.attributes);let d=c.root.vars;return d!==null&&d>0&&s.set("hostVars",T(d)),UP(c)}var FL=/^(?:\[([^\]]+)\])|(?:\(([^\)]+)\))$/;function OL(t){let e={},n={},r={},i={};for(let o of Object.keys(t)){let s=t[o],a=o.match(FL);if(a===null)switch(o){case"class":if(typeof s!="string")throw new Error("Class binding must be string");i.classAttr=s;break;case"style":if(typeof s!="string")throw new Error("Style binding must be string");i.styleAttr=s;break;default:typeof s=="string"?e[o]=T(s):e[o]=s}else if(a[1]!=null){if(typeof s!="string")throw new Error("Property binding must be string");r[a[1]]=s}else if(a[2]!=null){if(typeof s!="string")throw new Error("Event binding must be string");n[a[2]]=s}}return{attributes:e,listeners:n,properties:r,specialAttributes:i}}function BL(t,e){let n=pd();return n.createDirectiveHostEventAsts(t.listeners,e),n.createBoundHostProperties(t.properties,e),n.errors}function VL(t,e,n){let r=new Gh;return t.map(i=>r.shimCssText(i,e,n))}function mw(t){return t.hostDirectives?.length?pt(xe(t.hostDirectives.map(e=>At([{key:"directive",value:Nl(e.directive.type),quoted:!1},{key:"inputs",value:km(e.inputs||{}),quoted:!1},{key:"outputs",value:km(e.outputs||{}),quoted:!1}])))):Qn}function $L(t){let e=[],n=!1;for(let r of t){if(!r.inputs&&!r.outputs)e.push(r.directive.type);else{let i=[{key:"directive",value:r.directive.type,quoted:!1}];if(r.inputs){let o=RE(r.inputs);o&&i.push({key:"inputs",value:o,quoted:!1})}if(r.outputs){let o=RE(r.outputs);o&&i.push({key:"outputs",value:o,quoted:!1})}e.push(At(i))}r.isForwardReference&&(n=!0)}return n?new Yr([],[new ft(xe(e))]):xe(e)}function RE(t){let e=[];for(let n in t)t.hasOwnProperty(n)&&e.push(T(n),T(t[n]));return e.length>0?xe(e):null}var Mm=class extends Qa{visit(e){e instanceof qt?this.visit(e.ast):e.visit(this)}visitElement(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.directives),this.visitAllTemplateNodes(e.references),this.visitAllTemplateNodes(e.children)}visitTemplate(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.directives),this.visitAllTemplateNodes(e.templateAttrs),this.visitAllTemplateNodes(e.variables),this.visitAllTemplateNodes(e.references),this.visitAllTemplateNodes(e.children)}visitContent(e){this.visitAllTemplateNodes(e.children)}visitBoundAttribute(e){this.visit(e.value)}visitBoundEvent(e){this.visit(e.handler)}visitBoundText(e){this.visit(e.value)}visitIcu(e){Object.keys(e.vars).forEach(n=>this.visit(e.vars[n])),Object.keys(e.placeholders).forEach(n=>this.visit(e.placeholders[n]))}visitDeferredBlock(e){e.visitAll(this)}visitDeferredTrigger(e){e instanceof Iu&&this.visit(e.value)}visitDeferredBlockPlaceholder(e){this.visitAllTemplateNodes(e.children)}visitDeferredBlockError(e){this.visitAllTemplateNodes(e.children)}visitDeferredBlockLoading(e){this.visitAllTemplateNodes(e.children)}visitSwitchBlock(e){this.visit(e.expression),this.visitAllTemplateNodes(e.cases)}visitSwitchBlockCase(e){e.expression&&this.visit(e.expression),this.visitAllTemplateNodes(e.children)}visitForLoopBlock(e){e.item.visit(this),this.visitAllTemplateNodes(e.contextVariables),this.visit(e.expression),this.visitAllTemplateNodes(e.children),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.visitAllTemplateNodes(e.children)}visitIfBlock(e){this.visitAllTemplateNodes(e.branches)}visitIfBlockBranch(e){e.expression&&this.visit(e.expression),e.expressionAlias?.visit(this),this.visitAllTemplateNodes(e.children)}visitLetDeclaration(e){this.visit(e.value)}visitComponent(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.directives),this.visitAllTemplateNodes(e.references),this.visitAllTemplateNodes(e.children)}visitDirective(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.references)}visitVariable(e){}visitReference(e){}visitTextAttribute(e){}visitText(e){}visitUnknownBlock(e){}visitAllTemplateNodes(e){for(let n of e)this.visit(n)}};var Pm=class{directiveMatcher;constructor(e){this.directiveMatcher=e}bind(e){if(!e.template&&!e.host)throw new Error("Empty bound targets are not supported");let n=new Map,r=[],i=new Set,o=new Map,s=new Map,a=new Map,l=new Map,c=new Map,d=new Map,p=new Set,h=new Set,g=[];if(e.template){let v=hd.apply(e.template);UL(v,a),Rm.apply(e.template,this.directiveMatcher,n,r,i,o,s),md.applyWithScope(e.template,v,l,c,d,p,h,g)}return e.host&&(n.set(e.host.node,e.host.directives),md.applyWithScope(e.host.node,hd.apply(e.host.node),l,c,d,p,h,g)),new Lm(e,n,r,i,o,s,l,c,d,a,p,h,g)}},hd=class t{parentScope;rootNode;namedEntities=new Map;elementLikeInScope=new Set;childScopes=new Map;isDeferred;constructor(e,n){this.parentScope=e,this.rootNode=n,this.isDeferred=e!==null&&e.isDeferred?!0:n instanceof Wi}static newRootScope(){return new t(null,null)}static apply(e){let n=t.newRootScope();return n.ingest(e),n}ingest(e){e instanceof Yt?(e.variables.forEach(n=>this.visitVariable(n)),e.children.forEach(n=>n.visit(this))):e instanceof Pi?(e.expressionAlias!==null&&this.visitVariable(e.expressionAlias),e.children.forEach(n=>n.visit(this))):e instanceof cs?(this.visitVariable(e.item),e.contextVariables.forEach(n=>this.visitVariable(n)),e.children.forEach(n=>n.visit(this))):e instanceof rl||e instanceof il||e instanceof Wi||e instanceof nl||e instanceof el||e instanceof tl||e instanceof us?e.children.forEach(n=>n.visit(this)):e instanceof sl||e.forEach(n=>n.visit(this))}visitElement(e){this.visitElementLike(e)}visitTemplate(e){e.directives.forEach(n=>n.visit(this)),e.references.forEach(n=>this.visitReference(n)),this.ingestScopedNode(e)}visitVariable(e){this.maybeDeclare(e)}visitReference(e){this.maybeDeclare(e)}visitDeferredBlock(e){this.ingestScopedNode(e),e.placeholder?.visit(this),e.loading?.visit(this),e.error?.visit(this)}visitDeferredBlockPlaceholder(e){this.ingestScopedNode(e)}visitDeferredBlockError(e){this.ingestScopedNode(e)}visitDeferredBlockLoading(e){this.ingestScopedNode(e)}visitSwitchBlock(e){e.cases.forEach(n=>n.visit(this))}visitSwitchBlockCase(e){this.ingestScopedNode(e)}visitForLoopBlock(e){this.ingestScopedNode(e),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.ingestScopedNode(e)}visitIfBlock(e){e.branches.forEach(n=>n.visit(this))}visitIfBlockBranch(e){this.ingestScopedNode(e)}visitContent(e){this.ingestScopedNode(e)}visitLetDeclaration(e){this.maybeDeclare(e)}visitComponent(e){this.visitElementLike(e)}visitDirective(e){e.references.forEach(n=>this.visitReference(n))}visitBoundAttribute(e){}visitBoundEvent(e){}visitBoundText(e){}visitText(e){}visitTextAttribute(e){}visitIcu(e){}visitDeferredTrigger(e){}visitUnknownBlock(e){}visitElementLike(e){e.directives.forEach(n=>n.visit(this)),e.references.forEach(n=>this.visitReference(n)),e.children.forEach(n=>n.visit(this)),this.elementLikeInScope.add(e)}maybeDeclare(e){this.namedEntities.has(e.name)||this.namedEntities.set(e.name,e)}lookup(e){return this.namedEntities.has(e)?this.namedEntities.get(e):this.parentScope!==null?this.parentScope.lookup(e):null}getChildScope(e){let n=this.childScopes.get(e);if(n===void 0)throw new Error(`Assertion error: child scope for ${e} not found`);return n}ingestScopedNode(e){let n=new t(this,e);n.ingest(e),this.childScopes.set(e,n)}},Rm=class t{directiveMatcher;directives;eagerDirectives;missingDirectives;bindings;references;isInDeferBlock=!1;constructor(e,n,r,i,o,s){this.directiveMatcher=e,this.directives=n,this.eagerDirectives=r,this.missingDirectives=i,this.bindings=o,this.references=s}static apply(e,n,r,i,o,s,a){new t(n,r,i,o,s,a).ingest(e)}ingest(e){e.forEach(n=>n.visit(this))}visitElement(e){this.visitElementOrTemplate(e)}visitTemplate(e){this.visitElementOrTemplate(e)}visitDeferredBlock(e){let n=this.isInDeferBlock;this.isInDeferBlock=!0,e.children.forEach(r=>r.visit(this)),this.isInDeferBlock=n,e.placeholder?.visit(this),e.loading?.visit(this),e.error?.visit(this)}visitDeferredBlockPlaceholder(e){e.children.forEach(n=>n.visit(this))}visitDeferredBlockError(e){e.children.forEach(n=>n.visit(this))}visitDeferredBlockLoading(e){e.children.forEach(n=>n.visit(this))}visitSwitchBlock(e){e.cases.forEach(n=>n.visit(this))}visitSwitchBlockCase(e){e.children.forEach(n=>n.visit(this))}visitForLoopBlock(e){e.item.visit(this),e.contextVariables.forEach(n=>n.visit(this)),e.children.forEach(n=>n.visit(this)),e.empty?.visit(this)}visitForLoopBlockEmpty(e){e.children.forEach(n=>n.visit(this))}visitIfBlock(e){e.branches.forEach(n=>n.visit(this))}visitIfBlockBranch(e){e.expressionAlias?.visit(this),e.children.forEach(n=>n.visit(this))}visitContent(e){e.children.forEach(n=>n.visit(this))}visitComponent(e){if(this.directiveMatcher instanceof ou){let n=this.directiveMatcher.match(e.componentName);n.length>0?this.trackSelectorlessMatchesAndDirectives(e,n):this.missingDirectives.add(e.componentName)}e.directives.forEach(n=>n.visit(this)),e.children.forEach(n=>n.visit(this))}visitDirective(e){if(this.directiveMatcher instanceof ou){let n=this.directiveMatcher.match(e.name);n.length>0?this.trackSelectorlessMatchesAndDirectives(e,n):this.missingDirectives.add(e.name)}}visitElementOrTemplate(e){if(this.directiveMatcher instanceof iu){let n=[],r=WA(e);this.directiveMatcher.match(r,(i,o)=>n.push(...o)),this.trackSelectorBasedBindingsAndDirectives(e,n)}else e.references.forEach(n=>{n.value.trim()===""&&this.references.set(n,e)});e.directives.forEach(n=>n.visit(this)),e.children.forEach(n=>n.visit(this))}trackMatchedDirectives(e,n){n.length>0&&(this.directives.set(e,n),this.isInDeferBlock||this.eagerDirectives.push(...n))}trackSelectorlessMatchesAndDirectives(e,n){if(n.length===0)return;this.trackMatchedDirectives(e,n);let r=(i,o,s)=>{i[s].hasBindingPropertyName(o.name)&&this.bindings.set(o,i)};for(let i of n)e.inputs.forEach(o=>r(i,o,"inputs")),e.attributes.forEach(o=>r(i,o,"inputs")),e.outputs.forEach(o=>r(i,o,"outputs"));e.references.forEach(i=>this.references.set(i,{directive:n[0],node:e}))}trackSelectorBasedBindingsAndDirectives(e,n){this.trackMatchedDirectives(e,n),e.references.forEach(i=>{let o=null;if(i.value.trim()==="")o=n.find(s=>s.isComponent)||null;else if(o=n.find(s=>s.exportAs!==null&&s.exportAs.some(a=>a===i.value))||null,o===null)return;o!==null?this.references.set(i,{directive:o,node:e}):this.references.set(i,e)});let r=(i,o)=>{let s=n.find(l=>l[o].hasBindingPropertyName(i.name)),a=s!==void 0?s:e;this.bindings.set(i,a)};e.inputs.forEach(i=>r(i,"inputs")),e.attributes.forEach(i=>r(i,"inputs")),e instanceof Yt&&e.templateAttrs.forEach(i=>r(i,"inputs")),e.outputs.forEach(i=>r(i,"outputs"))}visitVariable(e){}visitReference(e){}visitTextAttribute(e){}visitBoundAttribute(e){}visitBoundEvent(e){}visitBoundAttributeOrEvent(e){}visitText(e){}visitBoundText(e){}visitIcu(e){}visitDeferredTrigger(e){}visitUnknownBlock(e){}visitLetDeclaration(e){}},md=class t extends Mm{bindings;symbols;usedPipes;eagerPipes;deferBlocks;nestingLevel;scope;rootNode;level;visitNode=e=>e.visit(this);constructor(e,n,r,i,o,s,a,l,c){super(),this.bindings=e,this.symbols=n,this.usedPipes=r,this.eagerPipes=i,this.deferBlocks=o,this.nestingLevel=s,this.scope=a,this.rootNode=l,this.level=c}static applyWithScope(e,n,r,i,o,s,a,l){let c=e instanceof Yt?e:null;new t(r,i,s,a,l,o,n,c,0).ingest(e)}ingest(e){if(e instanceof Yt)e.variables.forEach(this.visitNode),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof Pi)e.expressionAlias!==null&&this.visitNode(e.expressionAlias),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof cs)this.visitNode(e.item),e.contextVariables.forEach(n=>this.visitNode(n)),e.trackBy.visit(this),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof Wi){if(this.scope.rootNode!==e)throw new Error(`Assertion error: resolved incorrect scope for deferred block ${e}`);this.deferBlocks.push([e,this.scope]),e.children.forEach(n=>n.visit(this)),this.nestingLevel.set(e,this.level)}else e instanceof rl||e instanceof il||e instanceof nl||e instanceof el||e instanceof tl||e instanceof us?(e.children.forEach(n=>n.visit(this)),this.nestingLevel.set(e,this.level)):e instanceof sl?this.nestingLevel.set(e,0):e.forEach(this.visitNode)}visitTemplate(e){e.inputs.forEach(this.visitNode),e.outputs.forEach(this.visitNode),e.directives.forEach(this.visitNode),e.templateAttrs.forEach(this.visitNode),e.references.forEach(this.visitNode),this.ingestScopedNode(e)}visitVariable(e){this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitReference(e){this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitDeferredBlock(e){this.ingestScopedNode(e),e.triggers.when?.value.visit(this),e.prefetchTriggers.when?.value.visit(this),e.hydrateTriggers.when?.value.visit(this),e.hydrateTriggers.never?.visit(this),e.placeholder&&this.visitNode(e.placeholder),e.loading&&this.visitNode(e.loading),e.error&&this.visitNode(e.error)}visitDeferredBlockPlaceholder(e){this.ingestScopedNode(e)}visitDeferredBlockError(e){this.ingestScopedNode(e)}visitDeferredBlockLoading(e){this.ingestScopedNode(e)}visitSwitchBlockCase(e){e.expression?.visit(this),this.ingestScopedNode(e)}visitForLoopBlock(e){e.expression.visit(this),this.ingestScopedNode(e),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.ingestScopedNode(e)}visitIfBlockBranch(e){e.expression?.visit(this),this.ingestScopedNode(e)}visitContent(e){this.ingestScopedNode(e)}visitLetDeclaration(e){super.visitLetDeclaration(e),this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitPipe(e,n){return this.usedPipes.add(e.name),this.scope.isDeferred||this.eagerPipes.add(e.name),super.visitPipe(e,n)}visitPropertyRead(e,n){return this.maybeMap(e,e.name),super.visitPropertyRead(e,n)}visitSafePropertyRead(e,n){return this.maybeMap(e,e.name),super.visitSafePropertyRead(e,n)}ingestScopedNode(e){let n=this.scope.getChildScope(e);new t(this.bindings,this.symbols,this.usedPipes,this.eagerPipes,this.deferBlocks,this.nestingLevel,n,e,this.level+1).ingest(e)}maybeMap(e,n){if(!(e.receiver instanceof nr)||e.receiver instanceof Gi)return;let r=this.scope.lookup(n);r!==null&&this.bindings.set(e,r)}},Lm=class{target;directives;eagerDirectives;missingDirectives;bindings;references;exprTargets;symbols;nestingLevel;scopedNodeEntities;usedPipes;eagerPipes;deferredBlocks;deferredScopes;constructor(e,n,r,i,o,s,a,l,c,d,p,h,g){this.target=e,this.directives=n,this.eagerDirectives=r,this.missingDirectives=i,this.bindings=o,this.references=s,this.exprTargets=a,this.symbols=l,this.nestingLevel=c,this.scopedNodeEntities=d,this.usedPipes=p,this.eagerPipes=h,this.deferredBlocks=g.map(v=>v[0]),this.deferredScopes=new Map(g)}getEntitiesInScope(e){return this.scopedNodeEntities.get(e)??new Set}getDirectivesOfNode(e){return this.directives.get(e)||null}getReferenceTarget(e){return this.references.get(e)||null}getConsumerOfBinding(e){return this.bindings.get(e)||null}getExpressionTarget(e){return this.exprTargets.get(e)||null}getDefinitionNodeOfSymbol(e){return this.symbols.get(e)||null}getNestingLevel(e){return this.nestingLevel.get(e)||0}getUsedDirectives(){let e=new Set;return this.directives.forEach(n=>n.forEach(r=>e.add(r))),Array.from(e.values())}getEagerlyUsedDirectives(){let e=new Set(this.eagerDirectives);return Array.from(e.values())}getUsedPipes(){return Array.from(this.usedPipes)}getEagerlyUsedPipes(){return Array.from(this.eagerPipes)}getDeferBlocks(){return this.deferredBlocks}getDeferredTriggerTarget(e,n){if(!(n instanceof Au)&&!(n instanceof bu)&&!(n instanceof Du))return null;let r=n.reference;if(r===null){let o=null;if(e.placeholder!==null){for(let s of e.placeholder.children)if(!(s instanceof yd)){if(o!==null)return null;s instanceof rr&&(o=s)}}return o}let i=this.findEntityInScope(e,r);if(i instanceof ol&&this.getDefinitionNodeOfSymbol(i)!==e){let o=this.getReferenceTarget(i);if(o!==null)return this.referenceTargetToElement(o)}if(e.placeholder!==null){let o=this.findEntityInScope(e.placeholder,r),s=o instanceof ol?this.getReferenceTarget(o):null;if(s!==null)return this.referenceTargetToElement(s)}return null}isDeferred(e){for(let n of this.deferredBlocks){if(!this.deferredScopes.has(n))continue;let r=[this.deferredScopes.get(n)];for(;r.length>0;){let i=r.pop();if(i.elementLikeInScope.has(e))return!0;r.push(...i.childScopes.values())}}return!1}referencedDirectiveExists(e){return!this.missingDirectives.has(e)}findEntityInScope(e,n){let r=this.getEntitiesInScope(e);for(let i of r)if(i.name===n)return i;return null}referenceTargetToElement(e){return e instanceof rr?e:e instanceof Yt||e.node instanceof Na||e.node instanceof JE||e.node instanceof sl?null:this.referenceTargetToElement(e.node)}};function UL(t,e){let n=new Map;function r(o){if(n.has(o.rootNode))return n.get(o.rootNode);let s=o.namedEntities,a;return o.parentScope!==null?a=new Map([...r(o.parentScope),...s]):a=new Map(s),n.set(o.rootNode,a),a}let i=[t];for(;i.length>0;){let o=i.pop();for(let s of o.childScopes.values())i.push(s);r(o)}for(let[o,s]of n)e.set(o,new Set(s.values()))}var Fm=class{},Om=class{jitEvaluator;FactoryTarget=_r;ResourceLoader=Fm;elementSchemaRegistry=new _s;constructor(e=new Uh){this.jitEvaluator=e}compilePipe(e,n,r){let i={name:r.name,type:Je(r.type),typeArgumentCount:0,deps:null,pipeName:r.pipeName,pure:r.pure,isStandalone:r.isStandalone},o=T_(i);return this.jitExpression(o.expression,e,n,[])}compilePipeDeclaration(e,n,r){let i=iF(r),o=T_(i);return this.jitExpression(o.expression,e,n,[])}compileInjectable(e,n,r){let{expression:i,statements:o}=h_({name:r.name,type:Je(r.type),typeArgumentCount:r.typeArgumentCount,providedIn:$E(r.providedIn),useClass:qo(r,"useClass"),useFactory:VE(r,"useFactory"),useValue:qo(r,"useValue"),useExisting:qo(r,"useExisting"),deps:r.deps?.map(_w)},!0);return this.jitExpression(i,e,n,o)}compileInjectableDeclaration(e,n,r){let{expression:i,statements:o}=h_({name:r.type.name,type:Je(r.type),typeArgumentCount:0,providedIn:$E(r.providedIn),useClass:qo(r,"useClass"),useFactory:VE(r,"useFactory"),useValue:qo(r,"useValue"),useExisting:qo(r,"useExisting"),deps:r.deps?.map(UE)},!0);return this.jitExpression(i,e,n,o)}compileInjector(e,n,r){let i={name:r.name,type:Je(r.type),providers:r.providers&&r.providers.length>0?new pe(r.providers):null,imports:r.imports.map(s=>new pe(s))},o=S_(i);return this.jitExpression(o.expression,e,n,[])}compileInjectorDeclaration(e,n,r){let i=oF(r),o=S_(i);return this.jitExpression(o.expression,e,n,[])}compileNgModule(e,n,r){let i={kind:jr.Global,type:Je(r.type),bootstrap:r.bootstrap.map(Je),declarations:r.declarations.map(Je),publicDeclarationTypes:null,imports:r.imports.map(Je),includeImportTypes:!0,exports:r.exports.map(Je),selectorScopeMode:Vu.Inline,containsForwardDecls:!1,schemas:r.schemas?r.schemas.map(Je):null,id:r.id?new pe(r.id):null},o=mb(i);return this.jitExpression(o.expression,e,n,[])}compileNgModuleDeclaration(e,n,r){let i=gb(r);return this.jitExpression(i,e,n,[])}compileDirective(e,n,r){let i=OE(r);return this.compileDirectiveFromMeta(e,n,i)}compileDirectiveDeclaration(e,n,r){let i=this.createParseSourceSpan("Directive",r.type.name,n),o=vw(r,i);return this.compileDirectiveFromMeta(e,n,o)}compileDirectiveFromMeta(e,n,r){let i=new mu,o=pd(),s=AL(r,i,o);return this.jitExpression(s.expression,e,n,i.statements)}compileComponent(e,n,r){let{template:i,interpolation:o,defer:s}=yw(r.template,r.name,n,r.preserveWhitespaces,r.interpolation,void 0),a=U(I(I({},r),OE(r)),{selector:r.selector||this.elementSchemaRegistry.getDefaultComponentElementName(),template:i,declarations:r.declarations.map(zL),declarationListEmitMode:0,defer:s,styles:[...r.styles,...i.styles],encapsulation:r.encapsulation,interpolation:o,changeDetection:r.changeDetection??null,animations:r.animations!=null?new pe(r.animations):null,viewProviders:r.viewProviders!=null?new pe(r.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0,relativeTemplatePath:null}),l=`ng:///${r.name}.js`;return this.compileComponentFromMeta(e,l,a)}compileComponentDeclaration(e,n,r){let i=this.createParseSourceSpan("Component",r.type.name,n),o=GL(r,i,n);return this.compileComponentFromMeta(e,n,o)}compileComponentFromMeta(e,n,r){let i=new mu,o=pd(r.interpolation),s=bL(r,i,o);return this.jitExpression(s.expression,e,n,i.statements)}compileFactory(e,n,r){let i=Ti({name:r.name,type:Je(r.type),typeArgumentCount:r.typeArgumentCount,deps:YL(r.deps),target:r.target});return this.jitExpression(i.expression,e,n,i.statements)}compileFactoryDeclaration(e,n,r){let i=Ti({name:r.type.name,type:Je(r.type),typeArgumentCount:0,deps:Array.isArray(r.deps)?r.deps.map(UE):r.deps,target:r.target});return this.jitExpression(i.expression,e,n,i.statements)}createParseSourceSpan(e,n,r){return lb(e,n,r)}jitExpression(e,n,r,i){let o=[...i,new Xe("$def",e,void 0,dt.Exported)];return this.jitEvaluator.evaluateStatements(r,o,new qh(n),!0).$def}};function LE(t){return U(I({},t),{isSignal:t.isSignal,predicate:gw(t.predicate),read:t.read?new pe(t.read):null,static:t.static,emitDistinctChangesOnly:t.emitDistinctChangesOnly})}function FE(t){return{propertyName:t.propertyName,first:t.first??!1,predicate:gw(t.predicate),descendants:t.descendants??!1,read:t.read?new pe(t.read):null,static:t.static??!1,emitDistinctChangesOnly:t.emitDistinctChangesOnly??!0,isSignal:!!t.isSignal}}function gw(t){return Array.isArray(t)?t:Gm(new pe(t),1)}function OE(t){let e=rF(t.inputs||[]),n=mh(t.outputs||[]),r=t.propMetadata,i={},o={};for(let a in r)r.hasOwnProperty(a)&&r[a].forEach(l=>{QL(l)?i[a]={bindingPropertyName:l.alias||a,classPropertyName:a,required:l.required||!1,isSignal:!!l.isSignal,transformFunction:l.transform!=null?new pe(l.transform):null}:eF(l)&&(o[a]=l.alias||a)});let s=t.hostDirectives?.length?t.hostDirectives.map(a=>typeof a=="function"?{directive:Je(a),inputs:null,outputs:null,isForwardReference:!1}:{directive:Je(a.directive),isForwardReference:!1,inputs:a.inputs?mh(a.inputs):null,outputs:a.outputs?mh(a.outputs):null}):null;return U(I({},t),{typeArgumentCount:0,typeSourceSpan:t.typeSourceSpan,type:Je(t.type),deps:null,host:I({},KL(t.propMetadata,t.typeSourceSpan,t.host)),inputs:I(I({},e),i),outputs:I(I({},n),o),queries:t.queries.map(LE),providers:t.providers!=null?new pe(t.providers):null,viewQueries:t.viewQueries.map(LE),fullInheritance:!1,hostDirectives:s})}function vw(t,e){let n=t.hostDirectives?.length?t.hostDirectives.map(r=>({directive:Je(r.directive),isForwardReference:!1,inputs:r.inputs?BE(r.inputs):null,outputs:r.outputs?BE(r.outputs):null})):null;return{name:t.type.name,type:Je(t.type),typeSourceSpan:e,selector:t.selector??null,inputs:t.inputs?tF(t.inputs):{},outputs:t.outputs??{},host:HL(t.host),queries:(t.queries??[]).map(FE),viewQueries:(t.viewQueries??[]).map(FE),providers:t.providers!==void 0?new pe(t.providers):null,exportAs:t.exportAs??null,usesInheritance:t.usesInheritance??!1,lifecycle:{usesOnChanges:t.usesOnChanges??!1},deps:null,typeArgumentCount:0,fullInheritance:!1,isStandalone:t.isStandalone??YE(t.version),isSignal:t.isSignal??!1,hostDirectives:n}}function HL(t={}){return{attributes:qL(t.attributes??{}),listeners:t.listeners??{},properties:t.properties??{},specialAttributes:{classAttr:t.classAttribute,styleAttr:t.styleAttribute}}}function BE(t){let e=null;for(let n=1;n<t.length;n+=2)e=e||{},e[t[n-1]]=t[n];return e}function qL(t){let e={};for(let n of Object.keys(t))e[n]=new pe(t[n]);return e}function GL(t,e,n){let{template:r,interpolation:i,defer:o}=yw(t.template,t.type.name,n,t.preserveWhitespaces??!1,t.interpolation,t.deferBlockDependencies),s=[];if(t.dependencies)for(let l of t.dependencies)switch(l.kind){case"directive":case"component":s.push(hh(l));break;case"pipe":s.push(jL(l));break}else(t.components||t.directives||t.pipes)&&(t.components&&s.push(...t.components.map(l=>hh(l,!0))),t.directives&&s.push(...t.directives.map(l=>hh(l))),t.pipes&&s.push(...WL(t.pipes)));let a=s.some(({kind:l})=>l===ps.Directive||l===ps.NgModule);return U(I({},vw(t,e)),{template:r,styles:t.styles??[],declarations:s,viewProviders:t.viewProviders!==void 0?new pe(t.viewProviders):null,animations:t.animations!==void 0?new pe(t.animations):null,defer:o,changeDetection:t.changeDetection??Vm.Default,encapsulation:t.encapsulation??Si.Emulated,interpolation:i,declarationListEmitMode:2,relativeContextFilePath:"",i18nUseExternalIds:!0,relativeTemplatePath:null,hasDirectiveDependencies:a})}function zL(t){return U(I({},t),{type:new pe(t.type)})}function hh(t,e=null){return{kind:ps.Directive,isComponent:e||t.kind==="component",selector:t.selector,type:new pe(t.type),inputs:t.inputs??[],outputs:t.outputs??[],exportAs:t.exportAs??null}}function WL(t){return t?Object.keys(t).map(e=>({kind:ps.Pipe,name:e,type:new pe(t[e])})):[]}function jL(t){return{kind:ps.Pipe,name:t.name,type:new pe(t.type)}}function yw(t,e,n,r,i,o){let s=i?Ru.fromArray(i):Xn,a=TL(t,n,{preserveWhitespaces:r,interpolationConfig:s});if(a.errors!==null){let d=a.errors.map(p=>p.toString()).join(", ");throw new Error(`Errors during JIT compilation of template for ${e}: ${d}`)}let c=new Pm(null).bind({template:a.nodes});return{template:a,interpolation:s,defer:JL(c,o)}}function qo(t,e){if(t.hasOwnProperty(e))return Gm(new pe(t[e]),0)}function VE(t,e){if(t.hasOwnProperty(e))return new pe(t[e])}function $E(t){let e=typeof t=="function"?new pe(t):new ht(t??null);return Gm(e,0)}function YL(t){return t==null?null:t.map(_w)}function _w(t){let e=t.attribute!=null,n=t.token===null?null:new pe(t.token),r=e?new pe(t.attribute):n;return Ew(r,e,t.host,t.optional,t.self,t.skipSelf)}function UE(t){let e=t.attribute??!1,n=t.token===null?null:new pe(t.token);return Ew(n,e,t.host??!1,t.optional??!1,t.self??!1,t.skipSelf??!1)}function Ew(t,e,n,r,i,o){let s=e?T("unknown"):null;return{token:t,attributeNameType:s,host:n,optional:r,self:i,skipSelf:o}}function JL(t,e){let n=t.getDeferBlocks(),r=new Map;for(let i=0;i<n.length;i++){let o=e?.[i];r.set(n[i],o?new pe(o):null)}return{mode:0,blocks:r}}function KL(t,e,n){let r=OL(n||{}),i=BL(r,e);if(i.length)throw new Error(i.map(o=>o.msg).join(`
`));for(let o in t)t.hasOwnProperty(o)&&t[o].forEach(s=>{XL(s)?r.properties[s.hostPropertyName||o]=AA("this",o):ZL(s)&&(r.listeners[s.eventName||o]=`${o}(${(s.args||[]).join(",")})`)});return r}function XL(t){return t.ngMetadataName==="HostBinding"}function ZL(t){return t.ngMetadataName==="HostListener"}function QL(t){return t.ngMetadataName==="Input"}function eF(t){return t.ngMetadataName==="Output"}function tF(t){return Object.keys(t).reduce((e,n)=>{let r=t[n];return typeof r=="string"||Array.isArray(r)?e[n]=nF(r):e[n]={bindingPropertyName:r.publicName,classPropertyName:n,transformFunction:r.transformFunction!==null?new pe(r.transformFunction):null,required:r.isRequired,isSignal:r.isSignal},e},{})}function nF(t){return typeof t=="string"?{bindingPropertyName:t,classPropertyName:t,transformFunction:null,required:!1,isSignal:!1}:{bindingPropertyName:t[0],classPropertyName:t[1],transformFunction:t[2]?new pe(t[2]):null,required:!1,isSignal:!1}}function rF(t){return t.reduce((e,n)=>{if(typeof n=="string"){let[r,i]=Cw(n);e[i]={bindingPropertyName:r,classPropertyName:i,required:!1,isSignal:!1,transformFunction:null}}else e[n.name]={bindingPropertyName:n.alias||n.name,classPropertyName:n.name,required:n.required||!1,isSignal:!1,transformFunction:n.transform!=null?new pe(n.transform):null};return e},{})}function mh(t){return t.reduce((e,n)=>{let[r,i]=Cw(n);return e[i]=r,e},{})}function Cw(t){let[e,n]=t.split(":",2).map(r=>r.trim());return[n??e,e]}function iF(t){return{name:t.type.name,type:Je(t.type),typeArgumentCount:0,pipeName:t.name,deps:null,pure:t.pure??!0,isStandalone:t.isStandalone??YE(t.version)}}function oF(t){return{name:t.type.name,type:Je(t.type),providers:t.providers!==void 0&&t.providers.length>0?new pe(t.providers):null,imports:t.imports!==void 0?t.imports.map(e=>new pe(e)):[]}}function sF(t){let e=t.ng||(t.ng={});e.\u0275compilerFacade=new Om}var Bm=class{closedByParent=!1;implicitNamespacePrefix=null;isVoid=!1;ignoreFirstLf=!1;canSelfClose=!0;preventNamespaceInheritance=!1;requireExtraParent(e){return!1}isClosedByChild(e){return!1}getContentType(){return Kn.PARSABLE_DATA}},E9=new Bm;var C9=new Ch("20.3.9");sF(ka);var dg;function Td(){return dg}function ar(t){let e=dg;return dg=t,e}var ww=Symbol("NotFound");function Is(t){return t===ww||t?.name==="\u0275NotFound"}var Et=null,xd=!1,fg=1,aF=null,Ze=Symbol("SIGNAL");function oe(t){let e=Et;return Et=t,e}function bd(){return Et}var Qi={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function eo(t){if(xd)throw new Error("");if(Et===null)return;Et.consumerOnSignalRead(t);let e=Et.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=Et.recomputing;if(r&&(n=e!==void 0?e.nextProducer:Et.producers,n!==void 0&&n.producer===t)){Et.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===Et&&(!r||cF(i,Et)))return;let o=bs(Et),s={producer:t,consumer:Et,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};Et.producersTail=s,e!==void 0?e.nextProducer=s:Et.producers=s,o&&Iw(t,s)}function Sw(){fg++}function kd(t){if(!(bs(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===fg)){if(!t.producerMustRecompute(t)&&!As(t)){Ad(t);return}t.producerRecomputeValue(t),Ad(t)}}function pg(t){if(t.consumers===void 0)return;let e=xd;xd=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||lF(r)}}finally{xd=e}}function hg(){return Et?.consumerAllowSignalWrites!==!1}function lF(t){t.dirty=!0,pg(t),t.consumerMarkedDirty?.(t)}function Ad(t){t.dirty=!1,t.lastCleanEpoch=fg}function to(t){return t&&Tw(t),oe(t)}function Tw(t){t.producersTail=void 0,t.recomputing=!0}function Ds(t,e){oe(e),t&&xw(t)}function xw(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(bs(t))do n=mg(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function As(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(kd(n),r!==n.version))return!0}return!1}function no(t){if(bs(t)){let e=t.producers;for(;e!==void 0;)e=mg(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function Iw(t,e){let n=t.consumersTail,r=bs(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)Iw(i.producer,i)}function mg(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!bs(e)){let o=e.producers;for(;o!==void 0;)o=mg(o)}return n}function bs(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function Nd(t){aF?.(t)}function cF(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Md(t,e){return Object.is(t,e)}function Fl(t,e){let n=Object.create(uF);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(kd(n),eo(n),n.value===Ll)throw n.error;return n.value};return r[Ze]=n,Nd(n),r}var Id=Symbol("UNSET"),Dd=Symbol("COMPUTING"),Ll=Symbol("ERRORED"),uF=U(I({},Qi),{value:Id,dirty:!0,error:null,equal:Md,kind:"computed",producerMustRecompute(t){return t.value===Id||t.value===Dd},producerRecomputeValue(t){if(t.value===Dd)throw new Error("");let e=t.value;t.value=Dd;let n=to(t),r,i=!1;try{r=t.computation(),oe(null),i=e!==Id&&e!==Ll&&r!==Ll&&t.equal(e,r)}catch(o){r=Ll,t.error=o}finally{Ds(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function dF(){throw new Error}var Dw=dF;function Aw(t){Dw(t)}function gg(t){Dw=t}var fF=null;function vg(t,e){let n=Object.create(Pd);n.value=t,e!==void 0&&(n.equal=e);let r=()=>bw(n);return r[Ze]=n,Nd(n),[r,s=>ro(n,s),s=>yg(n,s)]}function bw(t){return eo(t),t.value}function ro(t,e){hg()||Aw(t),t.equal(t.value,e)||(t.value=e,pF(t))}function yg(t,e){hg()||Aw(t),ro(t,e(t.value))}var Pd=U(I({},Qi),{equal:Md,value:void 0,kind:"signal"});function pF(t){t.version++,Sw(),pg(t),fF?.(t)}function Te(t){return typeof t=="function"}function Rd(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ld=Rd(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ol(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var bt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Te(r))try{r()}catch(o){e=o instanceof Ld?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{kw(o)}catch(s){e=e??[],s instanceof Ld?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ld(e)}}add(e){var n;if(e&&e!==this)if(this.closed)kw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ol(n,e)}remove(e){let{_finalizers:n}=this;n&&Ol(n,e),e instanceof t&&e._removeParent(this)}};bt.EMPTY=(()=>{let t=new bt;return t.closed=!0,t})();var _g=bt.EMPTY;function Fd(t){return t instanceof bt||t&&"closed"in t&&Te(t.remove)&&Te(t.add)&&Te(t.unsubscribe)}function kw(t){Te(t)?t():t.unsubscribe()}var Bn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ks={setTimeout(t,e,...n){let{delegate:r}=ks;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ks;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Od(t){ks.setTimeout(()=>{let{onUnhandledError:e}=Bn;if(e)e(t);else throw t})}function Eg(){}var Nw=Cg("C",void 0,void 0);function Mw(t){return Cg("E",void 0,t)}function Pw(t){return Cg("N",t,void 0)}function Cg(t,e,n){return{kind:t,value:e,error:n}}var io=null;function Ns(t){if(Bn.useDeprecatedSynchronousErrorHandling){let e=!io;if(e&&(io={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=io;if(io=null,n)throw r}}else t()}function Rw(t){Bn.useDeprecatedSynchronousErrorHandling&&io&&(io.errorThrown=!0,io.error=t)}var oo=class extends bt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Fd(e)&&e.add(this)):this.destination=gF}static create(e,n,r){return new Ms(e,n,r)}next(e){this.isStopped?Sg(Pw(e),this):this._next(e)}error(e){this.isStopped?Sg(Mw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Sg(Nw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},hF=Function.prototype.bind;function wg(t,e){return hF.call(t,e)}var Tg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Bd(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Bd(r)}else Bd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Bd(n)}}},Ms=class extends oo{constructor(e,n,r){super();let i;if(Te(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Bn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&wg(e.next,o),error:e.error&&wg(e.error,o),complete:e.complete&&wg(e.complete,o)}):i=e}this.destination=new Tg(i)}};function Bd(t){Bn.useDeprecatedSynchronousErrorHandling?Rw(t):Od(t)}function mF(t){throw t}function Sg(t,e){let{onStoppedNotification:n}=Bn;n&&ks.setTimeout(()=>n(t,e))}var gF={closed:!0,next:Eg,error:mF,complete:Eg};var Ps=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Lw(t){return t}function Fw(t){return t.length===0?Lw:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Ge=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=yF(n)?n:new Ms(n,r,i);return Ns(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Ow(r),new r((i,o)=>{let s=new Ms({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ps](){return this}pipe(...n){return Fw(n)(this)}toPromise(n){return n=Ow(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Ow(t){var e;return(e=t??Bn.Promise)!==null&&e!==void 0?e:Promise}function vF(t){return t&&Te(t.next)&&Te(t.error)&&Te(t.complete)}function yF(t){return t&&t instanceof oo||vF(t)&&Fd(t)}function _F(t){return Te(t?.lift)}function Vt(t){return e=>{if(_F(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function En(t,e,n,r,i){return new xg(t,e,n,r,i)}var xg=class extends oo{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var Bw=Rd(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var si=(()=>{class t extends Ge{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Vd(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Bw}next(n){Ns(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ns(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ns(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?_g:(this.currentObservers=null,o.push(n),new bt(()=>{this.currentObservers=null,Ol(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Ge;return n.source=this,n}}return t.create=(e,n)=>new Vd(e,n),t})(),Vd=class extends si{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:_g}};var Bl=class extends si{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};function Vw(t){return t&&Te(t.schedule)}function EF(t){return t[t.length-1]}function $w(t){return Vw(EF(t))?t.pop():void 0}function Hw(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(p){s(p)}}function l(d){try{c(r.throw(d))}catch(p){s(p)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function Uw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function so(t){return this instanceof so?(this.v=t,this):new so(t)}function qw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(v){return Promise.resolve(v).then(g,p)}}function a(g,v){r[g]&&(i[g]=function(w){return new Promise(function(x,S){o.push([g,w,x,S])>1||l(g,w)})},v&&(i[g]=v(i[g])))}function l(g,v){try{c(r[g](v))}catch(w){h(o[0][3],w)}}function c(g){g.value instanceof so?Promise.resolve(g.value.v).then(d,p):h(o[0][2],g)}function d(g){l("next",g)}function p(g){l("throw",g)}function h(g,v){g(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Gw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Uw=="function"?Uw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var $d=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ud(t){return Te(t?.then)}function Hd(t){return Te(t[Ps])}function qd(t){return Symbol.asyncIterator&&Te(t?.[Symbol.asyncIterator])}function Gd(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function CF(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var zd=CF();function Wd(t){return Te(t?.[zd])}function jd(t){return qw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield so(n.read());if(i)return yield so(void 0);yield yield so(r)}}finally{n.releaseLock()}})}function Yd(t){return Te(t?.getReader)}function Cn(t){if(t instanceof Ge)return t;if(t!=null){if(Hd(t))return wF(t);if($d(t))return SF(t);if(Ud(t))return TF(t);if(qd(t))return zw(t);if(Wd(t))return xF(t);if(Yd(t))return IF(t)}throw Gd(t)}function wF(t){return new Ge(e=>{let n=t[Ps]();if(Te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function SF(t){return new Ge(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function TF(t){return new Ge(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Od)})}function xF(t){return new Ge(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function zw(t){return new Ge(e=>{DF(t,e).catch(n=>e.error(n))})}function IF(t){return zw(jd(t))}function DF(t,e){var n,r,i,o;return Hw(this,void 0,void 0,function*(){try{for(n=Gw(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function wn(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Jd(t,e=0){return Vt((n,r)=>{n.subscribe(En(r,i=>wn(r,t,()=>r.next(i),e),()=>wn(r,t,()=>r.complete(),e),i=>wn(r,t,()=>r.error(i),e)))})}function Kd(t,e=0){return Vt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Ww(t,e){return Cn(t).pipe(Kd(e),Jd(e))}function jw(t,e){return Cn(t).pipe(Kd(e),Jd(e))}function Yw(t,e){return new Ge(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Jw(t,e){return new Ge(n=>{let r;return wn(n,e,()=>{r=t[zd](),wn(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Te(r?.return)&&r.return()})}function Xd(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ge(n=>{wn(n,e,()=>{let r=t[Symbol.asyncIterator]();wn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Kw(t,e){return Xd(jd(t),e)}function Xw(t,e){if(t!=null){if(Hd(t))return Ww(t,e);if($d(t))return Yw(t,e);if(Ud(t))return jw(t,e);if(qd(t))return Xd(t,e);if(Wd(t))return Jw(t,e);if(Yd(t))return Kw(t,e)}throw Gd(t)}function Zw(t,e){return e?Xw(t,e):Cn(t)}function Zd(...t){let e=$w(t);return Zw(t,e)}function lr(t,e){return Vt((n,r)=>{let i=0;n.subscribe(En(r,o=>{r.next(t.call(e,o,i++))}))})}function Qw(t,e,n,r,i,o,s,a){let l=[],c=0,d=0,p=!1,h=()=>{p&&!l.length&&!c&&e.complete()},g=w=>c<r?v(w):l.push(w),v=w=>{o&&e.next(w),c++;let x=!1;Cn(n(w,d++)).subscribe(En(e,S=>{i?.(S),o?g(S):e.next(S)},()=>{x=!0},void 0,()=>{if(x)try{for(c--;l.length&&c<r;){let S=l.shift();s?wn(e,s,()=>v(S)):v(S)}h()}catch(S){e.error(S)}}))};return t.subscribe(En(e,g,()=>{p=!0,h()})),()=>{a?.()}}function Qd(t,e,n=1/0){return Te(e)?Qd((r,i)=>lr((o,s)=>e(r,o,i,s))(Cn(t(r,i))),n):(typeof e=="number"&&(n=e),Vt((r,i)=>Qw(r,i,t,n)))}function Ig(t,e){return Vt((n,r)=>{let i=0;n.subscribe(En(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Dg(t,e){return Te(e)?Qd(t,e,1):Qd(t,1)}function Ag(t){return Vt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function bg(t,e){return Vt((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(En(r,l=>{i?.unsubscribe();let c=0,d=o++;Cn(t(l,d)).subscribe(i=En(r,p=>r.next(e?e(l,p,d,c++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}var eS=U(I({},Qi),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function tS(t){if(t.dirty=!1,t.version>0&&!As(t))return;t.version++;let e=to(t);try{t.cleanup(),t.fn()}finally{Ds(t,e)}}var of="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",ie=class extends Error{code;constructor(e,n){super(Fs(e,n)),this.code=e}};function AF(t){return`NG0${Math.abs(t)}`}function Fs(t,e){return`${AF(t)}${e?": "+e:""}`}function Pe(t){for(let e in t)if(t[e]===Pe)return e;throw Error("")}function ai(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(ai).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Ug(t,e){return t?e?`${t} ${e}`:t:e||""}var bF=Pe({__forward_ref__:Pe});function sf(t){return t.__forward_ref__=sf,t.toString=function(){return ai(this())},t}function en(t){return iS(t)?t():t}function iS(t){return typeof t=="function"&&t.hasOwnProperty(bF)&&t.__forward_ref__===sf}function Se(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Os(t){return{providers:t.providers||[],imports:t.imports||[]}}function af(t){return kF(t,lf)}function kF(t,e){return t.hasOwnProperty(e)&&t[e]||null}function NF(t){let e=t?.[lf]??null;return e||null}function Ng(t){return t&&t.hasOwnProperty(tf)?t[tf]:null}var lf=Pe({\u0275prov:Pe}),tf=Pe({\u0275inj:Pe}),he=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Se({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Hg(t){return t&&!!t.\u0275providers}var qg=Pe({\u0275cmp:Pe}),Gg=Pe({\u0275dir:Pe}),zg=Pe({\u0275pipe:Pe});var Mg=Pe({\u0275fac:Pe}),uo=Pe({__NG_ELEMENT_ID__:Pe}),nS=Pe({__NG_ENV_ID__:Pe});function Hl(t){return typeof t=="string"?t:t==null?"":String(t)}function oS(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Hl(t)}var sS=Pe({ngErrorCode:Pe}),MF=Pe({ngErrorMessage:Pe}),PF=Pe({ngTokenPath:Pe});function Wg(t,e){return aS("",-200,e)}function cf(t,e){throw new ie(-201,!1)}function aS(t,e,n){let r=new ie(e,t);return r[sS]=e,r[MF]=t,n&&(r[PF]=n),r}function RF(t){return t[sS]}var Pg;function lS(){return Pg}function Qt(t){let e=Pg;return Pg=t,e}function jg(t,e,n){let r=af(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;cf(t,"Injector")}var LF={},ao=LF,FF="__NG_DI_FLAG__",Rg=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=lo(n)||0;try{return this.injector.get(e,r&8?null:ao,r)}catch(i){if(Is(i))return i;throw i}}};function OF(t,e=0){let n=Td();if(n===void 0)throw new ie(-203,!1);if(n===null)return jg(t,void 0,e);{let r=BF(e),i=n.retrieve(t,r);if(Is(i)){if(r.optional)return null;throw i}return i}}function Ee(t,e=0){return(lS()||OF)(en(t),e)}function K(t,e){return Ee(t,lo(e))}function lo(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function BF(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Lg(t){let e=[];for(let n=0;n<t.length;n++){let r=en(t[n]);if(Array.isArray(r)){if(r.length===0)throw new ie(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],l=VF(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(Ee(i,o))}else e.push(Ee(r))}return e}function VF(t){return t[FF]}function Ls(t,e){let n=t.hasOwnProperty(Mg);return n?t[Mg]:null}function cS(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function uS(t){return t.flat(Number.POSITIVE_INFINITY)}function uf(t,e){t.forEach(n=>Array.isArray(n)?uf(n,e):e(n))}function Yg(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ql(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function dS(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function fS(t,e,n){let r=Bs(t,e);return r>=0?t[r|1]=n:(r=~r,dS(t,r,e,n)),r}function df(t,e){let n=Bs(t,e);if(n>=0)return t[n|1]}function Bs(t,e){return $F(t,e,1)}function $F(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var fo={},tn=[],po=new he(""),Jg=new he("",-1),Kg=new he(""),$l=class{get(e,n=ao){if(n===ao){let i=aS("",-201);throw i.name="\u0275NotFound",i}return n}};function ho(t){return t[qg]||null}function Xg(t){return t[Gg]||null}function pS(t){return t[zg]||null}function Gl(t){return{\u0275providers:t}}function hS(...t){return{\u0275providers:Zg(!0,t),\u0275fromNgModule:!0}}function Zg(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return uf(e,s=>{let a=s;nf(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&mS(i,o),n}function mS(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Qg(i,o=>{e(o,r)})}}function nf(t,e,n,r){if(t=en(t),!t)return!1;let i=null,o=Ng(t),s=!o&&ho(t);if(!o&&!s){let l=t.ngModule;if(o=Ng(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)nf(c,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{uf(o.imports,d=>{nf(d,e,n,r)&&(c||=[],c.push(d))})}finally{}c!==void 0&&mS(c,e)}if(!a){let c=Ls(i)||(()=>new i);e({provide:i,useFactory:c,deps:tn},i),e({provide:Kg,useValue:i,multi:!0},i),e({provide:po,useValue:()=>Ee(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=t;Qg(l,d=>{e(d,c)})}}else return!1;return i!==t&&t.providers!==void 0}function Qg(t,e){for(let n of t)Hg(n)&&(n=n.\u0275providers),Array.isArray(n)?Qg(n,e):e(n)}var UF=Pe({provide:String,useValue:Pe});function gS(t){return t!==null&&typeof t=="object"&&UF in t}function HF(t){return!!(t&&t.useExisting)}function qF(t){return!!(t&&t.useFactory)}function rf(t){return typeof t=="function"}var zl=new he(""),ef={},rS={},kg;function Wl(){return kg===void 0&&(kg=new $l),kg}var $t=class{},co=class extends $t{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Og(e,s=>this.processProvider(s)),this.records.set(Jg,Rs(void 0,this)),i.has("environment")&&this.records.set($t,Rs(void 0,this));let o=this.records.get(zl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Kg,tn,{self:!0}))}retrieve(e,n){let r=lo(n)||0;try{return this.get(e,ao,r)}catch(i){if(Is(i))return i;throw i}}destroy(){Vl(this),this._destroyed=!0;let e=oe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),oe(e)}}onDestroy(e){return Vl(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Vl(this);let n=ar(this),r=Qt(void 0),i;try{return e()}finally{ar(n),Qt(r)}}get(e,n=ao,r){if(Vl(this),e.hasOwnProperty(nS))return e[nS](this);let i=lo(r),o,s=ar(this),a=Qt(void 0);try{if(!(i&4)){let c=this.records.get(e);if(c===void 0){let d=YF(e)&&af(e);d&&this.injectableDefInScope(d)?c=Rs(Fg(e),ef):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,i)}let l=i&2?Wl():this.parent;return n=i&8&&n===ao?null:n,l.get(e,n)}catch(l){let c=RF(l);throw c===-200||c===-201?new ie(c,null):l}finally{Qt(a),ar(s)}}resolveInjectorInitializers(){let e=oe(null),n=ar(this),r=Qt(void 0),i;try{let o=this.get(po,tn,{self:!0});for(let s of o)s()}finally{ar(n),Qt(r),oe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ai(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=en(e);let n=rf(e)?e:en(e&&e.provide),r=zF(e);if(!rf(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Rs(void 0,ef,!0),i.factory=()=>Lg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=oe(null);try{if(n.value===rS)throw Wg(ai(e));return n.value===ef&&(n.value=rS,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&jF(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{oe(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=en(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Fg(t){let e=af(t),n=e!==null?e.factory:Ls(t);if(n!==null)return n;if(t instanceof he)throw new ie(204,!1);if(t instanceof Function)return GF(t);throw new ie(204,!1)}function GF(t){if(t.length>0)throw new ie(204,!1);let n=NF(t);return n!==null?()=>n.factory(t):()=>new t}function zF(t){if(gS(t))return Rs(void 0,t.useValue);{let e=vS(t);return Rs(e,ef)}}function vS(t,e,n){let r;if(rf(t)){let i=en(t);return Ls(i)||Fg(i)}else if(gS(t))r=()=>en(t.useValue);else if(qF(t))r=()=>t.useFactory(...Lg(t.deps||[]));else if(HF(t))r=(i,o)=>Ee(en(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=en(t&&(t.useClass||t.provide));if(WF(t))r=()=>new i(...Lg(t.deps));else return Ls(i)||Fg(i)}return r}function Vl(t){if(t.destroyed)throw new ie(205,!1)}function Rs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function WF(t){return!!t.deps}function jF(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function YF(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Og(t,e){for(let n of t)Array.isArray(n)?Og(n,e):n&&Hg(n)?Og(n.\u0275providers,e):e(n)}function Vs(t,e){let n;t instanceof co?(Vl(t),n=t):n=new Rg(t);let r,i=ar(n),o=Qt(void 0);try{return e()}finally{ar(i),Qt(o)}}function yS(){return lS()!==void 0||Td()!=null}var $n=0,ne=1,se=2,Qe=3,Tn=4,xn=5,$s=6,Us=7,qe=8,ci=9,cr=10,Ve=11,Hs=12,ev=13,mo=14,nn=15,ui=16,go=17,ur=18,jl=19,tv=20,Nr=21,ff=22,Pr=23,rn=24,pf=25,vo=26,gt=27,_S=1,nv=6,di=7,Yl=8,yo=9,je=10;function dr(t){return Array.isArray(t)&&typeof t[_S]=="object"}function Un(t){return Array.isArray(t)&&t[_S]===!0}function rv(t){return(t.flags&4)!==0}function _o(t){return t.componentOffset>-1}function hf(t){return(t.flags&1)===1}function Eo(t){return!!t.template}function qs(t){return(t[se]&512)!==0}function Co(t){return(t[se]&256)===256}var iv="svg",ES="math";function In(t){for(;Array.isArray(t);)t=t[$n];return t}function ov(t,e){return In(e[t])}function Hn(t,e){return In(e[t.index])}function Jl(t,e){return t.data[e]}function qn(t,e){let n=e[t];return dr(n)?n:n[$n]}function mf(t){return(t[se]&128)===128}function CS(t){return Un(t[Qe])}function fr(t,e){return e==null?null:t[e]}function sv(t){t[go]=0}function av(t){t[se]&1024||(t[se]|=1024,mf(t)&&wo(t))}function wS(t,e){for(;t>0;)e=e[mo],t--;return e}function Kl(t){return!!(t[se]&9216||t[rn]?.dirty)}function gf(t){t[cr].changeDetectionScheduler?.notify(8),t[se]&64&&(t[se]|=1024),Kl(t)&&wo(t)}function wo(t){t[cr].changeDetectionScheduler?.notify(0);let e=li(t);for(;e!==null&&!(e[se]&8192||(e[se]|=8192,!mf(e)));)e=li(e)}function lv(t,e){if(Co(t))throw new ie(911,!1);t[Nr]===null&&(t[Nr]=[]),t[Nr].push(e)}function SS(t,e){if(t[Nr]===null)return;let n=t[Nr].indexOf(e);n!==-1&&t[Nr].splice(n,1)}function li(t){let e=t[Qe];return Un(e)?e[Qe]:e}function cv(t){return t[Us]??=[]}function uv(t){return t.cleanup??=[]}function TS(t,e,n,r){let i=cv(e);i.push(n),t.firstCreatePass&&uv(t).push(r,i.length-1)}var me={lFrame:$S(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Bg=!1;function xS(){return me.lFrame.elementDepthCount}function IS(){me.lFrame.elementDepthCount++}function dv(){me.lFrame.elementDepthCount--}function DS(){return me.bindingsEnabled}function AS(){return me.skipHydrationRootTNode!==null}function fv(t){return me.skipHydrationRootTNode===t}function pv(){me.skipHydrationRootTNode=null}function ye(){return me.lFrame.lView}function Ct(){return me.lFrame.tView}function L(t){return me.lFrame.contextLView=t,t[qe]}function F(t){return me.lFrame.contextLView=null,t}function kt(){let t=hv();for(;t!==null&&t.type===64;)t=t.parent;return t}function hv(){return me.lFrame.currentTNode}function bS(){let t=me.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Gs(t,e){let n=me.lFrame;n.currentTNode=t,n.isParent=e}function mv(){return me.lFrame.isParent}function kS(){me.lFrame.isParent=!1}function gv(){return Bg}function zs(t){let e=Bg;return Bg=t,e}function NS(){let t=me.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function MS(t){return me.lFrame.bindingIndex=t}function fi(){return me.lFrame.bindingIndex++}function PS(t){let e=me.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function RS(){return me.lFrame.inI18n}function LS(t,e){let n=me.lFrame;n.bindingIndex=n.bindingRootIndex=t,vf(e)}function FS(){return me.lFrame.currentDirectiveIndex}function vf(t){me.lFrame.currentDirectiveIndex=t}function OS(t){let e=me.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function BS(){return me.lFrame.currentQueryIndex}function yf(t){me.lFrame.currentQueryIndex=t}function JF(t){let e=t[ne];return e.type===2?e.declTNode:e.type===1?t[xn]:null}function vv(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=JF(o),i===null||(o=o[mo],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=me.lFrame=VS();return r.currentTNode=e,r.lView=t,!0}function _f(t){let e=VS(),n=t[ne];me.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function VS(){let t=me.lFrame,e=t===null?null:t.child;return e===null?$S(t):e}function $S(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function US(){let t=me.lFrame;return me.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var yv=US;function Ef(){let t=US();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function HS(t){return(me.lFrame.contextLView=wS(t,me.lFrame.contextLView))[qe]}function pi(){return me.lFrame.selectedIndex}function hi(t){me.lFrame.selectedIndex=t}function Xl(){let t=me.lFrame;return Jl(t.tView,t.selectedIndex)}function J(){me.lFrame.currentNamespace=iv}function et(){KF()}function KF(){me.lFrame.currentNamespace=null}function qS(){return me.lFrame.currentNamespace}var GS=!0;function Cf(){return GS}function wf(t){GS=t}function Vg(t,e=null,n=null,r){let i=zS(t,e,n,r);return i.resolveInjectorInitializers(),i}function zS(t,e=null,n=null,r,i=new Set){let o=[n||tn,hS(t)];return r=r||(typeof t=="object"?void 0:ai(t)),new co(o,e||Wl(),r||null,i)}var Mr=class t{static THROW_IF_NOT_FOUND=ao;static NULL=new $l;static create(e,n){if(Array.isArray(e))return Vg({name:""},n,e,"");{let r=e.name??"";return Vg({name:r},e.parent,e.providers,r)}}static \u0275prov=Se({token:t,providedIn:"any",factory:()=>Ee(Jg)});static __NG_ELEMENT_ID__=-1},on=new he(""),mi=(()=>{class t{static __NG_ELEMENT_ID__=XF;static __NG_ENV_ID__=n=>n}return t})(),Ul=class extends mi{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Co(this._lView)}onDestroy(e){let n=this._lView;return lv(n,e),()=>SS(n,e)}};function XF(){return new Ul(ye())}var Sn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Rr=new he("",{providedIn:"root",factory:()=>{let t=K($t),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(Sn),e.handleError(n))}}}),WS={provide:po,useValue:()=>void K(Sn),multi:!0};function _v(t){return typeof t=="function"&&t[Ze]!==void 0}function X(t,e){let[n,r,i]=vg(t,e?.equal),o=n,s=o[Ze];return o.set=r,o.update=i,o.asReadonly=Sf.bind(o),o}function Sf(){let t=this[Ze];if(t.readonlyFn===void 0){let e=()=>this();e[Ze]=t,t.readonlyFn=e}return t.readonlyFn}function Ev(t){return _v(t)&&typeof t.set=="function"}var Zl=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=ZF}return t})();function ZF(){return new Zl(ye(),kt())}var Vn=class{},Ql=new he("",{providedIn:"root",factory:()=>!1});var Cv=new he(""),Tf=new he(""),gi=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Bl(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Ge(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Se({token:t,providedIn:"root",factory:()=>new t})}return t})(),ec=(()=>{class t{internalPendingTasks=K(gi);scheduler=K(Vn);errorHandler=K(Rr);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=Se({token:t,providedIn:"root",factory:()=>new t})}return t})();function So(...t){}var tc=(()=>{class t{static \u0275prov=Se({token:t,providedIn:"root",factory:()=>new $g})}return t})(),$g=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function Wf(t){return{toString:t}.toString()}function aO(t){return typeof t=="function"}var Nf=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function ST(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function lO(t){return t.type.prototype.ngOnChanges&&(t.setInput=uO),cO}function cO(){let t=xT(this),e=t?.current;if(e){let n=t.previous;if(n===fo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function uO(t,e,n,r,i){let o=this.declaredInputs[r],s=xT(t)||dO(t,{previous:fo,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Nf(c&&c.currentValue,n,l===fo),ST(t,e,i,n)}var TT="__ngSimpleChanges__";function xT(t){return t[TT]||null}function dO(t,e){return t[TT]=e}var jS=[];var Le=function(t,e=null,n){for(let r=0;r<jS.length;r++){let i=jS[r];i(t,e,n)}};function fO(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=lO(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function pO(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function If(t,e,n){IT(t,e,3,n)}function Df(t,e,n,r){(t[se]&3)===n&&IT(t,e,n,r)}function wv(t,e){let n=t[se];(n&3)===e&&(n&=16383,n+=1,t[se]=n)}function IT(t,e,n,r){let i=r!==void 0?t[go]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[go]+=65536),(a<o||o==-1)&&(hO(t,n,e,l),t[go]=(t[go]&4294901760)+l+2),l++}function YS(t,e){Le(4,t,e);let n=oe(null);try{e.call(t)}finally{oe(n),Le(5,t,e)}}function hO(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[se]>>14<t[go]>>16&&(t[se]&3)===e&&(t[se]+=16384,YS(a,o)):YS(a,o)}var js=-1,ic=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function mO(t){return(t.flags&8)!==0}function gO(t){return(t.flags&16)!==0}function vO(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];_O(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function yO(t){return t===3||t===4||t===6}function _O(t){return t.charCodeAt(0)===64}function jf(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?JS(t,n,i,null,e[++r]):JS(t,n,i,null,null))}}return t}function JS(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function DT(t){return t!==js}function Mf(t){return t&32767}function EO(t){return t>>16}function Pf(t,e){let n=EO(t),r=e;for(;n>0;)r=r[mo],n--;return r}var bv=!0;function KS(t){let e=bv;return bv=t,e}var CO=256,AT=CO-1,bT=5,wO=0,pr={};function SO(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(uo)&&(r=n[uo]),r==null&&(r=n[uo]=wO++);let i=r&AT,o=1<<i;e.data[t+(i>>bT)]|=o}function kT(t,e){let n=NT(t,e);if(n!==-1)return n;let r=e[ne];r.firstCreatePass&&(t.injectorIndex=e.length,Sv(r.data,t),Sv(e,null),Sv(r.blueprint,null));let i=ry(t,e),o=t.injectorIndex;if(DT(i)){let s=Mf(i),a=Pf(i,e),l=a[ne].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function Sv(t,e){t.push(0,0,0,0,0,0,0,0,e)}function NT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function ry(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=FT(i),r===null)return js;if(n++,i=i[mo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return js}function TO(t,e,n){SO(t,e,n)}function MT(t,e,n){if(n&8||t!==void 0)return t;cf(e,"NodeInjector")}function PT(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[ci],o=Qt(void 0);try{return i?i.get(e,r,n&8):jg(e,r,n&8)}finally{Qt(o)}}return MT(r,e,n)}function RT(t,e,n,r=0,i){if(t!==null){if(e[se]&2048&&!(r&2)){let s=AO(t,e,n,r,pr);if(s!==pr)return s}let o=LT(t,e,n,r,pr);if(o!==pr)return o}return PT(e,n,r,i)}function LT(t,e,n,r,i){let o=IO(n);if(typeof o=="function"){if(!vv(e,t,r))return r&1?MT(i,n,r):PT(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))cf(n);else return s}finally{yv()}}else if(typeof o=="number"){let s=null,a=NT(t,e),l=js,c=r&1?e[nn][xn]:null;for((a===-1||r&4)&&(l=a===-1?ry(t,e):e[a+8],l===js||!ZS(r,!1)?a=-1:(s=e[ne],a=Mf(l),e=Pf(l,e)));a!==-1;){let d=e[ne];if(XS(o,a,d.data)){let p=xO(a,e,n,s,r,c);if(p!==pr)return p}l=e[a+8],l!==js&&ZS(r,e[ne].data[a+8]===c)&&XS(o,a,e)?(s=d,a=Mf(l),e=Pf(l,e)):a=-1}}return i}function xO(t,e,n,r,i,o){let s=e[ne],a=s.data[t+8],l=r==null?_o(a)&&bv:r!=s&&(a.type&3)!==0,c=i&1&&o===a,d=Af(a,s,n,l,c);return d!==null?Rf(e,s,d,a,i):pr}function Af(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,c=t.directiveEnd,d=o>>20,p=r?a:a+d,h=i?a+d:c;for(let g=p;g<h;g++){let v=s[g];if(g<l&&n===v||g>=l&&v.type===n)return g}if(i){let g=s[l];if(g&&Eo(g)&&g.type===n)return l}return null}function Rf(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof ic){let a=o;if(a.resolving){let g=oS(s[n]);throw Wg(g)}let l=KS(a.canSeeViewProviders);a.resolving=!0;let c=s[n].type||s[n],d,p=a.injectImpl?Qt(a.injectImpl):null,h=vv(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&fO(n,s[n],e)}finally{p!==null&&Qt(p),KS(l),a.resolving=!1,yv()}}return o}function IO(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(uo)?t[uo]:void 0;return typeof e=="number"?e>=0?e&AT:DO:e}function XS(t,e,n){let r=1<<t;return!!(n[e+(t>>bT)]&r)}function ZS(t,e){return!(t&2)&&!(t&1&&e)}var To=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return RT(this._tNode,this._lView,e,lo(r),n)}};function DO(){return new To(kt(),ye())}function AO(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[se]&2048&&!qs(s);){let a=LT(o,s,n,r|2,pr);if(a!==pr)return a;let l=o.parent;if(!l){let c=s[tv];if(c){let d=c.get(n,pr,r);if(d!==pr)return d}l=FT(s),s=s[mo]}o=l}return i}function FT(t){let e=t[ne],n=e.type;return n===2?e.declTNode:n===1?t[xn]:null}function bO(){return Qs(kt(),ye())}function Qs(t,e){return new vi(Hn(t,e))}var vi=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=bO}return t})();function kO(t){return t instanceof vi?t.nativeElement:t}function NO(){return this._results[Symbol.iterator]()}var Lf=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new si}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=uS(e);(this._changesDetected=!cS(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=NO};function OT(t){return(t.flags&128)===128}var iy=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(iy||{}),BT=new Map,MO=0;function PO(){return MO++}function RO(t){BT.set(t[jl],t)}function kv(t){BT.delete(t[jl])}var QS="__ngContext__";function Ys(t,e){dr(e)?(t[QS]=e[jl],RO(e)):t[QS]=e}function VT(t){return UT(t[Hs])}function $T(t){return UT(t[Tn])}function UT(t){for(;t!==null&&!Un(t);)t=t[Tn];return t}var Nv;function oy(t){Nv=t}function HT(){if(Nv!==void 0)return Nv;if(typeof document<"u")return document;throw new ie(210,!1)}var Yf=new he("",{providedIn:"root",factory:()=>LO}),LO="ng",Jf=new he(""),ea=new he("",{providedIn:"platform",factory:()=>"unknown"});var Kf=new he("",{providedIn:"root",factory:()=>HT().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var FO="h",OO="b";var qT="r";var GT="di";var zT=!1,WT=new he("",{providedIn:"root",factory:()=>zT});var BO=(t,e,n,r)=>{};function VO(t,e,n,r){BO(t,e,n,r)}function sy(t){return(t.flags&32)===32}var $O=()=>null;function jT(t,e,n=!1){return $O(t,e,n)}function YT(t,e){let n=t.contentQueries;if(n!==null){let r=oe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];yf(o),a.contentQueries(2,e[s],s)}}}finally{oe(r)}}}function Mv(t,e,n){yf(0);let r=oe(null);try{e(t,n)}finally{oe(r)}}function JT(t,e,n){if(rv(e)){let r=oe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{oe(r)}}}var Fr=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(Fr||{});var Ff=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${of})`}};function ay(t){return t instanceof Ff?t.changingThisBreaksApplicationSecurity:t}function KT(t,e){let n=XT(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${of})`)}return n===e}function XT(t){return t instanceof Ff&&t.getTypeName()||null}var UO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ZT(t){return t=String(t),t.match(UO)?t:"unsafe:"+t}var ly=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(ly||{});function Xf(t){let e=HO();return e?e.sanitize(ly.URL,t)||"":KT(t,"URL")?ay(t):ZT(Hl(t))}function HO(){let t=ye();return t&&t[cr].sanitizer}function cy(t){return t.ownerDocument}function qO(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var QT="ng-template";function GO(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&qO(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(uy(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function uy(t){return t.type===4&&t.value!==QT}function zO(t,e,n){let r=t.type===4&&!n?QT:t.value;return e===r}function WO(t,e,n){let r=4,i=t.attrs,o=i!==null?JO(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Gn(r)&&!Gn(l))return!1;if(s&&Gn(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!zO(t,l,n)||l===""&&e.length===1){if(Gn(r))return!1;s=!0}}else if(r&8){if(i===null||!GO(t,i,l,n)){if(Gn(r))return!1;s=!0}}else{let c=e[++a],d=jO(l,i,uy(t),n);if(d===-1){if(Gn(r))return!1;s=!0;continue}if(c!==""){let p;if(d>o?p="":p=i[d+1].toLowerCase(),r&2&&c!==p){if(Gn(r))return!1;s=!0}}}}return Gn(r)||s}function Gn(t){return(t&1)===0}function jO(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return KO(e,t)}function YO(t,e,n=!1){for(let r=0;r<e.length;r++)if(WO(t,e[r],n))return!0;return!1}function JO(t){for(let e=0;e<t.length;e++){let n=t[e];if(yO(n))return e}return t.length}function KO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function eT(t,e){return t?":not("+e.trim()+")":e}function XO(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Gn(s)&&(e+=eT(o,i),i=""),r=s,o=o||!Gn(r);n++}return i!==""&&(e+=eT(o,i)),e}function ZO(t){return t.map(XO).join(",")}function QO(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Gn(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var hr={};function eB(t,e){return t.createText(e)}function tB(t,e,n){t.setValue(e,n)}function ex(t,e,n){return t.createElement(e,n)}function Of(t,e,n,r,i){t.insertBefore(e,n,r,i)}function tx(t,e,n){t.appendChild(e,n)}function tT(t,e,n,r,i){r!==null?Of(t,e,n,r,i):tx(t,e,n)}function nx(t,e,n,r){t.removeChild(null,e,n,r)}function nB(t,e,n){t.setAttribute(e,"style",n)}function rB(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function rx(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&vO(t,e,r),i!==null&&rB(t,e,i),o!==null&&nB(t,e,o)}function dy(t,e,n,r,i,o,s,a,l,c,d){let p=gt+r,h=p+i,g=iB(p,h),v=typeof c=="function"?c():c;return g[ne]={type:t,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1,ssrId:d}}function iB(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:hr);return n}function oB(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=dy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function fy(t,e,n,r,i,o,s,a,l,c,d){let p=e.blueprint.slice();return p[$n]=i,p[se]=r|4|128|8|64|1024,(c!==null||t&&t[se]&2048)&&(p[se]|=2048),sv(p),p[Qe]=p[mo]=t,p[qe]=n,p[cr]=s||t&&t[cr],p[Ve]=a||t&&t[Ve],p[ci]=l||t&&t[ci]||null,p[xn]=o,p[jl]=PO(),p[$s]=d,p[tv]=c,p[nn]=e.type==2?t[nn]:p,p}function sB(t,e,n){let r=Hn(e,t),i=oB(n),o=t[cr].rendererFactory,s=py(t,fy(t,i,null,ix(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function ix(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function ox(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function py(t,e){return t[Hs]?t[ev][Tn]=e:t[Hs]=e,t[ev]=e,e}function A(t=1){sx(Ct(),ye(),pi()+t,!1)}function sx(t,e,n,r){if(!r)if((e[se]&3)===3){let o=t.preOrderCheckHooks;o!==null&&If(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Df(e,o,0,n)}hi(n)}var Zf=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Zf||{});function Pv(t,e,n,r){let i=oe(null);try{let[o,s,a]=t.inputs[n],l=null;(s&Zf.SignalBased)!==0&&(l=e[o][Ze]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,l,r,n,o):ST(e,l,o,r)}finally{oe(i)}}var Or=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Or||{}),aB;function hy(t,e){return aB(t,e)}var Js=new Set,my=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(my||{}),fc=new he(""),nT=new Set;function Do(t){nT.has(t)||(nT.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var ax=!1,Rv=class extends si{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,yS()&&(this.destroyRef=K(mi,{optional:!0})??void 0,this.pendingTasks=K(gi,{optional:!0})??void 0)}emit(e){let n=oe(null);try{super.next(e)}finally{oe(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof bt&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Lr=Rv;function lx(t){let e,n;function r(){t=So;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function rT(t){return queueMicrotask(()=>t()),()=>{t=So}}var gy="isAngularZone",Bf=gy+"_ID",lB=0,tt=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Lr(!1);onMicrotaskEmpty=new Lr(!1);onStable=new Lr(!1);onError=new Lr(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=ax}=e;if(typeof Zone>"u")throw new ie(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,dB(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(gy)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new ie(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new ie(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,cB,So,So);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},cB={};function vy(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function uB(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){lx(()=>{t.callbackScheduled=!1,Lv(t),t.isCheckStableRunning=!0,vy(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Lv(t)}function dB(t){let e=()=>{uB(t)},n=lB++;t._inner=t._inner.fork({name:"angular",properties:{[gy]:!0,[Bf]:n,[Bf+n]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(fB(l))return r.invokeTask(o,s,a,l);try{return iT(t),r.invokeTask(o,s,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),oT(t)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return iT(t),r.invoke(o,s,a,l,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!pB(l)&&e(),oT(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Lv(t),vy(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Lv(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function iT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function oT(t){t._nesting--,vy(t)}var oc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Lr;onMicrotaskEmpty=new Lr;onStable=new Lr;onError=new Lr;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function fB(t){return cx(t,"__ignore_ng_zone__")}function pB(t){return cx(t,"__scheduler_tick__")}function cx(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var ux=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=Se({token:t,providedIn:"root",factory:()=>new t})}return t})();var hB=new he("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function dx(t,e){let n=t.get(hB);if(Array.isArray(e))for(let r of e)n.queue.add(r);else n.queue.add(e);n.scheduler&&n.scheduler(t)}function mB(t,e){for(let[n,r]of e)dx(t,r.animateFns)}function sT(t,e,n,r){let i=t?.[vo]?.enter;e!==null&&i&&i.has(n.index)&&mB(r,i)}function Ws(t,e,n,r,i,o,s,a){if(i!=null){let l,c=!1;Un(i)?l=i:dr(i)&&(c=!0,i=i[$n]);let d=In(i);t===0&&r!==null?(sT(a,r,o,n),s==null?tx(e,r,d):Of(e,r,d,s||null,!0)):t===1&&r!==null?(sT(a,r,o,n),Of(e,r,d,s||null,!0)):t===2?aT(a,o,n,p=>{nx(e,d,c,p)}):t===3&&aT(a,o,n,()=>{e.destroyNode(d)}),l!=null&&AB(e,t,n,l,o,r,s)}}function gB(t,e){fx(t,e),e[$n]=null,e[xn]=null}function vB(t,e,n,r,i,o){r[$n]=i,r[xn]=e,ep(t,r,n,1,i,o)}function fx(t,e){e[cr].changeDetectionScheduler?.notify(9),ep(t,e,e[Ve],2,null,null)}function yB(t){let e=t[Hs];if(!e)return Tv(t[ne],t);for(;e;){let n=null;if(dr(e))n=e[Hs];else{let r=e[je];r&&(n=r)}if(!n){for(;e&&!e[Tn]&&e!==t;)dr(e)&&Tv(e[ne],e),e=e[Qe];e===null&&(e=t),dr(e)&&Tv(e[ne],e),n=e&&e[Tn]}e=n}}function yy(t,e){let n=t[yo],r=n.indexOf(e);n.splice(r,1)}function Qf(t,e){if(Co(e))return;let n=e[Ve];n.destroyNode&&ep(t,e,n,3,null,null),yB(e)}function Tv(t,e){if(Co(e))return;let n=oe(null);try{e[se]&=-129,e[se]|=256,e[rn]&&no(e[rn]),CB(t,e),EB(t,e),e[ne].type===1&&e[Ve].destroy();let r=e[ui];if(r!==null&&Un(e[Qe])){r!==e[Qe]&&yy(r,e);let i=e[ur];i!==null&&i.detachView(t)}kv(e)}finally{oe(n)}}function aT(t,e,n,r){let i=t?.[vo];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);if(i.skipLeaveAnimations)return i.skipLeaveAnimations=!1,r(!1);t&&Js.add(t),dx(n,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s)for(let l=0;l<s.animateFns.length;l++){let c=s.animateFns[l],{promise:d}=c();a.push(d)}i.running=Promise.allSettled(a),_B(t,r)}else t&&Js.delete(t),r(!1)})}function _B(t,e){let n=t[vo]?.running;if(n){n.then(()=>{t[vo].running=void 0,Js.delete(t),e(!0)});return}e(!1)}function EB(t,e){let n=t.cleanup,r=e[Us];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[Us]=null);let i=e[Nr];if(i!==null){e[Nr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Pr];if(o!==null){e[Pr]=null;for(let s of o)s.destroy()}}function CB(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ic)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Le(4,a,l);try{l.call(a)}finally{Le(5,a,l)}}else{Le(4,i,o);try{o.call(i)}finally{Le(5,i,o)}}}}}function wB(t,e,n){return SB(t,e.parent,n)}function SB(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[$n];if(_o(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Fr.None||i===Fr.Emulated)return null}return Hn(r,n)}function TB(t,e,n){return IB(t,e,n)}function xB(t,e,n){return t.type&40?Hn(t,n):null}var IB=xB,lT;function _y(t,e,n,r){let i=wB(t,r,e),o=e[Ve],s=r.parent||e[xn],a=TB(s,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)tT(o,i,n[l],a,!1);else tT(o,i,n,a,!1);lT!==void 0&&lT(o,r,e,n,i)}function nc(t,e){if(e!==null){let n=e.type;if(n&3)return Hn(e,t);if(n&4)return Fv(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return nc(t,r);{let i=t[e.index];return Un(i)?Fv(-1,i):In(i)}}else{if(n&128)return nc(t,e.next);if(n&32)return hy(e,t)()||In(t[e.index]);{let r=px(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=li(t[nn]);return nc(i,r)}else return nc(t,e.next)}}}return null}function px(t,e){if(e!==null){let r=t[nn][xn],i=e.projection;return r.projection[i]}return null}function Fv(t,e){let n=je+t+1;if(n<e.length){let r=e[n],i=r[ne].firstChild;if(i!==null)return nc(r,i)}return e[di]}function Ey(t,e,n,r,i,o,s){for(;n!=null;){let a=r[ci];if(n.type===128){n=n.next;continue}let l=r[n.index],c=n.type;if(s&&e===0&&(l&&Ys(In(l),r),n.flags|=2),!sy(n))if(c&8)Ey(t,e,n.child,r,i,o,!1),Ws(e,t,a,i,l,n,o,r);else if(c&32){let d=hy(n,r),p;for(;p=d();)Ws(e,t,a,i,p,n,o,r);Ws(e,t,a,i,l,n,o,r)}else c&16?DB(t,e,r,n,i,o):Ws(e,t,a,i,l,n,o,r);n=s?n.projectionNext:n.next}}function ep(t,e,n,r,i,o){Ey(n,r,t.firstChild,e,i,o,!1)}function DB(t,e,n,r,i,o){let s=n[nn],l=s[xn].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];Ws(e,t,n[ci],i,d,r,o,n)}else{let c=l,d=s[Qe];OT(r)&&(c.flags|=128),Ey(t,e,c,d,i,o,!0)}}function AB(t,e,n,r,i,o,s){let a=r[di],l=In(r);a!==l&&Ws(e,t,n,o,a,i,s);for(let c=je;c<r.length;c++){let d=r[c];ep(d[ne],d,t,e,o,a)}}function bB(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Or.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Or.Important),t.setStyle(n,r,i,o))}}function hx(t,e,n,r,i){let o=pi(),s=r&2;try{hi(-1),s&&e.length>gt&&sx(t,e,gt,!1),Le(s?2:0,i,n),n(r,i)}finally{hi(o),Le(s?3:1,i,n)}}function mx(t,e,n){LB(t,e,n),(n.flags&64)===64&&FB(t,e,n)}function Cy(t,e,n=Hn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function kB(t,e,n,r){let o=r.get(WT,zT)||n===Fr.ShadowDom,s=t.selectRootElement(e,o);return NB(s),s}function NB(t){MB(t)}var MB=()=>null;function PB(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function gx(t,e,n,r,i,o){let s=e[ne];if(wy(t,s,e,n,r)){_o(t)&&RB(e,t.index);return}t.type&3&&(n=PB(n)),vx(t,e,n,r,i,o)}function vx(t,e,n,r,i,o){if(t.type&3){let s=Hn(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function RB(t,e){let n=qn(e,t);n[se]&16||(n[se]|=64)}function LB(t,e,n){let r=n.directiveStart,i=n.directiveEnd;_o(n)&&sB(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||kT(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],l=Rf(e,t,s,n);if(Ys(l,e),o!==null&&UB(e,s-r,l,a,n,o),Eo(a)){let c=qn(n.index,e);c[qe]=Rf(e,t,s,n)}}}function FB(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=FS();try{hi(o);for(let a=r;a<i;a++){let l=t.data[a],c=e[a];vf(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&OB(l,c)}}finally{hi(-1),vf(s)}}function OB(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function BB(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];YO(e,o.selectors,!1)&&(r??=[],Eo(o)?r.unshift(o):r.push(o))}return r}function VB(t,e,n,r,i,o){let s=Hn(t,e);$B(e[Ve],s,o,t.value,n,r,i)}function $B(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Hl(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function UB(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];Pv(r,n,l,c)}}function yx(t,e,n,r,i){let o=gt+n,s=e[ne],a=i(s,e,t,r,n);e[o]=a,Gs(t,!0);let l=t.type===2;return l?(rx(e[Ve],a,t),(xS()===0||hf(t))&&Ys(a,e),IS()):Ys(a,e),Cf()&&(!l||!sy(t))&&_y(s,e,a,t),t}function _x(t){let e=t;return mv()?kS():(e=e.parent,Gs(e,!1)),e}function HB(t,e){let n=t[ci];if(!n)return;let r;try{r=n.get(Rr,null)}catch{r=null}r?.(e)}function wy(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],d=s[l+1],p=e.data[c];Pv(p,n[c],d,i),a=!0}if(o)for(let l of o){let c=n[l],d=e.data[l];Pv(d,c,r,i),a=!0}return a}function qB(t,e){let n=qn(e,t),r=n[ne];GB(r,n);let i=n[$n];i!==null&&n[$s]===null&&(n[$s]=jT(i,n[ci])),Le(18),Sy(r,n,n[qe]),Le(19,n[qe])}function GB(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Sy(t,e,n){_f(e);try{let r=t.viewQuery;r!==null&&Mv(1,r,n);let i=t.template;i!==null&&hx(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ur]?.finishViewCreation(t),t.staticContentQueries&&YT(t,e),t.staticViewQueries&&Mv(2,t.viewQuery,n);let o=t.components;o!==null&&zB(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[se]&=-5,Ef()}}function zB(t,e){for(let n=0;n<e.length;n++)qB(t,e[n])}function tp(t,e,n,r){let i=oe(null);try{let o=e.tView,a=t[se]&4096?4096:16,l=fy(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[e.index];l[ui]=c;let d=t[ur];return d!==null&&(l[ur]=d.createEmbeddedView(o)),Sy(o,l,n),l}finally{oe(i)}}function sc(t,e){return!e||e.firstChild===null||OT(t)}function ac(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(In(o)),Un(o)&&Ex(o,r);let s=n.type;if(s&8)ac(t,e,n.child,r);else if(s&32){let a=hy(n,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=px(e,n);if(Array.isArray(a))r.push(...a);else{let l=li(e[nn]);ac(l[ne],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Ex(t,e){for(let n=je;n<t.length;n++){let r=t[n],i=r[ne].firstChild;i!==null&&ac(r[ne],r,i,e)}t[di]!==t[$n]&&e.push(t[di])}function Cx(t){if(t[pf]!==null){for(let e of t[pf])e.impl.addSequence(e);t[pf].length=0}}var wx=[];function WB(t){return t[rn]??jB(t)}function jB(t){let e=wx.pop()??Object.create(JB);return e.lView=t,e}function YB(t){t.lView[rn]!==t&&(t.lView=null,wx.push(t))}var JB=U(I({},Qi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{wo(t.lView)},consumerOnSignalRead(){this.lView[rn]=this}});function KB(t){let e=t[rn]??Object.create(XB);return e.lView=t,e}var XB=U(I({},Qi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=li(t.lView);for(;e&&!Sx(e[ne]);)e=li(e);e&&av(e)},consumerOnSignalRead(){this.lView[rn]=this}});function Sx(t){return t.type!==2}function Tx(t){if(t[Pr]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Pr])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[se]&8192)}}var ZB=100;function xx(t,e=0){let r=t[cr].rendererFactory,i=!1;i||r.begin?.();try{QB(t,e)}finally{i||r.end?.()}}function QB(t,e){let n=gv();try{zs(!0),Ov(t,e);let r=0;for(;Kl(t);){if(r===ZB)throw new ie(103,!1);r++,Ov(t,1)}}finally{zs(n)}}function eV(t,e,n,r){if(Co(e))return;let i=e[se],o=!1,s=!1;_f(e);let a=!0,l=null,c=null;o||(Sx(t)?(c=WB(e),l=to(c)):bd()===null?(a=!1,c=KB(e),l=to(c)):e[rn]&&(no(e[rn]),e[rn]=null));try{sv(e),MS(t.bindingStartIndex),n!==null&&hx(t,e,n,2,r);let d=(i&3)===3;if(!o)if(d){let g=t.preOrderCheckHooks;g!==null&&If(e,g,null)}else{let g=t.preOrderHooks;g!==null&&Df(e,g,0,null),wv(e,0)}if(s||tV(e),Tx(e),Ix(e,0),t.contentQueries!==null&&YT(t,e),!o)if(d){let g=t.contentCheckHooks;g!==null&&If(e,g)}else{let g=t.contentHooks;g!==null&&Df(e,g,1),wv(e,1)}rV(t,e);let p=t.components;p!==null&&Ax(e,p,0);let h=t.viewQuery;if(h!==null&&Mv(2,h,r),!o)if(d){let g=t.viewCheckHooks;g!==null&&If(e,g)}else{let g=t.viewHooks;g!==null&&Df(e,g,2),wv(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ff]){for(let g of e[ff])g();e[ff]=null}o||(Cx(e),e[se]&=-73)}catch(d){throw o||wo(e),d}finally{c!==null&&(Ds(c,l),a&&YB(c)),Ef()}}function Ix(t,e){for(let n=VT(t);n!==null;n=$T(n))for(let r=je;r<n.length;r++){let i=n[r];Dx(i,e)}}function tV(t){for(let e=VT(t);e!==null;e=$T(e)){if(!(e[se]&2))continue;let n=e[yo];for(let r=0;r<n.length;r++){let i=n[r];av(i)}}}function nV(t,e,n){Le(18);let r=qn(e,t);Dx(r,n),Le(19,r[qe])}function Dx(t,e){mf(t)&&Ov(t,e)}function Ov(t,e){let r=t[ne],i=t[se],o=t[rn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&As(o)),s||=!1,o&&(o.dirty=!1),t[se]&=-9217,s)eV(r,t,r.template,t[qe]);else if(i&8192){let a=oe(null);try{Tx(t),Ix(t,1);let l=r.components;l!==null&&Ax(t,l,1),Cx(t)}finally{oe(a)}}}function Ax(t,e,n){for(let r=0;r<e.length;r++)nV(t,e[r],n)}function rV(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)hi(~i);else{let o=i,s=n[++r],a=n[++r];LS(s,o);let l=e[o];Le(24,l),a(2,l),Le(25,l)}}}finally{hi(-1)}}function Ty(t,e){let n=gv()?64:1088;for(t[cr].changeDetectionScheduler?.notify(e);t;){t[se]|=n;let r=li(t);if(qs(t)&&!r)return t;t=r}return null}function bx(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function kx(t,e){let n=je+e;if(n<t.length)return t[n]}function np(t,e,n,r=!0){let i=e[ne];if(iV(i,e,t,n),r){let s=Fv(n,t),a=e[Ve],l=a.parentNode(t[di]);l!==null&&vB(i,t[xn],a,e,l,s)}let o=e[$s];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Nx(t,e){let n=lc(t,e);return n!==void 0&&Qf(n[ne],n),n}function lc(t,e){if(t.length<=je)return;let n=je+e,r=t[n];if(r){let i=r[ui];i!==null&&i!==t&&yy(i,r),e>0&&(t[n-1][Tn]=r[Tn]);let o=ql(t,je+e);gB(r[ne],r);let s=o[ur];s!==null&&s.detachView(o[ne]),r[Qe]=null,r[Tn]=null,r[se]&=-129}return r}function iV(t,e,n,r){let i=je+r,o=n.length;r>0&&(n[i-1][Tn]=e),r<o-je?(e[Tn]=n[i],Yg(n,je+r,e)):(n.push(e),e[Tn]=null),e[Qe]=n;let s=e[ui];s!==null&&n!==s&&Mx(s,e);let a=e[ur];a!==null&&a.insertView(t),gf(e),e[se]|=128}function Mx(t,e){let n=t[yo],r=e[Qe];if(dr(r))t[se]|=2;else{let i=r[Qe][nn];e[nn]!==i&&(t[se]|=2)}n===null?t[yo]=[e]:n.push(e)}var Ks=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[ne];return ac(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[qe]}set context(e){this._lView[qe]=e}get destroyed(){return Co(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Qe];if(Un(e)){let n=e[Yl],r=n?n.indexOf(this):-1;r>-1&&(lc(e,r),ql(n,r))}this._attachedToViewContainer=!1}Qf(this._lView[ne],this._lView)}onDestroy(e){lv(this._lView,e)}markForCheck(){Ty(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[se]&=-129}reattach(){gf(this._lView),this._lView[se]|=128}detectChanges(){this._lView[se]|=1024,xx(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=qs(this._lView),n=this._lView[ui];n!==null&&!e&&yy(n,this._lView),fx(this._lView[ne],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ie(902,!1);this._appRef=e;let n=qs(this._lView),r=this._lView[ui];r!==null&&!n&&Mx(r,this._lView),gf(this._lView)}};var Xs=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=oV;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=tp(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Ks(o)}}return t})();function oV(){return xy(kt(),ye())}function xy(t,e){return t.type&4?new Xs(e,t,Qs(t,e)):null}function rp(t,e,n,r,i){let o=t.data[e];if(o===null)o=sV(t,e,n,r,i),RS()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=bS();o.injectorIndex=s===null?-1:s.injectorIndex}return Gs(o,!0),o}function sV(t,e,n,r,i){let o=hv(),s=mv(),a=s?o:o&&o.parent,l=t.data[e]=lV(t,a,n,e,r,i);return aV(t,l,o,s),l}function aV(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function lV(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return AS()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Tj=new RegExp(`^(\\d+)*(${OO}|${FO})*(.*)`);function cV(t){let e=t[nv]??[],r=t[Qe][Ve],i=[];for(let o of e)o.data[GT]!==void 0?i.push(o):uV(o,r);t[nv]=i}function uV(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[qT];for(;n<i;){let o=r.nextSibling;nx(e,r,!1),r=o,n++}}}var dV=()=>null,fV=()=>null;function Bv(t,e){return dV(t,e)}function Px(t,e,n){return fV(t,e,n)}var Rx=class{},ip=class{},Vv=class{resolveComponentFactory(e){throw new ie(917,!1)}},op=class{static NULL=new Vv},xo=class{},sp=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>pV()}return t})();function pV(){let t=ye(),e=kt(),n=qn(e.index,t);return(dr(n)?n:t)[Ve]}var Lx=(()=>{class t{static \u0275prov=Se({token:t,providedIn:"root",factory:()=>null})}return t})();var bf={},$v=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,bf,r);return i!==bf||n===bf?i:this.parentInjector.get(e,n,r)}};function Vf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Ug(i,a);else if(o==2){let l=a,c=e[++s];r=Ug(r,l+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Iy(t,e=0){let n=ye();if(n===null)return Ee(t,e);let r=kt();return RT(r,n,en(t),e)}function hV(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,l=null,c=null;for(let d of s)if(d.resolveHostDirectives!==null){[a,l,c]=d.resolveHostDirectives(s);break}vV(t,e,n,a,o,l,c)}o!==null&&r!==null&&mV(n,r,o)}function mV(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new ie(-301,!1);r.push(e[i],o)}}function gV(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function vV(t,e,n,r,i,o,s){let a=r.length,l=!1;for(let h=0;h<a;h++){let g=r[h];!l&&Eo(g)&&(l=!0,gV(t,n,h)),TO(kT(n,e),t,g.type)}SV(n,t.data.length,a);for(let h=0;h<a;h++){let g=r[h];g.providersResolver&&g.providersResolver(g)}let c=!1,d=!1,p=ox(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){let g=r[h];if(n.mergedAttrs=jf(n.mergedAttrs,g.hostAttrs),_V(t,n,e,p,g),wV(p,g,i),s!==null&&s.has(g)){let[w,x]=s.get(g);n.directiveToIndex.set(g.type,[p,w+n.directiveStart,x+n.directiveStart])}else(o===null||!o.has(g))&&n.directiveToIndex.set(g.type,p);g.contentQueries!==null&&(n.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(n.flags|=64);let v=g.type.prototype;!c&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),c=!0),!d&&(v.ngOnChanges||v.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),d=!0),p++}yV(t,n,o)}function yV(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))cT(0,e,i,r),cT(1,e,i,r),dT(e,r,!1);else{let o=n.get(i);uT(0,e,o,r),uT(1,e,o,r),dT(e,r,!0)}}}function cT(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),Fx(e,o)}}function uT(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Fx(e,s)}}function Fx(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function dT(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||uy(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&i.hasOwnProperty(l)){let c=i[l];for(let d of c)if(d===e){s??=[],s.push(l,r[a+1]);break}}else if(n&&o.hasOwnProperty(l)){let c=o[l];for(let d=0;d<c.length;d+=2)if(c[d]===e){s??=[],s.push(c[d+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function _V(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Ls(i.type,!0)),s=new ic(o,Eo(i),Iy,null);t.blueprint[r]=s,n[r]=s,EV(t,e,r,ox(t,n,i.hostVars,hr),i)}function EV(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;CV(s)!=a&&s.push(a),s.push(n,r,o)}}function CV(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function wV(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Eo(e)&&(n[""]=t)}}function SV(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ox(t,e,n,r,i,o,s,a){let l=e[ne],c=l.consts,d=fr(c,s),p=rp(l,t,n,r,d);return o&&hV(l,e,p,fr(c,a),i),p.mergedAttrs=jf(p.mergedAttrs,p.attrs),p.attrs!==null&&Vf(p,p.attrs,!1),p.mergedAttrs!==null&&Vf(p,p.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,p),p}function Bx(t,e){pO(t,e),rv(e)&&t.queries.elementEnd(e)}function TV(t,e,n,r,i,o){let s=e.consts,a=fr(s,i),l=rp(e,t,n,r,a);if(l.mergedAttrs=jf(l.mergedAttrs,l.attrs),o!=null){let c=fr(s,o);l.localNames=[];for(let d=0;d<c.length;d+=2)l.localNames.push(c[d],-1)}return l.attrs!==null&&Vf(l,l.attrs,!1),l.mergedAttrs!==null&&Vf(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function xV(t,e,n){return t[e]=n}function IV(t,e){return t[e]}function yi(t,e,n){if(n===hr)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function kf(t,e,n){return function r(i){let o=_o(t)?qn(t.index,e):e;Ty(o,5);let s=e[qe],a=fT(e,s,n,i),l=r.__ngNextListenerFn__;for(;l;)a=fT(e,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function fT(t,e,n,r){let i=oe(null);try{return Le(6,e,n),n(r)!==!1}catch(o){return HB(t,o),!1}finally{Le(7,e,n),oe(i)}}function Vx(t,e,n,r,i,o,s,a){let l=hf(t),c=!1,d=null;if(!r&&l&&(d=AV(e,n,o,t.index)),d!==null){let p=d.__ngLastListenerFn__||d;p.__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,c=!0}else{let p=Hn(t,n),h=r?r(p):p;VO(n,h,o,a);let g=i.listen(h,o,a);if(!DV(o)){let v=r?w=>r(In(w[t.index])):t.index;$x(v,e,n,o,a,g,!1)}}return c}function DV(t){return t.startsWith("animation")||t.startsWith("transition")}function AV(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Us],l=i[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function $x(t,e,n,r,i,o,s){let a=e.firstCreatePass?uv(e):null,l=cv(n),c=l.length;l.push(i,o),a&&a.push(r,t,c,(c+1)*(s?-1:1))}function pT(t,e,n,r,i,o){let s=e[n],a=e[ne],c=a.data[n].outputs[r],p=s[c].subscribe(o);$x(t.index,a,e,i,o,p,!0)}var Uv=Symbol("BINDING");var Hv=class extends op{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ho(e);return new cc(n,this.ngModule)}};function bV(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Zf.SignalBased)!==0};return i&&(o.transform=i),o})}function kV(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function NV(t,e,n){let r=e instanceof $t?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new $v(n,r):n}function MV(t){let e=t.get(xo,null);if(e===null)throw new ie(407,!1);let n=t.get(Lx,null),r=t.get(Vn,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function PV(t,e){let n=Ux(t);return ex(e,n,n==="svg"?iv:n==="math"?ES:null)}function Ux(t){return(t.selectors[0][0]||"div").toLowerCase()}var cc=class extends ip{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=bV(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=kV(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=ZO(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){Le(22);let a=oe(null);try{let l=this.componentDef,c=RV(r,l,s,o),d=NV(l,i||this.ngModule,e),p=MV(d),h=p.rendererFactory.createRenderer(null,l),g=r?kB(h,r,l.encapsulation,d):PV(l,h),v=s?.some(hT)||o?.some(S=>typeof S!="function"&&S.bindings.some(hT)),w=fy(null,c,null,512|ix(l),null,null,p,h,d,null,jT(g,d,!0));w[gt]=g,_f(w);let x=null;try{let S=Ox(gt,w,2,"#host",()=>c.directiveRegistry,!0,0);rx(h,g,S),Ys(g,w),mx(c,w,S),JT(c,S,w),Bx(c,S),n!==void 0&&FV(S,this.ngContentSelectors,n),x=qn(S.index,w),w[qe]=x[qe],Sy(c,w,null)}catch(S){throw x!==null&&kv(x),kv(w),S}finally{Le(23),Ef()}return new $f(this.componentType,w,!!v)}finally{oe(a)}}};function RV(t,e,n,r){let i=t?["ng-version","20.3.9"]:QO(e.selectors[0]),o=null,s=null,a=0;if(n)for(let d of n)a+=d[Uv].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let p=r[d];if(typeof p!="function")for(let h of p.bindings){a+=h[Uv].requiredVars;let g=d+1;h.create&&(h.targetIdx=g,(o??=[]).push(h)),h.update&&(h.targetIdx=g,(s??=[]).push(h))}}let l=[e];if(r)for(let d of r){let p=typeof d=="function"?d:d.type,h=Xg(p);l.push(h)}return dy(0,null,LV(o,s),1,a,l,null,null,null,[i],null)}function LV(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function hT(t){let e=t[Uv].kind;return e==="input"||e==="twoWay"}var $f=class extends Rx{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Jl(n[ne],gt),this.location=Qs(this._tNode,n),this.instance=qn(this._tNode.index,n)[qe],this.hostView=this.changeDetectorRef=new Ks(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=wy(r,i[ne],i,e,n);this.previousInputValues.set(e,n);let s=qn(r.index,i);Ty(s,1)}get injector(){return new To(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function FV(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var pc=(()=>{class t{static __NG_ELEMENT_ID__=OV}return t})();function OV(){let t=kt();return qx(t,ye())}var BV=pc,Hx=class extends BV{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Qs(this._hostTNode,this._hostLView)}get injector(){return new To(this._hostTNode,this._hostLView)}get parentInjector(){let e=ry(this._hostTNode,this._hostLView);if(DT(e)){let n=Pf(e,this._hostLView),r=Mf(e),i=n[ne].data[r+8];return new To(i,n)}else return new To(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=mT(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-je}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Bv(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,sc(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let l=e&&!aO(e),c;if(l)c=n;else{let x=n||{};c=x.index,r=x.injector,i=x.projectableNodes,o=x.environmentInjector||x.ngModuleRef,s=x.directives,a=x.bindings}let d=l?e:new cc(ho(e)),p=r||this.parentInjector;if(!o&&d.ngModule==null){let S=(l?p:this.parentInjector).get($t,null);S&&(o=S)}let h=ho(d.componentType??{}),g=Bv(this._lContainer,h?.id??null),v=g?.firstChild??null,w=d.create(p,i,v,o,s,a);return this.insertImpl(w.hostView,c,sc(this._hostTNode,g)),w}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(CS(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Qe],c=new Hx(l,l[xn],l[Qe]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return np(s,i,o,r),e.attachToViewContainerRef(),Yg(xv(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=mT(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=lc(this._lContainer,n);r&&(ql(xv(this._lContainer),n),Qf(r[ne],r))}detach(e){let n=this._adjustIndex(e,-1),r=lc(this._lContainer,n);return r&&ql(xv(this._lContainer),n)!=null?new Ks(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function mT(t){return t[Yl]}function xv(t){return t[Yl]||(t[Yl]=[])}function qx(t,e){let n,r=e[t.index];return Un(r)?n=r:(n=bx(r,e,null,t),e[t.index]=n,py(e,n)),$V(n,e,t,r),new Hx(n,t,e)}function VV(t,e){let n=t[Ve],r=n.createComment(""),i=Hn(e,t),o=n.parentNode(i);return Of(n,o,r,n.nextSibling(i),!1),r}var $V=qV,UV=()=>!1;function HV(t,e,n){return UV(t,e,n)}function qV(t,e,n,r){if(t[di])return;let i;n.type&8?i=In(r):i=VV(e,n),t[di]=i}var qv=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Gv=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Wx(e,n).matches!==null&&this.queries[n].setDirty()}},zv=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=KV(e):this.predicate=e}},Wv=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},jv=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,GV(n,o)),this.matchTNodeWithReadOption(e,n,Af(n,e,o,!1,!1))}else r===Xs?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Af(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===vi||i===pc||i===Xs&&n.type&4)this.addMatch(n.index,-2);else{let o=Af(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function GV(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function zV(t,e){return t.type&11?Qs(t,e):t.type&4?xy(t,e):null}function WV(t,e,n,r){return n===-1?zV(e,t):n===-2?jV(t,e,r):Rf(t,t[ne],n,e)}function jV(t,e,n){if(n===vi)return Qs(e,t);if(n===Xs)return xy(e,t);if(n===pc)return qx(e,t)}function Gx(t,e,n,r){let i=e[ur].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let d=o[c];a.push(WV(e,d,s[l+1],n.metadata.read))}}i.matches=a}return i.matches}function Yv(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=Gx(t,e,i,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let c=o[a+1],d=e[-l];for(let p=je;p<d.length;p++){let h=d[p];h[ui]===h[Qe]&&Yv(h[ne],h,c,r)}if(d[yo]!==null){let p=d[yo];for(let h=0;h<p.length;h++){let g=p[h];Yv(g[ne],g,c,r)}}}}}return r}function zx(t,e){return t[ur].queries[e].queryList}function YV(t,e,n){let r=new Lf((n&4)===4);return TS(t,e,r,r.destroy),(e[ur]??=new Gv).queries.push(new qv(r))-1}function JV(t,e,n){let r=Ct();return r.firstCreatePass&&(XV(r,new zv(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),YV(r,ye(),e)}function KV(t){return t.split(",").map(e=>e.trim())}function XV(t,e,n){t.queries===null&&(t.queries=new Wv),t.queries.track(new jv(e,n))}function Wx(t,e){return t.queries.getByIndex(e)}function ZV(t,e){let n=t[ne],r=Wx(n,e);return r.crossesNgTemplate?Yv(n,t,e,[]):Gx(n,t,r,e)}function jx(t,e,n){let r,i=Fl(()=>{r._dirtyCounter();let o=e3(r,t);if(e&&o===void 0)throw new ie(-951,!1);return o});return r=i[Ze],r._dirtyCounter=X(0),r._flatValue=void 0,i}function Yx(t){return jx(!0,!1,t)}function Jx(t){return jx(!0,!0,t)}function QV(t,e){let n=t[Ze];n._lView=ye(),n._queryIndex=e,n._queryList=zx(n._lView,e),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function e3(t,e){let n=t._lView,r=t._queryIndex;if(n===void 0||r===void 0||n[se]&4)return e?void 0:tn;let i=zx(n,r),o=ZV(n,r);return i.reset(o,kO),e?i.first:i._changesDetected||t._flatValue===void 0?t._flatValue=i.toArray():t._flatValue}var Uf=class{};var uc=class extends Uf{injector;componentFactoryResolver=new Hv(this);instance=null;constructor(e){super();let n=new co([...e.providers,{provide:Uf,useValue:this},{provide:op,useValue:this.componentFactoryResolver}],e.parent||Wl(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Kx(t,e,n=null){return new uc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var t3=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Zg(!1,n.type),i=r.length>0?Kx([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Se({token:t,providedIn:"environment",factory:()=>new t(Ee($t))})}return t})();function hc(t){return Wf(()=>{let e=Xx(t),n=U(I({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===iy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(t3).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Fr.Emulated,styles:t.styles||tn,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Do("NgStandalone"),Zx(n);let r=t.dependencies;return n.directiveDefs=gT(r,n3),n.pipeDefs=gT(r,pS),n.id=o3(n),n})}function n3(t){return ho(t)||Xg(t)}function mc(t){return Wf(()=>({type:t.type,bootstrap:t.bootstrap||tn,declarations:t.declarations||tn,imports:t.imports||tn,exports:t.exports||tn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function r3(t,e){if(t==null)return fo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=Zf.None,l=null),n[o]=[r,a,l],e[o]=s}return n}function i3(t){if(t==null)return fo;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function ap(t){return Wf(()=>{let e=Xx(t);return Zx(e),e})}function Xx(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||fo,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||tn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:r3(t.inputs,e),outputs:i3(t.outputs),debugInfo:null}}function Zx(t){t.features?.forEach(e=>e(t))}function gT(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function o3(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function s3(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=jf(t.mergedAttrs,t.attrs);let d=t.tView=dy(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),d.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),Gs(t,!1);let l=a3(n,e,t,r);Cf()&&_y(n,e,l,t),Ys(l,e);let c=bx(l,e,l,t);e[r+gt]=c,py(e,c),HV(c,t,e)}function Hf(t,e,n,r,i,o,s,a,l,c,d){let p=n+gt,h;if(e.firstCreatePass){if(h=rp(e,p,4,s||null,a||null),c!=null){let g=fr(e.consts,c);h.localNames=[];for(let v=0;v<g.length;v+=2)h.localNames.push(g[v],-1)}}else h=e.data[p];return s3(h,t,e,n,r,i,o,l),c!=null&&Cy(t,h,d),h}var a3=l3;function l3(t,e,n,r){return wf(!0),e[Ve].createComment("")}var Dy=new he("");function Ay(t){return!!t&&typeof t.then=="function"}function Qx(t){return!!t&&typeof t.subscribe=="function"}var eI=new he("");var by=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=K(eI,{optional:!0})??[];injector=K(Mr);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Vs(this.injector,i);if(Ay(o))n.push(o);else if(Qx(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),tI=new he("");function nI(){gg(()=>{let t="";throw new ie(600,t)})}function rI(t){return t.isBoundToModule}var c3=10;var gc=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=K(Rr);afterRenderManager=K(ux);zonelessEnabled=K(Ql);rootEffectScheduler=K(tc);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new si;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=K(gi);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(lr(n=>!n))}constructor(){K(fc,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=K($t);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Mr.NULL){return this._injector.get(tt).run(()=>{Le(10);let s=n instanceof ip;if(!this._injector.get(by).done){let v="";throw new ie(405,v)}let l;s?l=n:l=this._injector.get(op).resolveComponentFactory(n),this.componentTypes.push(l.componentType);let c=rI(l)?void 0:this._injector.get(Uf),d=r||l.selector,p=l.create(i,[],d,c),h=p.location.nativeElement,g=p.injector.get(Dy,null);return g?.registerApplication(h),p.onDestroy(()=>{this.detachView(p.hostView),rc(this.components,p),g?.unregisterApplication(h)}),this._loadComponent(p),Le(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Le(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(my.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new ie(101,!1);let n=oe(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,oe(n),this.afterTick.next(),Le(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(xo,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<c3;)Le(14),this.synchronizeOnce(),Le(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Kl(i))continue;let o=r&&!this.zonelessEnabled?0:1;xx(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Kl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;rc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(tI,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>rc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ie(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ta(t,e,n,r){let i=ye(),o=fi();if(yi(i,o,e)){let s=Ct(),a=Xl();VB(a,i,t,e,n,r)}return ta}var kj=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function ky(){return ye()[nn][qe]}var Jv=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e,!0))}};function Iv(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function u3(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;o<=s&&o<=l;){let c=t.at(o),d=e[o],p=Iv(o,c,o,d,n);if(p!==0){p<0&&t.updateValue(o,d),o++;continue}let h=t.at(s),g=e[l],v=Iv(s,h,l,g,n);if(v!==0){v<0&&t.updateValue(s,g),s--,l--;continue}let w=n(o,c),x=n(s,h),S=n(o,d);if(Object.is(S,x)){let N=n(l,g);Object.is(N,w)?(t.swap(o,s),t.updateValue(s,g),l--,s--):t.move(s,o),t.updateValue(o,d),o++;continue}if(r??=new qf,i??=yT(t,o,s,n),Kv(t,r,o,S))t.updateValue(o,d),o++,s++;else if(i.has(S))r.set(w,t.detach(o)),s--;else{let N=t.create(o,e[o]);t.attach(o,N),o++,s++}}for(;o<=l;)vT(t,r,n,o,e[o]),o++}else if(e!=null){let l=e[Symbol.iterator](),c=l.next();for(;!c.done&&o<=s;){let d=t.at(o),p=c.value,h=Iv(o,d,o,p,n);if(h!==0)h<0&&t.updateValue(o,p),o++,c=l.next();else{r??=new qf,i??=yT(t,o,s,n);let g=n(o,p);if(Kv(t,r,o,g))t.updateValue(o,p),o++,s++,c=l.next();else if(!i.has(g))t.attach(o,t.create(o,p)),o++,s++,c=l.next();else{let v=n(o,d);r.set(v,t.detach(o)),s--}}}for(;!c.done;)vT(t,r,n,t.length,c.value),c=l.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(l=>{t.destroy(l)})}function Kv(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function vT(t,e,n,r,i){if(Kv(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function yT(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var qf=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function j(t,e,n,r,i,o,s,a){Do("NgControlFlow");let l=ye(),c=Ct(),d=fr(c.consts,o);return Hf(l,c,t,e,n,r,i,d,256,s,a),Ny}function Ny(t,e,n,r,i,o,s,a){Do("NgControlFlow");let l=ye(),c=Ct(),d=fr(c.consts,o);return Hf(l,c,t,e,n,r,i,d,512,s,a),Ny}function Y(t,e){Do("NgControlFlow");let n=ye(),r=fi(),i=n[r]!==hr?n[r]:-1,o=i!==-1?Gf(n,gt+i):void 0,s=0;if(yi(n,r,t)){let a=oe(null);try{if(o!==void 0&&Nx(o,s),t!==-1){let l=gt+t,c=Gf(n,l),d=ey(n[ne],l),p=Px(c,d,n),h=tp(n,d,e,{dehydratedView:p});np(c,h,s,sc(d,p))}}finally{oe(a)}}else if(o!==void 0){let a=kx(o,s);a!==void 0&&(a[qe]=e)}}var Xv=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-je}};function Ao(t){return t}function _i(t,e){return e}var Zv=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function nt(t,e,n,r,i,o,s,a,l,c,d,p,h){Do("NgControlFlow");let g=ye(),v=Ct(),w=l!==void 0,x=ye(),S=a?s.bind(x[nn][qe]):s,N=new Zv(w,S);x[gt+t]=N,Hf(g,v,t+1,e,n,r,i,fr(v.consts,o),256),w&&Hf(g,v,t+2,l,c,d,p,fr(v.consts,h),512)}var Qv=class extends Jv{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-je}at(e){return this.getLView(e)[qe].$implicit}attach(e,n){let r=n[$s];this.needsIndexUpdate||=e!==this.length,np(this.lContainer,n,e,sc(this.templateTNode,r))}detach(e,n){return this.needsIndexUpdate||=e!==this.length-1,n&&d3(this.lContainer,e),f3(this.lContainer,e)}create(e,n){let r=Bv(this.lContainer,this.templateTNode.tView.ssrId),i=tp(this.hostLView,this.templateTNode,new Xv(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Qf(e[ne],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[qe].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[qe].$index=e}getLView(e){return p3(this.lContainer,e)}};function rt(t){let e=oe(null),n=pi();try{let r=ye(),i=r[ne],o=r[n],s=n+1,a=Gf(r,s);if(o.liveCollection===void 0){let c=ey(i,s);o.liveCollection=new Qv(a,r,c)}else o.liveCollection.reset();let l=o.liveCollection;if(u3(l,t,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let c=fi(),d=l.length===0;if(yi(r,c,d)){let p=n+2,h=Gf(r,p);if(d){let g=ey(i,p),v=Px(h,g,r),w=tp(r,g,void 0,{dehydratedView:v});np(h,w,0,sc(g,v))}else i.firstUpdatePass&&cV(h),Nx(h,0)}}}finally{oe(e)}}function Gf(t,e){return t[e]}function d3(t,e){if(t.length<=je)return;let n=je+e,r=t[n];r&&r[vo]&&(r[vo].skipLeaveAnimations=!0)}function f3(t,e){return lc(t,e)}function p3(t,e){return kx(t,e)}function ey(t,e){return Jl(t,e)}function ge(t,e,n){let r=ye(),i=fi();if(yi(r,i,e)){let o=Ct(),s=Xl();gx(s,r,t,e,r[Ve],n)}return ge}function _T(t,e,n,r,i){wy(e,t,n,i?"class":"style",r)}function _(t,e,n,r){let i=ye(),o=i[ne],s=t+gt,a=o.firstCreatePass?Ox(s,i,2,e,BB,DS(),n,r):o.data[s];if(yx(a,i,t,e,iI),hf(a)){let l=i[ne];mx(l,i,a),JT(l,a,i)}return r!=null&&Cy(i,a),_}function E(){let t=Ct(),e=kt(),n=_x(e);return t.firstCreatePass&&Bx(t,n),fv(n)&&pv(),dv(),n.classesWithoutHost!=null&&mO(n)&&_T(t,n,ye(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&gO(n)&&_T(t,n,ye(),n.stylesWithoutHost,!1),E}function G(t,e,n,r){return _(t,e,n,r),E(),G}function mr(t,e,n,r){let i=ye(),o=i[ne],s=t+gt,a=o.firstCreatePass?TV(s,o,2,e,n,r):o.data[s];return yx(a,i,t,e,iI),r!=null&&Cy(i,a),mr}function bo(){let t=kt(),e=_x(t);return fv(e)&&pv(),dv(),bo}function lp(t,e,n,r){return mr(t,e,n,r),bo(),lp}var iI=(t,e,n,r,i)=>(wf(!0),ex(e[Ve],r,qS()));function fe(){return ye()}function cp(t,e,n){let r=ye(),i=fi();if(yi(r,i,e)){let o=Ct(),s=Xl();vx(s,r,t,e,r[Ve],n)}return cp}var vc="en-US";var h3=vc;function oI(t){typeof t=="string"&&(h3=t.toLowerCase().replace(/_/g,"-"))}function O(t,e,n){let r=ye(),i=Ct(),o=kt();return sI(i,r,r[Ve],o,t,e,n),O}function yc(t,e,n){let r=ye(),i=Ct(),o=kt();return(o.type&3||n)&&Vx(o,i,r,n,r[Ve],t,e,kf(o,r,e)),yc}function sI(t,e,n,r,i,o,s){let a=!0,l=null;if((r.type&3||s)&&(l??=kf(r,e,o),Vx(r,t,e,s,n,i,o,l)&&(a=!1)),a){let c=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let p=0;p<d.length;p+=2){let h=d[p],g=d[p+1];l??=kf(r,e,o),pT(r,e,h,g,i,l)}if(c&&c.length)for(let p of c)l??=kf(r,e,o),pT(r,e,p,i,i,l)}}function D(t=1){return HS(t)}function up(t,e,n,r){QV(t,JV(e,n,r))}function My(t=1){yf(BS()+t)}function xf(t,e){return t<<17|e<<2}function Io(t){return t>>17&32767}function m3(t){return(t&2)==2}function g3(t,e){return t&131071|e<<17}function ty(t){return t|2}function Zs(t){return(t&131068)>>2}function Dv(t,e){return t&-131069|e<<2}function v3(t){return(t&1)===1}function ny(t){return t|1}function y3(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Io(s),l=Zs(s);t[r]=n;let c=!1,d;if(Array.isArray(n)){let p=n;d=p[1],(d===null||Bs(p,d)>0)&&(c=!0)}else d=n;if(i)if(l!==0){let h=Io(t[a+1]);t[r+1]=xf(h,a),h!==0&&(t[h+1]=Dv(t[h+1],r)),t[a+1]=g3(t[a+1],r)}else t[r+1]=xf(a,0),a!==0&&(t[a+1]=Dv(t[a+1],r)),a=r;else t[r+1]=xf(l,0),a===0?a=r:t[l+1]=Dv(t[l+1],r),l=r;c&&(t[r+1]=ty(t[r+1])),ET(t,d,r,!0),ET(t,d,r,!1),_3(e,d,t,r,o),s=xf(a,l),o?e.classBindings=s:e.styleBindings=s}function _3(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Bs(o,e)>=0&&(n[r+1]=ny(n[r+1]))}function ET(t,e,n,r){let i=t[n+1],o=e===null,s=r?Io(i):Zs(i),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],c=t[s+1];E3(l,e)&&(a=!0,t[s+1]=r?ny(c):ty(c)),s=r?Io(c):Zs(c)}a&&(t[n+1]=r?ty(i):ny(i))}function E3(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Bs(t,e)>=0:!1}function Dn(t,e){return C3(t,e,null,!0),Dn}function C3(t,e,n,r){let i=ye(),o=Ct(),s=PS(2);if(o.firstUpdatePass&&S3(o,t,s,r),e!==hr&&yi(i,s,e)){let a=o.data[pi()];A3(o,a,i,i[Ve],t,i[s+1]=b3(e,n),r,s)}}function w3(t,e){return e>=t.expandoStartIndex}function S3(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[pi()],s=w3(t,n);k3(o,r)&&e===null&&!s&&(e=!1),e=T3(i,o,e,r),y3(i,o,e,n,s,r)}}function T3(t,e,n,r){let i=OS(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Av(null,t,e,n,r),n=dc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Av(i,t,e,n,r),o===null){let l=x3(t,e,r);l!==void 0&&Array.isArray(l)&&(l=Av(null,t,e,l[1],r),l=dc(l,e.attrs,r),I3(t,e,r,l))}else o=D3(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function x3(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Zs(r)!==0)return t[Io(r)]}function I3(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Io(i)]=r}function D3(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=dc(r,s,n)}return dc(r,e.attrs,n)}function Av(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=dc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function dc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),fS(t,s,n?!0:e[++o]))}return t===void 0?null:t}function A3(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],d=v3(c)?CT(l,e,n,i,Zs(c),s):void 0;if(!zf(d)){zf(o)||m3(c)&&(o=CT(l,null,n,i,a,s));let p=ov(pi(),n);bB(r,s,p,i,o)}}function CT(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),d=c?l[1]:l,p=d===null,h=n[i+1];h===hr&&(h=p?tn:void 0);let g=p?df(h,r):d===r?h:void 0;if(c&&!zf(g)&&(g=df(l,r)),zf(g)&&(a=g,s))return a;let v=t[i+1];i=s?Io(v):Zs(v)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=df(l,r))}return a}function zf(t){return t!==void 0}function b3(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ai(ay(t)))),t}function k3(t,e){return(t.flags&(e?8:16))!==0}function b(t,e=""){let n=ye(),r=Ct(),i=t+gt,o=r.firstCreatePass?rp(r,i,1,e,null):r.data[i],s=N3(r,n,o,e,t);n[i]=s,Cf()&&_y(r,n,s,o),Gs(o,!1)}var N3=(t,e,n,r,i)=>(wf(!0),eB(e[Ve],r));function aI(t,e,n,r=""){return yi(t,fi(),n)?e+Hl(n)+r:hr}function Fe(t){return sn("",t),Fe}function sn(t,e,n){let r=ye(),i=aI(r,t,e,n);return i!==hr&&M3(r,pi(),i),sn}function M3(t,e,n){let r=ov(e,t);tB(t[Ve],r,n)}function dp(t,e,n){Ev(e)&&(e=e());let r=ye(),i=fi();if(yi(r,i,e)){let o=Ct(),s=Xl();gx(s,r,t,e,r[Ve],n)}return dp}function Py(t,e){let n=Ev(t);return n&&t.set(e),n}function fp(t,e){let n=ye(),r=Ct(),i=kt();return sI(r,n,n[Ve],i,t,e),fp}function Ry(t,e,n=""){return aI(ye(),t,e,n)}function Ly(t,e,n){let r=NS()+t,i=ye();return i[r]===hr?xV(i,r,n?e.call(n):e()):IV(i,r)}var P3=(()=>{class t{zone=K(tt);changeDetectionScheduler=K(Vn);applicationRef=K(gc);applicationErrorHandler=K(Rr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function lI({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new tt(U(I({},cI()),{scheduleInRootZone:n})),[{provide:tt,useFactory:t},{provide:po,multi:!0,useFactory:()=>{let r=K(P3,{optional:!0});return()=>r.initialize()}},{provide:po,multi:!0,useFactory:()=>{let r=K(R3);return()=>{r.initialize()}}},e===!0?{provide:Cv,useValue:!0}:[],{provide:Tf,useValue:n??ax},{provide:Rr,useFactory:()=>{let r=K(tt),i=K($t),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Sn),o.handleError(s))})}}}]}function cI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var R3=(()=>{class t{subscription=new bt;initialized=!1;zone=K(tt);pendingTasks=K(gi);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{tt.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{tt.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Fy=(()=>{class t{applicationErrorHandler=K(Rr);appRef=K(gc);taskService=K(gi);ngZone=K(tt);zonelessEnabled=K(Ql);tracing=K(fc,{optional:!0});disableScheduling=K(Cv,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new bt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Bf):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(K(Tf,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof oc||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?rT:lx;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Bf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,rT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Oy(){return Do("NgZoneless"),Gl([{provide:Vn,useExisting:Fy},{provide:tt,useClass:oc},{provide:Ql,useValue:!0},{provide:Tf,useValue:!1},[]])}function L3(){return typeof $localize<"u"&&$localize.locale||vc}var By=new he("",{providedIn:"root",factory:()=>K(By,{optional:!0,skipSelf:!0})||L3()});var pp=class{destroyed=!1;listeners=null;errorHandler=K(Sn,{optional:!0});destroyRef=K(mi);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new ie(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed){console.warn(Fs(953,!1));return}if(this.listeners===null)return;let n=oe(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{oe(n)}}};function Nt(t,e){return Fl(t,e?.equal)}var Vy=class{[Ze];constructor(e){this[Ze]=e}destroy(){this[Ze].destroy()}};function gr(t,e){let n=e?.injector??K(Mr),r=e?.manualCleanup!==!0?n.get(mi):null,i,o=n.get(Zl,null,{optional:!0}),s=n.get(Vn);return o!==null?(i=B3(o.view,s,t),r instanceof Ul&&r._lView===o.view&&(r=null)):i=V3(t,n.get(tc),s),i.injector=n,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new Vy(i)}var uI=U(I({},eS),{cleanupFns:void 0,zone:null,onDestroyFn:So,run(){let t=zs(!1);try{tS(this)}finally{zs(t)}},cleanup(){if(!this.cleanupFns?.length)return;let t=oe(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],oe(t)}}}),F3=U(I({},uI),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){no(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),O3=U(I({},uI),{consumerMarkedDirty(){this.view[se]|=8192,wo(this.view),this.notifier.notify(13)},destroy(){no(this),this.onDestroyFn(),this.cleanup(),this.view[Pr]?.delete(this)}});function B3(t,e,n){let r=Object.create(O3);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=dI(r,n),t[Pr]??=new Set,t[Pr].add(r),r.consumerMarkedDirty(r),r}function V3(t,e,n){let r=Object.create(F3);return r.fn=dI(r,t),r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function dI(t,e){return()=>{e(n=>(t.cleanupFns??=[]).push(n))}}var mp=Symbol("InputSignalNode#UNSET"),vI=U(I({},Pd),{transformFn:void 0,applyValueToInputSignal(t,e){ro(t,e)}});function yI(t,e){let n=Object.create(vI);n.value=t,n.transformFn=e?.transform;function r(){if(eo(n),n.value===mp){let i=null;throw new ie(-950,i)}return n.value}return r[Ze]=n,r}var Y3=new he("");Y3.__NG_ELEMENT_ID__=t=>{let e=kt();if(e===null)throw new ie(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new ie(204,!1)};function fI(t,e){return yI(t,e)}function J3(t){return yI(mp,t)}var _I=(fI.required=J3,fI);function pI(t,e){return Yx(e)}function K3(t,e){return Jx(e)}var Uy=(pI.required=K3,pI);function EI(t,e){let n=Object.create(vI),r=new pp;n.value=t;function i(){return eo(n),hI(n.value),n.value}return i[Ze]=n,i.asReadonly=Sf.bind(i),i.set=o=>{n.equal(n.value,o)||(ro(n,o),r.emit(o))},i.update=o=>{hI(n.value),i.set(o(n.value))},i.subscribe=r.subscribe.bind(r),i.destroyRef=r.destroyRef,i}function hI(t){if(t===mp)throw new ie(952,!1)}function mI(t,e){return EI(t,e)}function X3(t){return EI(mp,t)}var CI=(mI.required=X3,mI);var $y=new he(""),Z3=new he("");function _c(t){return!t.moduleRef}function Q3(t){let e=_c(t)?t.r3Injector:t.moduleRef.injector,n=e.get(tt);return n.run(()=>{_c(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Rr),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),_c(t)){let o=()=>e.destroy(),s=t.platformInjector.get($y);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get($y);s.add(o),t.moduleRef.onDestroy(()=>{rc(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return t8(r,n,()=>{let o=e.get(gi),s=o.add(),a=e.get(by);return a.runInitializers(),a.donePromise.then(()=>{let l=e.get(By,vc);if(oI(l||vc),!e.get(Z3,!0))return _c(t)?e.get(gc):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(_c(t)){let d=e.get(gc);return t.rootComponent!==void 0&&d.bootstrap(t.rootComponent),d}else return e8?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var e8;function t8(t,e,n){try{let r=n();return Ay(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var hp=null;function n8(t=[],e){return Mr.create({name:e,providers:[{provide:zl,useValue:"platform"},{provide:$y,useValue:new Set([()=>hp=null])},...t]})}function r8(t=[]){if(hp)return hp;let e=n8(t);return hp=e,nI(),i8(e),e}function i8(t){let e=t.get(Jf,null);Vs(t,()=>{e?.forEach(n=>n())})}function wI(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;Le(8);try{let o=i?.injector??r8(r),s=[lI({}),{provide:Vn,useExisting:Fy},WS,...n||[]],a=new uc({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return Q3({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Le(9)}}var SI=null;function Cc(){return SI}function Hy(t){SI??=t}var Ec=class{};var na=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=mc({type:t});static \u0275inj=Os({})}return t})();function wc(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var ko=class{};var TI="browser";var Sc=class{_doc;constructor(e){this._doc=e}manager},gp=(()=>{class t extends Sc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(Ee(on))};static \u0275prov=Se({token:t,factory:t.\u0275fac})}return t})(),yp=new he(""),jy=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof gp));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof gp);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new ie(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(Ee(yp),Ee(tt))};static \u0275prov=Se({token:t,factory:t.\u0275fac})}return t})(),qy="ng-app-id";function xI(t){for(let e of t)e.remove()}function II(t,e){let n=e.createElement("style");return n.textContent=t,n}function s8(t,e,n,r){let i=t.head?.querySelectorAll(`style[${qy}="${e}"],link[${qy}="${e}"]`);if(i)for(let o of i)o.removeAttribute(qy),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function zy(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Yy=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,s8(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,II);r?.forEach(i=>this.addUsage(i,this.external,zy))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(xI(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])xI(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,II(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,zy(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(Ee(on),Ee(Yf),Ee(Kf,8),Ee(ea))};static \u0275prov=Se({token:t,factory:t.\u0275fac})}return t})(),Gy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Jy=/%COMP%/g;var AI="%COMP%",a8=`_nghost-${AI}`,l8=`_ngcontent-${AI}`,c8=!0,u8=new he("",{providedIn:"root",factory:()=>c8});function d8(t){return l8.replace(Jy,t)}function f8(t){return a8.replace(Jy,t)}function bI(t,e){return e.map(n=>n.replace(Jy,t))}var Ky=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,l,c=null,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new Tc(n,s,l,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof vp?i.applyToHost(n):i instanceof xc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,p=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case Fr.Emulated:o=new vp(l,c,r,this.appId,d,s,a,p,h);break;case Fr.ShadowDom:return new Wy(l,c,n,r,s,a,this.nonce,p,h);default:o=new xc(l,c,r,d,s,a,p,h);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(Ee(jy),Ee(Yy),Ee(Yf),Ee(u8),Ee(on),Ee(ea),Ee(tt),Ee(Kf),Ee(fc,8))};static \u0275prov=Se({token:t,factory:t.\u0275fac})}return t})(),Tc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Gy[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(DI(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(DI(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ie(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Gy[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Gy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Or.DashCase|Or.Important)?e.style.setProperty(n,r,i&Or.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Or.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=Cc().getGlobalEventTarget(this.doc,e),!e))throw new ie(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function DI(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Wy=class extends Tc{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,l,c){super(e,o,s,l,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=bI(i.id,d);for(let h of d){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=h,this.shadowRoot.appendChild(g)}let p=i.getExternalStyles?.();if(p)for(let h of p){let g=zy(h,o);a&&g.setAttribute("nonce",a),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},xc=class extends Tc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,l,c){super(e,o,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=c?bI(c,d):d,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Js.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},vp=class extends xc{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,l,c){let d=i+"-"+r.id;super(e,n,r,o,s,a,l,c,d),this.contentAttr=d8(d),this.hostAttr=f8(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var _p=class t extends Ec{supportsDOMEvents=!0;static makeCurrent(){Hy(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=p8();return n==null?null:h8(n)}resetBaseElement(){Ic=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return wc(document.cookie,e)}},Ic=null;function p8(){return Ic=Ic||document.head.querySelector("base"),Ic?Ic.getAttribute("href"):null}function h8(t){return new URL(t,document.baseURI).pathname}var m8=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Se({token:t,factory:t.\u0275fac})}return t})(),kI=["alt","control","meta","shift"],g8={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},v8={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},NI=(()=>{class t extends Sc{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Cc().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),kI.forEach(c=>{let d=r.indexOf(c);d>-1&&(r.splice(d,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=g8[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),kI.forEach(s=>{if(s!==i){let a=v8[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(Ee(on))};static \u0275prov=Se({token:t,factory:t.\u0275fac})}return t})();function Xy(t,e,n){let r=I({rootComponent:t,platformRef:n?.platformRef},y8(e));return wI(r)}function y8(t){return{appProviders:[...S8,...t?.providers??[]],platformProviders:w8}}function _8(){_p.makeCurrent()}function E8(){return new Sn}function C8(){return oy(document),document}var w8=[{provide:ea,useValue:TI},{provide:Jf,useValue:_8,multi:!0},{provide:on,useFactory:C8}];var S8=[{provide:zl,useValue:"root"},{provide:Sn,useFactory:E8},{provide:yp,useClass:gp,multi:!0,deps:[on]},{provide:yp,useClass:NI,multi:!0,deps:[on]},Ky,Yy,jy,{provide:xo,useExisting:Ky},{provide:ko,useClass:m8},[]];var ia=class{},bc=class{},No=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Cp=class{encodeKey(e){return MI(e)}encodeValue(e){return MI(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function T8(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}var x8=/%(\d[a-f0-9])/gi,I8={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function MI(t){return encodeURIComponent(t).replace(x8,(e,n)=>I8[n]??e)}function Ep(t){return`${t}`}var Ei=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Cp,e.fromString){if(e.fromObject)throw new ie(2805,!1);this.map=T8(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Ep):[Ep(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Ep(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Ep(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var wp=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function D8(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function PI(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function RI(t){return typeof Blob<"u"&&t instanceof Blob}function LI(t){return typeof FormData<"u"&&t instanceof FormData}function A8(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var FI="Content-Type",OI="Accept",BI="X-Request-URL",VI="text/plain",$I="application/json",b8=`${$I}, ${VI}, */*`,Dc=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,n,r,i){this.url=n,this.method=e.toUpperCase();let o;if(D8(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new ie(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new No,this.context??=new wp,!this.params)this.params=new Ei,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||PI(this.body)||RI(this.body)||LI(this.body)||A8(this.body)?this.body:this.body instanceof Ei?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||LI(this.body)?null:RI(this.body)?this.body.type||null:PI(this.body)?null:typeof this.body=="string"?VI:this.body instanceof Ei?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?$I:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,l=e.mode||this.mode,c=e.redirect||this.redirect,d=e.credentials||this.credentials,p=e.referrer||this.referrer,h=e.integrity||this.integrity,g=e.transferCache??this.transferCache,v=e.timeout??this.timeout,w=e.body!==void 0?e.body:this.body,x=e.withCredentials??this.withCredentials,S=e.reportProgress??this.reportProgress,N=e.headers||this.headers,R=e.params||this.params,P=e.context??this.context;return e.setHeaders!==void 0&&(N=Object.keys(e.setHeaders).reduce((H,te)=>H.set(te,e.setHeaders[te]),N)),e.setParams&&(R=Object.keys(e.setParams).reduce((H,te)=>H.set(te,e.setParams[te]),R)),new t(n,r,w,{params:R,headers:N,context:P,reportProgress:S,responseType:i,withCredentials:x,transferCache:g,keepalive:o,cache:a,priority:s,timeout:v,mode:l,redirect:c,credentials:d,referrer:p,integrity:h})}},ra=(function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t})(ra||{}),oa=class{headers;status;statusText;url;ok;type;redirected;constructor(e,n=200,r="OK"){this.headers=e.headers||new No,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}},Sp=class t extends oa{constructor(e={}){super(e)}type=ra.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Tp=class t extends oa{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=ra.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}},Ac=class extends oa{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},k8=200,N8=204;function Zy(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,credentials:t.credentials,transferCache:t.transferCache,timeout:t.timeout,keepalive:t.keepalive,priority:t.priority,cache:t.cache,mode:t.mode,redirect:t.redirect,integrity:t.integrity,referrer:t.referrer}}var M8=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Dc)o=n;else{let l;i.headers instanceof No?l=i.headers:l=new No(i.headers);let c;i.params&&(i.params instanceof Ei?c=i.params:c=new Ei({fromObject:i.params})),o=new Dc(n,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,integrity:i.integrity,timeout:i.timeout})}let s=Zd(o).pipe(Dg(l=>this.handler.handle(l)));if(n instanceof Dc||i.observe==="events")return s;let a=s.pipe(Ig(l=>l instanceof Tp));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(lr(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new ie(2806,!1);return l.body}));case"blob":return a.pipe(lr(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new ie(2807,!1);return l.body}));case"text":return a.pipe(lr(l=>{if(l.body!==null&&typeof l.body!="string")throw new ie(2808,!1);return l.body}));case"json":default:return a.pipe(lr(l=>l.body))}case"response":return a;default:throw new ie(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Ei().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Zy(i,r))}post(n,r,i={}){return this.request("POST",n,Zy(i,r))}put(n,r,i={}){return this.request("PUT",n,Zy(i,r))}static \u0275fac=function(r){return new(r||t)(Ee(ia))};static \u0275prov=Se({token:t,factory:t.\u0275fac})}return t})();var P8=new he("");function R8(t,e){return e(t)}function L8(t,e,n){return(r,i)=>Vs(n,()=>e(r,o=>t(o,i)))}var UI=new he(""),F8=new he(""),HI=new he("",{providedIn:"root",factory:()=>!0});var xp=(()=>{class t extends ia{backend;injector;chain=null;pendingTasks=K(ec);contributeToStability=K(HI);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(UI),...this.injector.get(F8,[])]));this.chain=r.reduceRight((i,o)=>L8(i,o,this.injector),R8)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Ag(r))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(Ee(bc),Ee($t))};static \u0275prov=Se({token:t,factory:t.\u0275fac})}return t})();var O8=/^\)\]\}',?\n/,B8=RegExp(`^${BI}:`,"m");function V8(t){return"responseURL"in t&&t.responseURL?t.responseURL:B8.test(t.getAllResponseHeaders())?t.getResponseHeader(BI):null}var Qy=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new ie(-2800,!1);let r=this.xhrFactory;return Zd(null).pipe(bg(()=>new Ge(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((x,S)=>s.setRequestHeader(x,S.join(","))),n.headers.has(OI)||s.setRequestHeader(OI,b8),!n.headers.has(FI)){let x=n.detectContentTypeHeader();x!==null&&s.setRequestHeader(FI,x)}if(n.timeout&&(s.timeout=n.timeout),n.responseType){let x=n.responseType.toLowerCase();s.responseType=x!=="json"?x:"text"}let a=n.serializeBody(),l=null,c=()=>{if(l!==null)return l;let x=s.statusText||"OK",S=new No(s.getAllResponseHeaders()),N=V8(s)||n.url;return l=new Sp({headers:S,status:s.status,statusText:x,url:N}),l},d=()=>{let{headers:x,status:S,statusText:N,url:R}=c(),P=null;S!==N8&&(P=typeof s.response>"u"?s.responseText:s.response),S===0&&(S=P?k8:0);let H=S>=200&&S<300;if(n.responseType==="json"&&typeof P=="string"){let te=P;P=P.replace(O8,"");try{P=P!==""?JSON.parse(P):null}catch(_e){P=te,H&&(H=!1,P={error:_e,text:P})}}H?(o.next(new Tp({body:P,headers:x,status:S,statusText:N,url:R||void 0})),o.complete()):o.error(new Ac({error:P,headers:x,status:S,statusText:N,url:R||void 0}))},p=x=>{let{url:S}=c(),N=new Ac({error:x,status:s.status||0,statusText:s.statusText||"Unknown Error",url:S||void 0});o.error(N)},h=p;n.timeout&&(h=x=>{let{url:S}=c(),N=new Ac({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:S||void 0});o.error(N)});let g=!1,v=x=>{g||(o.next(c()),g=!0);let S={type:ra.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(S.total=x.total),n.responseType==="text"&&s.responseText&&(S.partialText=s.responseText),o.next(S)},w=x=>{let S={type:ra.UploadProgress,loaded:x.loaded};x.lengthComputable&&(S.total=x.total),o.next(S)};return s.addEventListener("load",d),s.addEventListener("error",p),s.addEventListener("timeout",h),s.addEventListener("abort",p),n.reportProgress&&(s.addEventListener("progress",v),a!==null&&s.upload&&s.upload.addEventListener("progress",w)),s.send(a),o.next({type:ra.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",d),s.removeEventListener("timeout",h),n.reportProgress&&(s.removeEventListener("progress",v),a!==null&&s.upload&&s.upload.removeEventListener("progress",w)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)(Ee(ko))};static \u0275prov=Se({token:t,factory:t.\u0275fac})}return t})(),qI=new he(""),$8="XSRF-TOKEN",U8=new he("",{providedIn:"root",factory:()=>$8}),H8="X-XSRF-TOKEN",q8=new he("",{providedIn:"root",factory:()=>H8}),kc=class{},G8=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=wc(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)(Ee(on),Ee(U8))};static \u0275prov=Se({token:t,factory:t.\u0275fac})}return t})();function z8(t,e){let n=t.url.toLowerCase();if(!K(qI)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=K(kc).getToken(),i=K(q8);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function e0(...t){let e=[M8,Qy,xp,{provide:ia,useExisting:xp},{provide:bc,useFactory:()=>K(P8,{optional:!0})??K(Qy)},{provide:UI,useValue:z8,multi:!0},{provide:qI,useValue:!0},{provide:kc,useClass:G8}];for(let n of t)e.push(...n.\u0275providers);return Gl(e)}var W8,j8;function Y8(){return{geminiUrl:W8,vertexUrl:j8}}function J8(t,e,n,r){var i,o;if(!t?.baseUrl){let s=Y8();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}var Br=class{};function W(t,e){let n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){let o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function f(t,e,n){for(let o=0;o<e.length-1;o++){let s=e[o];if(s.endsWith("[]")){let a=s.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[a])){let l=t[a];if(Array.isArray(n))for(let c=0;c<l.length;c++){let d=l[c];f(d,e.slice(o+1),n[c])}else for(let c of l)f(c,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){let a=s.slice(0,-3);a in t||(t[a]=[{}]);let l=t[a];f(l[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}let r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function u(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;let i=e[r];if(i.endsWith("[]")){let o=i.slice(0,-2);if(o in t){let s=t[o];return Array.isArray(s)?s.map(a=>u(a,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function K8(t,e){for(let[n,r]of Object.entries(e)){let i=n.split("."),o=r.split("."),s=new Set,a=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){a=l;break}if(a!==-1&&o.length>a)for(let l=a;l<o.length;l++){let c=o[l];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&s.add(c)}n0(t,i,o,0,s)}}function n0(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;let o=e[r];if(o.endsWith("[]")){let s=o.slice(0,-2),a=t;if(s in a&&Array.isArray(a[s]))for(let l of a[s])n0(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){let s=t,a=Object.keys(s).filter(c=>!c.startsWith("_")&&!i.has(c)),l={};for(let c of a)l[c]=s[c];for(let[c,d]of Object.entries(l)){let p=[];for(let h of n.slice(r))h==="*"?p.push(c):p.push(h);f(s,p,d)}for(let c of a)delete s[c]}}else{let s=t;o in s&&n0(s[o],e,n,r+1,i)}}function $0(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function X8(t){let e={},n=u(t,["operationName"]);n!=null&&f(e,["operationName"],n);let r=u(t,["resourceName"]);return r!=null&&f(e,["_url","resourceName"],r),e}function Z8(t){let e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);let r=u(t,["metadata"]);r!=null&&f(e,["metadata"],r);let i=u(t,["done"]);i!=null&&f(e,["done"],i);let o=u(t,["error"]);o!=null&&f(e,["error"],o);let s=u(t,["response","generateVideoResponse"]);return s!=null&&f(e,["response"],e$(s)),e}function Q8(t){let e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);let r=u(t,["metadata"]);r!=null&&f(e,["metadata"],r);let i=u(t,["done"]);i!=null&&f(e,["done"],i);let o=u(t,["error"]);o!=null&&f(e,["error"],o);let s=u(t,["response"]);return s!=null&&f(e,["response"],t$(s)),e}function e$(t){let e={},n=u(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>n$(s))),f(e,["generatedVideos"],o)}let r=u(t,["raiMediaFilteredCount"]);r!=null&&f(e,["raiMediaFilteredCount"],r);let i=u(t,["raiMediaFilteredReasons"]);return i!=null&&f(e,["raiMediaFilteredReasons"],i),e}function t$(t){let e={},n=u(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>r$(s))),f(e,["generatedVideos"],o)}let r=u(t,["raiMediaFilteredCount"]);r!=null&&f(e,["raiMediaFilteredCount"],r);let i=u(t,["raiMediaFilteredReasons"]);return i!=null&&f(e,["raiMediaFilteredReasons"],i),e}function n$(t){let e={},n=u(t,["video"]);return n!=null&&f(e,["video"],s$(n)),e}function r$(t){let e={},n=u(t,["_self"]);return n!=null&&f(e,["video"],a$(n)),e}function i$(t){let e={},n=u(t,["operationName"]);return n!=null&&f(e,["_url","operationName"],n),e}function o$(t){let e={},n=u(t,["operationName"]);return n!=null&&f(e,["_url","operationName"],n),e}function s$(t){let e={},n=u(t,["uri"]);n!=null&&f(e,["uri"],n);let r=u(t,["encodedVideo"]);r!=null&&f(e,["videoBytes"],$0(r));let i=u(t,["encoding"]);return i!=null&&f(e,["mimeType"],i),e}function a$(t){let e={},n=u(t,["gcsUri"]);n!=null&&f(e,["uri"],n);let r=u(t,["bytesBase64Encoded"]);r!=null&&f(e,["videoBytes"],$0(r));let i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}var vt=(function(t){return t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL",t})(vt||{});var r0=(function(t){return t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO",t})(r0||{});var lD=(function(t){return t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED",t})(lD||{});var Nc=(function(t){return t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT",t})(Nc||{});var Pc=class{constructor(e){let n={};for(let r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}};var Mo=class{get text(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",d=!1,p=[];for(let h of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(let[g,v]of Object.entries(h))g!=="text"&&g!=="thought"&&(v!==null||v!==void 0)&&p.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,c+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?c:void 0}get data(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="",d=[];for(let p of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(let[h,g]of Object.entries(p))h!=="inlineData"&&(g!==null||g!==void 0)&&d.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(c+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");let c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if(c?.length!==0)return c}get executableCode(){var e,n,r,i,o,s,a,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");let d=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if(d?.length!==0)return(c=d?.[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,r,i,o,s,a,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");let d=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if(d?.length!==0)return(c=d?.[0])===null||c===void 0?void 0:c.output}},Ap=class{},bp=class{},i0=class{},o0=class{},s0=class{},a0=class{},kp=class{},Np=class{},Mp=class{},l0=class{};var Pp=class t{_fromAPIResponse({apiResponse:e,isVertexAI:n}){let r=new t,i,o=e;return n?i=Q8(o):i=Z8(o),Object.assign(r,i),r}},Rp=class{},Lp=class{},Fp=class{},c0=class{},u0=class{},d0=class{};var Op=class{};var f0=class{get text(){var e,n,r;let i="",o=!1,s=[];for(let a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(let[l,c]of Object.entries(a))l!=="text"&&l!=="thought"&&c!==null&&s.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;o=!0,i+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="",o=[];for(let s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(let[a,l]of Object.entries(s))a!=="inlineData"&&l!==null&&o.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}};var p0=class{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}};function Ie(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){let n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function cD(t,e){let n=Ie(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function uD(t){return Array.isArray(t)?t.map(e=>Bp(e)):[Bp(t)]}function Bp(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function dD(t){let e=Bp(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function fD(t){let e=Bp(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function GI(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function pD(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>GI(e)):[GI(t)]}function h0(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function zI(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function WI(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function wt(t){if(t==null)throw new Error("ContentUnion is required");return h0(t)?t:{role:"user",parts:pD(t)}}function U0(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{let r=wt(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){let n=wt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>wt(n)):[wt(e)]}function An(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(zI(t)||WI(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[wt(t)]}let e=[],n=[],r=h0(t[0]);for(let i of t){let o=h0(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(zI(i)||WI(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:pD(n)}),e}function l$(t,e){t.includes("null")&&(e.nullable=!0);let n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(vt).includes(n[0].toUpperCase())?n[0].toUpperCase():vt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(let r of n)e.anyOf.push({type:Object.values(vt).includes(r.toUpperCase())?r.toUpperCase():vt.TYPE_UNSPECIFIED})}}function sa(t){let e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");let o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&l$(t.type,e);for(let[s,a]of Object.entries(t))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(vt).includes(a.toUpperCase())?a.toUpperCase():vt.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=sa(a);else if(r.includes(s)){let l=[];for(let c of a){if(c.type=="null"){e.nullable=!0;continue}l.push(sa(c))}e[s]=l}else if(i.includes(s)){let l={};for(let[c,d]of Object.entries(a))l[c]=sa(d);e[s]=l}else{if(s==="additionalProperties")continue;e[s]=a}return e}function H0(t){return sa(t)}function q0(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function G0(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ca(t){if(t.functionDeclarations)for(let e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=sa(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=sa(e.response));return t}function ua(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");let e=[];for(let n of t)e.push(n);return e}function c$(t,e,n,r=1){let i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Vr(t,e){if(typeof e!="string")throw new Error("name must be a string");return c$(t,e,"cachedContents")}function hD(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ci(t){return $0(t)}function u$(t){return t!=null&&typeof t=="object"&&"name"in t}function d$(t){return t!=null&&typeof t=="object"&&"video"in t}function f$(t){return t!=null&&typeof t=="object"&&"uri"in t}function mD(t){var e;let n;if(u$(t)&&(n=t.name),!(f$(t)&&(n=t.uri,n===void 0))&&!(d$(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){let i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function gD(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function vD(t){for(let e of["models","tunedModels","publisherModels"])if(p$(t,e))return t[e];return[]}function p$(t,e){return t!==null&&typeof t=="object"&&e in t}function h$(t,e={}){let n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function m$(t,e={}){let n=[],r=new Set;for(let i of t){let o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);let s=h$(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function yD(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;let r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function g$(t){if(typeof t!="string")return t;let e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function _D(t){if(typeof t!="object"||t===null)return{};let e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;let i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(let s of i){if(typeof s!="object"||s===null)continue;let l=s.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function da(t,e){let n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function ED(t){let e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function v$(t){let e={},n=u(t,["responsesFile"]);n!=null&&f(e,["fileName"],n);let r=u(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Y$(s))),f(e,["inlinedResponses"],o)}let i=u(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),f(e,["inlinedEmbedContentResponses"],o)}return e}function y$(t){let e={},n=u(t,["predictionsFormat"]);n!=null&&f(e,["format"],n);let r=u(t,["gcsDestination","outputUriPrefix"]);r!=null&&f(e,["gcsUri"],r);let i=u(t,["bigqueryDestination","outputUri"]);return i!=null&&f(e,["bigqueryUri"],i),e}function _$(t){let e={},n=u(t,["format"]);n!=null&&f(e,["predictionsFormat"],n);let r=u(t,["gcsUri"]);r!=null&&f(e,["gcsDestination","outputUriPrefix"],r);let i=u(t,["bigqueryUri"]);if(i!=null&&f(e,["bigqueryDestination","outputUri"],i),u(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Ip(t){let e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);let r=u(t,["metadata","displayName"]);r!=null&&f(e,["displayName"],r);let i=u(t,["metadata","state"]);i!=null&&f(e,["state"],ED(i));let o=u(t,["metadata","createTime"]);o!=null&&f(e,["createTime"],o);let s=u(t,["metadata","endTime"]);s!=null&&f(e,["endTime"],s);let a=u(t,["metadata","updateTime"]);a!=null&&f(e,["updateTime"],a);let l=u(t,["metadata","model"]);l!=null&&f(e,["model"],l);let c=u(t,["metadata","output"]);return c!=null&&f(e,["dest"],v$(_D(c))),e}function m0(t){let e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);let r=u(t,["displayName"]);r!=null&&f(e,["displayName"],r);let i=u(t,["state"]);i!=null&&f(e,["state"],ED(i));let o=u(t,["error"]);o!=null&&f(e,["error"],o);let s=u(t,["createTime"]);s!=null&&f(e,["createTime"],s);let a=u(t,["startTime"]);a!=null&&f(e,["startTime"],a);let l=u(t,["endTime"]);l!=null&&f(e,["endTime"],l);let c=u(t,["updateTime"]);c!=null&&f(e,["updateTime"],c);let d=u(t,["model"]);d!=null&&f(e,["model"],d);let p=u(t,["inputConfig"]);p!=null&&f(e,["src"],E$(p));let h=u(t,["outputConfig"]);return h!=null&&f(e,["dest"],y$(_D(h))),e}function E$(t){let e={},n=u(t,["instancesFormat"]);n!=null&&f(e,["format"],n);let r=u(t,["gcsSource","uris"]);r!=null&&f(e,["gcsUri"],r);let i=u(t,["bigquerySource","inputUri"]);return i!=null&&f(e,["bigqueryUri"],i),e}function C$(t,e){let n={};if(u(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");let r=u(e,["fileName"]);r!=null&&f(n,["fileName"],r);let i=u(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>j$(t,s))),f(n,["requests","requests"],o)}return n}function w$(t){let e={},n=u(t,["format"]);n!=null&&f(e,["instancesFormat"],n);let r=u(t,["gcsUri"]);r!=null&&f(e,["gcsSource","uris"],r);let i=u(t,["bigqueryUri"]);if(i!=null&&f(e,["bigquerySource","inputUri"],i),u(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function S$(t){let e={},n=u(t,["data"]);if(n!=null&&f(e,["data"],n),u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function T$(t,e){let n={},r=u(e,["name"]);return r!=null&&f(n,["_url","name"],da(t,r)),n}function x$(t,e){let n={},r=u(e,["name"]);return r!=null&&f(n,["_url","name"],da(t,r)),n}function I$(t){let e={},n=u(t,["content"]);n!=null&&f(e,["content"],n);let r=u(t,["citationMetadata"]);r!=null&&f(e,["citationMetadata"],D$(r));let i=u(t,["tokenCount"]);i!=null&&f(e,["tokenCount"],i);let o=u(t,["finishReason"]);o!=null&&f(e,["finishReason"],o);let s=u(t,["avgLogprobs"]);s!=null&&f(e,["avgLogprobs"],s);let a=u(t,["groundingMetadata"]);a!=null&&f(e,["groundingMetadata"],a);let l=u(t,["index"]);l!=null&&f(e,["index"],l);let c=u(t,["logprobsResult"]);c!=null&&f(e,["logprobsResult"],c);let d=u(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>g)),f(e,["safetyRatings"],h)}let p=u(t,["urlContextMetadata"]);return p!=null&&f(e,["urlContextMetadata"],p),e}function D$(t){let e={},n=u(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),f(e,["citations"],r)}return e}function CD(t){let e={},n=u(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>tU(o))),f(e,["parts"],i)}let r=u(t,["role"]);return r!=null&&f(e,["role"],r),e}function A$(t,e){let n={},r=u(t,["displayName"]);if(e!==void 0&&r!=null&&f(e,["batch","displayName"],r),u(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function b$(t,e){let n={},r=u(t,["displayName"]);e!==void 0&&r!=null&&f(e,["displayName"],r);let i=u(t,["dest"]);return e!==void 0&&i!=null&&f(e,["outputConfig"],_$(g$(i))),n}function jI(t,e){let n={},r=u(e,["model"]);r!=null&&f(n,["_url","model"],Ie(t,r));let i=u(e,["src"]);i!=null&&f(n,["batch","inputConfig"],C$(t,yD(t,i)));let o=u(e,["config"]);return o!=null&&A$(o,n),n}function k$(t,e){let n={},r=u(e,["model"]);r!=null&&f(n,["model"],Ie(t,r));let i=u(e,["src"]);i!=null&&f(n,["inputConfig"],w$(yD(t,i)));let o=u(e,["config"]);return o!=null&&b$(o,n),n}function N$(t,e){let n={},r=u(t,["displayName"]);return e!==void 0&&r!=null&&f(e,["batch","displayName"],r),n}function M$(t,e){let n={},r=u(e,["model"]);r!=null&&f(n,["_url","model"],Ie(t,r));let i=u(e,["src"]);i!=null&&f(n,["batch","inputConfig"],V$(t,i));let o=u(e,["config"]);return o!=null&&N$(o,n),n}function P$(t,e){let n={},r=u(e,["name"]);return r!=null&&f(n,["_url","name"],da(t,r)),n}function R$(t,e){let n={},r=u(e,["name"]);return r!=null&&f(n,["_url","name"],da(t,r)),n}function L$(t){let e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=u(t,["name"]);r!=null&&f(e,["name"],r);let i=u(t,["done"]);i!=null&&f(e,["done"],i);let o=u(t,["error"]);return o!=null&&f(e,["error"],o),e}function F$(t){let e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=u(t,["name"]);r!=null&&f(e,["name"],r);let i=u(t,["done"]);i!=null&&f(e,["done"],i);let o=u(t,["error"]);return o!=null&&f(e,["error"],o),e}function O$(t,e){let n={},r=u(e,["contents"]);if(r!=null){let o=U0(t,r);Array.isArray(o)&&(o=o.map(s=>s)),f(n,["requests[]","request","content"],o)}let i=u(e,["config"]);return i!=null&&(f(n,["_self"],B$(i,n)),K8(n,{"requests[].*":"requests[].request.*"})),n}function B$(t,e){let n={},r=u(t,["taskType"]);e!==void 0&&r!=null&&f(e,["requests[]","taskType"],r);let i=u(t,["title"]);e!==void 0&&i!=null&&f(e,["requests[]","title"],i);let o=u(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&f(e,["requests[]","outputDimensionality"],o),u(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function V$(t,e){let n={},r=u(e,["fileName"]);r!=null&&f(n,["file_name"],r);let i=u(e,["inlinedRequests"]);return i!=null&&f(n,["requests"],O$(t,i)),n}function $$(t){let e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);let r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function U$(t,e,n){let r={},i=u(e,["systemInstruction"]);n!==void 0&&i!=null&&f(n,["systemInstruction"],CD(wt(i)));let o=u(e,["temperature"]);o!=null&&f(r,["temperature"],o);let s=u(e,["topP"]);s!=null&&f(r,["topP"],s);let a=u(e,["topK"]);a!=null&&f(r,["topK"],a);let l=u(e,["candidateCount"]);l!=null&&f(r,["candidateCount"],l);let c=u(e,["maxOutputTokens"]);c!=null&&f(r,["maxOutputTokens"],c);let d=u(e,["stopSequences"]);d!=null&&f(r,["stopSequences"],d);let p=u(e,["responseLogprobs"]);p!=null&&f(r,["responseLogprobs"],p);let h=u(e,["logprobs"]);h!=null&&f(r,["logprobs"],h);let g=u(e,["presencePenalty"]);g!=null&&f(r,["presencePenalty"],g);let v=u(e,["frequencyPenalty"]);v!=null&&f(r,["frequencyPenalty"],v);let w=u(e,["seed"]);w!=null&&f(r,["seed"],w);let x=u(e,["responseMimeType"]);x!=null&&f(r,["responseMimeType"],x);let S=u(e,["responseSchema"]);S!=null&&f(r,["responseSchema"],H0(S));let N=u(e,["responseJsonSchema"]);if(N!=null&&f(r,["responseJsonSchema"],N),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let R=u(e,["safetySettings"]);if(n!==void 0&&R!=null){let He=R;Array.isArray(He)&&(He=He.map(Wn=>nU(Wn))),f(n,["safetySettings"],He)}let P=u(e,["tools"]);if(n!==void 0&&P!=null){let He=ua(P);Array.isArray(He)&&(He=He.map(Wn=>rU(ca(Wn)))),f(n,["tools"],He)}let H=u(e,["toolConfig"]);if(n!==void 0&&H!=null&&f(n,["toolConfig"],H),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let te=u(e,["cachedContent"]);n!==void 0&&te!=null&&f(n,["cachedContent"],Vr(t,te));let _e=u(e,["responseModalities"]);_e!=null&&f(r,["responseModalities"],_e);let lt=u(e,["mediaResolution"]);lt!=null&&f(r,["mediaResolution"],lt);let le=u(e,["speechConfig"]);if(le!=null&&f(r,["speechConfig"],q0(le)),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let ke=u(e,["thinkingConfig"]);ke!=null&&f(r,["thinkingConfig"],ke);let it=u(e,["imageConfig"]);return it!=null&&f(r,["imageConfig"],it),r}function H$(t){let e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=u(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>I$(c))),f(e,["candidates"],l)}let i=u(t,["modelVersion"]);i!=null&&f(e,["modelVersion"],i);let o=u(t,["promptFeedback"]);o!=null&&f(e,["promptFeedback"],o);let s=u(t,["responseId"]);s!=null&&f(e,["responseId"],s);let a=u(t,["usageMetadata"]);return a!=null&&f(e,["usageMetadata"],a),e}function q$(t,e){let n={},r=u(e,["name"]);return r!=null&&f(n,["_url","name"],da(t,r)),n}function G$(t,e){let n={},r=u(e,["name"]);return r!=null&&f(n,["_url","name"],da(t,r)),n}function z$(t){let e={};if(u(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=u(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function W$(t){let e={};if(u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");let n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function j$(t,e){let n={},r=u(e,["model"]);r!=null&&f(n,["request","model"],Ie(t,r));let i=u(e,["contents"]);if(i!=null){let a=An(i);Array.isArray(a)&&(a=a.map(l=>CD(l))),f(n,["request","contents"],a)}let o=u(e,["metadata"]);o!=null&&f(n,["metadata"],o);let s=u(e,["config"]);return s!=null&&f(n,["request","generationConfig"],U$(t,s,u(n,["request"],{}))),n}function Y$(t){let e={},n=u(t,["response"]);n!=null&&f(e,["response"],H$(n));let r=u(t,["error"]);return r!=null&&f(e,["error"],r),e}function J$(t,e){let n={},r=u(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);let i=u(t,["pageToken"]);if(e!==void 0&&i!=null&&f(e,["_query","pageToken"],i),u(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function K$(t,e){let n={},r=u(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);let i=u(t,["pageToken"]);e!==void 0&&i!=null&&f(e,["_query","pageToken"],i);let o=u(t,["filter"]);return e!==void 0&&o!=null&&f(e,["_query","filter"],o),n}function X$(t){let e={},n=u(t,["config"]);return n!=null&&J$(n,e),e}function Z$(t){let e={},n=u(t,["config"]);return n!=null&&K$(n,e),e}function Q$(t){let e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=u(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);let i=u(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Ip(s))),f(e,["batchJobs"],o)}return e}function eU(t){let e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=u(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);let i=u(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>m0(s))),f(e,["batchJobs"],o)}return e}function tU(t){let e={},n=u(t,["functionCall"]);n!=null&&f(e,["functionCall"],n);let r=u(t,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);let i=u(t,["executableCode"]);i!=null&&f(e,["executableCode"],i);let o=u(t,["fileData"]);o!=null&&f(e,["fileData"],$$(o));let s=u(t,["functionResponse"]);s!=null&&f(e,["functionResponse"],s);let a=u(t,["inlineData"]);a!=null&&f(e,["inlineData"],S$(a));let l=u(t,["text"]);l!=null&&f(e,["text"],l);let c=u(t,["thought"]);c!=null&&f(e,["thought"],c);let d=u(t,["thoughtSignature"]);d!=null&&f(e,["thoughtSignature"],d);let p=u(t,["videoMetadata"]);return p!=null&&f(e,["videoMetadata"],p),e}function nU(t){let e={},n=u(t,["category"]);if(n!=null&&f(e,["category"],n),u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let r=u(t,["threshold"]);return r!=null&&f(e,["threshold"],r),e}function rU(t){let e={},n=u(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),f(e,["functionDeclarations"],c)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let r=u(t,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);let i=u(t,["googleMaps"]);i!=null&&f(e,["googleMaps"],z$(i));let o=u(t,["computerUse"]);o!=null&&f(e,["computerUse"],o);let s=u(t,["codeExecution"]);if(s!=null&&f(e,["codeExecution"],s),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let a=u(t,["googleSearch"]);a!=null&&f(e,["googleSearch"],W$(a));let l=u(t,["urlContext"]);return l!=null&&f(e,["urlContext"],l),e}var fa=(function(t){return t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_RAG_STORES="ragStores",t.PAGED_ITEM_DOCUMENTS="documents",t})(fa||{}),Po=class{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};let e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");let e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}};var g0=class extends Br{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new Po(fa.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){let n=jI(this.apiClient,e),r=n._url,i=W("{model}:batchGenerateContent",r),a=n.batch.inputConfig.requests,l=a.requests,c=[];for(let d of l){let p=Object.assign({},d);if(p.systemInstruction){let h=p.systemInstruction;delete p.systemInstruction;let g=p.request;g.systemInstruction=h,p.request=g}c.push(p)}return a.requests=c,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){let r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){let o=this.getGcsUri(e),s=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let c=k$(this.apiClient,e);return a=W("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>m0(d))}else{let c=jI(this.apiClient,e);return a=W("{model}:batchGenerateContent",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>Ip(d))}}async createEmbeddingsInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=M$(this.apiClient,e);return o=W("{model}:asyncBatchEmbedContent",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Ip(l))}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let c=G$(this.apiClient,e);return a=W("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>m0(d))}else{let c=q$(this.apiClient,e);return a=W("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>Ip(d))}}async cancel(e){var n,r,i,o;let s="",a={};if(this.apiClient.isVertexAI()){let l=x$(this.apiClient,e);s=W("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{let l=T$(this.apiClient,e);s=W("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let c=Z$(e);return a=W("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=eU(d),h=new Op;return Object.assign(h,p),h})}else{let c=X$(e);return a=W("batches",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=Q$(d),h=new Op;return Object.assign(h,p),h})}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let c=R$(this.apiClient,e);return a=W("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>F$(d))}else{let c=P$(this.apiClient,e);return a=W("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>L$(d))}}};function iU(t){let e={},n=u(t,["data"]);if(n!=null&&f(e,["data"],n),u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function YI(t){let e={},n=u(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>xU(o))),f(e,["parts"],i)}let r=u(t,["role"]);return r!=null&&f(e,["role"],r),e}function oU(t,e){let n={},r=u(t,["ttl"]);e!==void 0&&r!=null&&f(e,["ttl"],r);let i=u(t,["expireTime"]);e!==void 0&&i!=null&&f(e,["expireTime"],i);let o=u(t,["displayName"]);e!==void 0&&o!=null&&f(e,["displayName"],o);let s=u(t,["contents"]);if(e!==void 0&&s!=null){let d=An(s);Array.isArray(d)&&(d=d.map(p=>YI(p))),f(e,["contents"],d)}let a=u(t,["systemInstruction"]);e!==void 0&&a!=null&&f(e,["systemInstruction"],YI(wt(a)));let l=u(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(p=>IU(p))),f(e,["tools"],d)}let c=u(t,["toolConfig"]);if(e!==void 0&&c!=null&&f(e,["toolConfig"],c),u(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function sU(t,e){let n={},r=u(t,["ttl"]);e!==void 0&&r!=null&&f(e,["ttl"],r);let i=u(t,["expireTime"]);e!==void 0&&i!=null&&f(e,["expireTime"],i);let o=u(t,["displayName"]);e!==void 0&&o!=null&&f(e,["displayName"],o);let s=u(t,["contents"]);if(e!==void 0&&s!=null){let p=An(s);Array.isArray(p)&&(p=p.map(h=>h)),f(e,["contents"],p)}let a=u(t,["systemInstruction"]);e!==void 0&&a!=null&&f(e,["systemInstruction"],wt(a));let l=u(t,["tools"]);if(e!==void 0&&l!=null){let p=l;Array.isArray(p)&&(p=p.map(h=>DU(h))),f(e,["tools"],p)}let c=u(t,["toolConfig"]);e!==void 0&&c!=null&&f(e,["toolConfig"],c);let d=u(t,["kmsKeyName"]);return e!==void 0&&d!=null&&f(e,["encryption_spec","kmsKeyName"],d),n}function aU(t,e){let n={},r=u(e,["model"]);r!=null&&f(n,["model"],cD(t,r));let i=u(e,["config"]);return i!=null&&oU(i,n),n}function lU(t,e){let n={},r=u(e,["model"]);r!=null&&f(n,["model"],cD(t,r));let i=u(e,["config"]);return i!=null&&sU(i,n),n}function cU(t,e){let n={},r=u(e,["name"]);return r!=null&&f(n,["_url","name"],Vr(t,r)),n}function uU(t,e){let n={},r=u(e,["name"]);return r!=null&&f(n,["_url","name"],Vr(t,r)),n}function dU(t){let e={},n=u(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function fU(t){let e={},n=u(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function pU(t){let e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);let r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function hU(t){let e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");let n=u(t,["description"]);n!=null&&f(e,["description"],n);let r=u(t,["name"]);r!=null&&f(e,["name"],r);let i=u(t,["parameters"]);i!=null&&f(e,["parameters"],i);let o=u(t,["parametersJsonSchema"]);o!=null&&f(e,["parametersJsonSchema"],o);let s=u(t,["response"]);s!=null&&f(e,["response"],s);let a=u(t,["responseJsonSchema"]);return a!=null&&f(e,["responseJsonSchema"],a),e}function mU(t,e){let n={},r=u(e,["name"]);return r!=null&&f(n,["_url","name"],Vr(t,r)),n}function gU(t,e){let n={},r=u(e,["name"]);return r!=null&&f(n,["_url","name"],Vr(t,r)),n}function vU(t){let e={};if(u(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=u(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function yU(t){let e={};if(u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");let n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function _U(t,e){let n={},r=u(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);let i=u(t,["pageToken"]);return e!==void 0&&i!=null&&f(e,["_query","pageToken"],i),n}function EU(t,e){let n={},r=u(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);let i=u(t,["pageToken"]);return e!==void 0&&i!=null&&f(e,["_query","pageToken"],i),n}function CU(t){let e={},n=u(t,["config"]);return n!=null&&_U(n,e),e}function wU(t){let e={},n=u(t,["config"]);return n!=null&&EU(n,e),e}function SU(t){let e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=u(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);let i=u(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),f(e,["cachedContents"],o)}return e}function TU(t){let e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=u(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);let i=u(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),f(e,["cachedContents"],o)}return e}function xU(t){let e={},n=u(t,["functionCall"]);n!=null&&f(e,["functionCall"],n);let r=u(t,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);let i=u(t,["executableCode"]);i!=null&&f(e,["executableCode"],i);let o=u(t,["fileData"]);o!=null&&f(e,["fileData"],pU(o));let s=u(t,["functionResponse"]);s!=null&&f(e,["functionResponse"],s);let a=u(t,["inlineData"]);a!=null&&f(e,["inlineData"],iU(a));let l=u(t,["text"]);l!=null&&f(e,["text"],l);let c=u(t,["thought"]);c!=null&&f(e,["thought"],c);let d=u(t,["thoughtSignature"]);d!=null&&f(e,["thoughtSignature"],d);let p=u(t,["videoMetadata"]);return p!=null&&f(e,["videoMetadata"],p),e}function IU(t){let e={},n=u(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),f(e,["functionDeclarations"],c)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let r=u(t,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);let i=u(t,["googleMaps"]);i!=null&&f(e,["googleMaps"],vU(i));let o=u(t,["computerUse"]);o!=null&&f(e,["computerUse"],o);let s=u(t,["codeExecution"]);if(s!=null&&f(e,["codeExecution"],s),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let a=u(t,["googleSearch"]);a!=null&&f(e,["googleSearch"],yU(a));let l=u(t,["urlContext"]);return l!=null&&f(e,["urlContext"],l),e}function DU(t){let e={},n=u(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>hU(h))),f(e,["functionDeclarations"],p)}let r=u(t,["retrieval"]);r!=null&&f(e,["retrieval"],r);let i=u(t,["googleSearchRetrieval"]);i!=null&&f(e,["googleSearchRetrieval"],i);let o=u(t,["googleMaps"]);o!=null&&f(e,["googleMaps"],o);let s=u(t,["computerUse"]);s!=null&&f(e,["computerUse"],s);let a=u(t,["codeExecution"]);a!=null&&f(e,["codeExecution"],a);let l=u(t,["enterpriseWebSearch"]);l!=null&&f(e,["enterpriseWebSearch"],l);let c=u(t,["googleSearch"]);c!=null&&f(e,["googleSearch"],c);let d=u(t,["urlContext"]);return d!=null&&f(e,["urlContext"],d),e}function AU(t,e){let n={},r=u(t,["ttl"]);e!==void 0&&r!=null&&f(e,["ttl"],r);let i=u(t,["expireTime"]);return e!==void 0&&i!=null&&f(e,["expireTime"],i),n}function bU(t,e){let n={},r=u(t,["ttl"]);e!==void 0&&r!=null&&f(e,["ttl"],r);let i=u(t,["expireTime"]);return e!==void 0&&i!=null&&f(e,["expireTime"],i),n}function kU(t,e){let n={},r=u(e,["name"]);r!=null&&f(n,["_url","name"],Vr(t,r));let i=u(e,["config"]);return i!=null&&AU(i,n),n}function NU(t,e){let n={},r=u(e,["name"]);r!=null&&f(n,["_url","name"],Vr(t,r));let i=u(e,["config"]);return i!=null&&bU(i,n),n}var v0=class extends Br{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Po(fa.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let c=lU(this.apiClient,e);return a=W("cachedContents",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{let c=aU(this.apiClient,e);return a=W("cachedContents",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let c=gU(this.apiClient,e);return a=W("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{let c=mU(this.apiClient,e);return a=W("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let c=uU(this.apiClient,e);return a=W("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=fU(d),h=new Lp;return Object.assign(h,p),h})}else{let c=cU(this.apiClient,e);return a=W("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=dU(d),h=new Lp;return Object.assign(h,p),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let c=NU(this.apiClient,e);return a=W("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{let c=kU(this.apiClient,e);return a=W("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let c=wU(e);return a=W("cachedContents",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=TU(d),h=new Fp;return Object.assign(h,p),h})}else{let c=CU(e);return a=W("cachedContents",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=SU(d),h=new Fp;return Object.assign(h,p),h})}}};function JI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $e(t){return this instanceof $e?(this.v=t,this):new $e(t)}function aa(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(v){return Promise.resolve(v).then(g,p)}}function a(g,v){r[g]&&(i[g]=function(w){return new Promise(function(x,S){o.push([g,w,x,S])>1||l(g,w)})},v&&(i[g]=v(i[g])))}function l(g,v){try{c(r[g](v))}catch(w){h(o[0][3],w)}}function c(g){g.value instanceof $e?Promise.resolve(g.value.v).then(d,p):h(o[0][2],g)}function d(g){l("next",g)}function p(g){l("throw",g)}function h(g,v){g(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Mc(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof JI=="function"?JI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}function MU(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;let n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:wD(n)}function wD(t){if(t.parts===void 0||t.parts.length===0)return!1;for(let e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function PU(t){if(t.length!==0){for(let e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function KI(t){if(t===void 0||t.length===0)return[];let e=[],n=t.length,r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{let i=[],o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!wD(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}var y0=class{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new _0(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}},_0=class{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),PU(o)}async sendMessage(e){var n;await this.sendPromise;let r=wt(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,a;let l=await i,c=(s=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,d=l.automaticFunctionCallingHistory,p=this.getHistory(!0).length,h=[];d!=null&&(h=(a=d.slice(p))!==null&&a!==void 0?a:[]);let g=c?[c]:[];this.recordHistory(r,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;let r=wt(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});let o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){let n=e?KI(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return aa(this,arguments,function*(){var s,a,l,c;let d=[];try{for(var p=!0,h=Mc(e),g;g=yield $e(h.next()),s=g.done,!s;p=!0){c=g.value,p=!1;let v=c;if(MU(v)){let w=(i=(r=v.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;w!==void 0&&d.push(w)}yield yield $e(v)}}catch(v){a={error:v}}finally{try{!p&&!s&&(l=h.return)&&(yield $e(l.call(h)))}finally{if(a)throw a.error}}this.recordHistory(n,d)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...KI(r)):this.history.push(e),this.history.push(...i)}};var Vp=class t extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,t.prototype)}};function RU(t){let e={},n=u(t,["file"]);return n!=null&&f(e,["file"],n),e}function LU(t){let e={},n=u(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function FU(t){let e={},n=u(t,["name"]);return n!=null&&f(e,["_url","file"],mD(n)),e}function OU(t){let e={},n=u(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function BU(t){let e={},n=u(t,["name"]);return n!=null&&f(e,["_url","file"],mD(n)),e}function VU(t,e){let n={},r=u(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);let i=u(t,["pageToken"]);return e!==void 0&&i!=null&&f(e,["_query","pageToken"],i),n}function $U(t){let e={},n=u(t,["config"]);return n!=null&&VU(n,e),e}function UU(t){let e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=u(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);let i=u(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),f(e,["files"],o)}return e}var E0=class extends Br{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Po(fa.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=$U(e);return o=W("files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{let d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{let c=UU(l),d=new c0;return Object.assign(d,c),d})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=RU(e);return o=W("upload/v1beta/files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{let c=LU(l),d=new u0;return Object.assign(d,c),d})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=BU(e);return o=W("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=FU(e);return o=W("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{let d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{let c=OU(l),d=new d0;return Object.assign(d,c),d})}}};function Dp(t){let e={},n=u(t,["data"]);if(n!=null&&f(e,["data"],n),u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function HU(t){let e={},n=u(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>rH(o))),f(e,["parts"],i)}let r=u(t,["role"]);return r!=null&&f(e,["role"],r),e}function qU(t){let e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);let r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function GU(t){let e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");let n=u(t,["description"]);n!=null&&f(e,["description"],n);let r=u(t,["name"]);r!=null&&f(e,["name"],r);let i=u(t,["parameters"]);i!=null&&f(e,["parameters"],i);let o=u(t,["parametersJsonSchema"]);o!=null&&f(e,["parametersJsonSchema"],o);let s=u(t,["response"]);s!=null&&f(e,["response"],s);let a=u(t,["responseJsonSchema"]);return a!=null&&f(e,["responseJsonSchema"],a),e}function zU(t){let e={},n=u(t,["modelSelectionConfig"]);n!=null&&f(e,["modelConfig"],n);let r=u(t,["audioTimestamp"]);r!=null&&f(e,["audioTimestamp"],r);let i=u(t,["candidateCount"]);i!=null&&f(e,["candidateCount"],i);let o=u(t,["enableAffectiveDialog"]);o!=null&&f(e,["enableAffectiveDialog"],o);let s=u(t,["frequencyPenalty"]);s!=null&&f(e,["frequencyPenalty"],s);let a=u(t,["logprobs"]);a!=null&&f(e,["logprobs"],a);let l=u(t,["maxOutputTokens"]);l!=null&&f(e,["maxOutputTokens"],l);let c=u(t,["mediaResolution"]);c!=null&&f(e,["mediaResolution"],c);let d=u(t,["presencePenalty"]);d!=null&&f(e,["presencePenalty"],d);let p=u(t,["responseJsonSchema"]);p!=null&&f(e,["responseJsonSchema"],p);let h=u(t,["responseLogprobs"]);h!=null&&f(e,["responseLogprobs"],h);let g=u(t,["responseMimeType"]);g!=null&&f(e,["responseMimeType"],g);let v=u(t,["responseModalities"]);v!=null&&f(e,["responseModalities"],v);let w=u(t,["responseSchema"]);w!=null&&f(e,["responseSchema"],w);let x=u(t,["routingConfig"]);x!=null&&f(e,["routingConfig"],x);let S=u(t,["seed"]);S!=null&&f(e,["seed"],S);let N=u(t,["speechConfig"]);N!=null&&f(e,["speechConfig"],SD(N));let R=u(t,["stopSequences"]);R!=null&&f(e,["stopSequences"],R);let P=u(t,["temperature"]);P!=null&&f(e,["temperature"],P);let H=u(t,["thinkingConfig"]);H!=null&&f(e,["thinkingConfig"],H);let te=u(t,["topK"]);te!=null&&f(e,["topK"],te);let _e=u(t,["topP"]);if(_e!=null&&f(e,["topP"],_e),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function WU(t){let e={};if(u(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=u(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function jU(t){let e={};if(u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");let n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function YU(t,e){let n={},r=u(t,["generationConfig"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig"],r);let i=u(t,["responseModalities"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig","responseModalities"],i);let o=u(t,["temperature"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig","temperature"],o);let s=u(t,["topP"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","topP"],s);let a=u(t,["topK"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","topK"],a);let l=u(t,["maxOutputTokens"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","maxOutputTokens"],l);let c=u(t,["mediaResolution"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","mediaResolution"],c);let d=u(t,["seed"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","seed"],d);let p=u(t,["speechConfig"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","speechConfig"],G0(p));let h=u(t,["thinkingConfig"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","thinkingConfig"],h);let g=u(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],g);let v=u(t,["systemInstruction"]);e!==void 0&&v!=null&&f(e,["setup","systemInstruction"],HU(wt(v)));let w=u(t,["tools"]);if(e!==void 0&&w!=null){let te=ua(w);Array.isArray(te)&&(te=te.map(_e=>oH(ca(_e)))),f(e,["setup","tools"],te)}let x=u(t,["sessionResumption"]);e!==void 0&&x!=null&&f(e,["setup","sessionResumption"],iH(x));let S=u(t,["inputAudioTranscription"]);e!==void 0&&S!=null&&f(e,["setup","inputAudioTranscription"],S);let N=u(t,["outputAudioTranscription"]);e!==void 0&&N!=null&&f(e,["setup","outputAudioTranscription"],N);let R=u(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&f(e,["setup","realtimeInputConfig"],R);let P=u(t,["contextWindowCompression"]);e!==void 0&&P!=null&&f(e,["setup","contextWindowCompression"],P);let H=u(t,["proactivity"]);return e!==void 0&&H!=null&&f(e,["setup","proactivity"],H),n}function JU(t,e){let n={},r=u(t,["generationConfig"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig"],zU(r));let i=u(t,["responseModalities"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig","responseModalities"],i);let o=u(t,["temperature"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig","temperature"],o);let s=u(t,["topP"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","topP"],s);let a=u(t,["topK"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","topK"],a);let l=u(t,["maxOutputTokens"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","maxOutputTokens"],l);let c=u(t,["mediaResolution"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","mediaResolution"],c);let d=u(t,["seed"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","seed"],d);let p=u(t,["speechConfig"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","speechConfig"],SD(G0(p)));let h=u(t,["thinkingConfig"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","thinkingConfig"],h);let g=u(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],g);let v=u(t,["systemInstruction"]);e!==void 0&&v!=null&&f(e,["setup","systemInstruction"],wt(v));let w=u(t,["tools"]);if(e!==void 0&&w!=null){let te=ua(w);Array.isArray(te)&&(te=te.map(_e=>sH(ca(_e)))),f(e,["setup","tools"],te)}let x=u(t,["sessionResumption"]);e!==void 0&&x!=null&&f(e,["setup","sessionResumption"],x);let S=u(t,["inputAudioTranscription"]);e!==void 0&&S!=null&&f(e,["setup","inputAudioTranscription"],S);let N=u(t,["outputAudioTranscription"]);e!==void 0&&N!=null&&f(e,["setup","outputAudioTranscription"],N);let R=u(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&f(e,["setup","realtimeInputConfig"],R);let P=u(t,["contextWindowCompression"]);e!==void 0&&P!=null&&f(e,["setup","contextWindowCompression"],P);let H=u(t,["proactivity"]);return e!==void 0&&H!=null&&f(e,["setup","proactivity"],H),n}function KU(t,e){let n={},r=u(e,["model"]);r!=null&&f(n,["setup","model"],Ie(t,r));let i=u(e,["config"]);return i!=null&&f(n,["config"],YU(i,n)),n}function XU(t,e){let n={},r=u(e,["model"]);r!=null&&f(n,["setup","model"],Ie(t,r));let i=u(e,["config"]);return i!=null&&f(n,["config"],JU(i,n)),n}function ZU(t){let e={},n=u(t,["musicGenerationConfig"]);return n!=null&&f(e,["musicGenerationConfig"],n),e}function QU(t){let e={},n=u(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),f(e,["weightedPrompts"],r)}return e}function eH(t){let e={},n=u(t,["media"]);if(n!=null){let c=uD(n);Array.isArray(c)&&(c=c.map(d=>Dp(d))),f(e,["mediaChunks"],c)}let r=u(t,["audio"]);r!=null&&f(e,["audio"],Dp(fD(r)));let i=u(t,["audioStreamEnd"]);i!=null&&f(e,["audioStreamEnd"],i);let o=u(t,["video"]);o!=null&&f(e,["video"],Dp(dD(o)));let s=u(t,["text"]);s!=null&&f(e,["text"],s);let a=u(t,["activityStart"]);a!=null&&f(e,["activityStart"],a);let l=u(t,["activityEnd"]);return l!=null&&f(e,["activityEnd"],l),e}function tH(t){let e={},n=u(t,["media"]);if(n!=null){let c=uD(n);Array.isArray(c)&&(c=c.map(d=>d)),f(e,["mediaChunks"],c)}let r=u(t,["audio"]);r!=null&&f(e,["audio"],fD(r));let i=u(t,["audioStreamEnd"]);i!=null&&f(e,["audioStreamEnd"],i);let o=u(t,["video"]);o!=null&&f(e,["video"],dD(o));let s=u(t,["text"]);s!=null&&f(e,["text"],s);let a=u(t,["activityStart"]);a!=null&&f(e,["activityStart"],a);let l=u(t,["activityEnd"]);return l!=null&&f(e,["activityEnd"],l),e}function nH(t){let e={},n=u(t,["setupComplete"]);n!=null&&f(e,["setupComplete"],n);let r=u(t,["serverContent"]);r!=null&&f(e,["serverContent"],r);let i=u(t,["toolCall"]);i!=null&&f(e,["toolCall"],i);let o=u(t,["toolCallCancellation"]);o!=null&&f(e,["toolCallCancellation"],o);let s=u(t,["usageMetadata"]);s!=null&&f(e,["usageMetadata"],aH(s));let a=u(t,["goAway"]);a!=null&&f(e,["goAway"],a);let l=u(t,["sessionResumptionUpdate"]);return l!=null&&f(e,["sessionResumptionUpdate"],l),e}function rH(t){let e={},n=u(t,["functionCall"]);n!=null&&f(e,["functionCall"],n);let r=u(t,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);let i=u(t,["executableCode"]);i!=null&&f(e,["executableCode"],i);let o=u(t,["fileData"]);o!=null&&f(e,["fileData"],qU(o));let s=u(t,["functionResponse"]);s!=null&&f(e,["functionResponse"],s);let a=u(t,["inlineData"]);a!=null&&f(e,["inlineData"],Dp(a));let l=u(t,["text"]);l!=null&&f(e,["text"],l);let c=u(t,["thought"]);c!=null&&f(e,["thought"],c);let d=u(t,["thoughtSignature"]);d!=null&&f(e,["thoughtSignature"],d);let p=u(t,["videoMetadata"]);return p!=null&&f(e,["videoMetadata"],p),e}function iH(t){let e={},n=u(t,["handle"]);if(n!=null&&f(e,["handle"],n),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function SD(t){let e={},n=u(t,["languageCode"]);n!=null&&f(e,["languageCode"],n);let r=u(t,["voiceConfig"]);if(r!=null&&f(e,["voiceConfig"],r),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function oH(t){let e={},n=u(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),f(e,["functionDeclarations"],c)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let r=u(t,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);let i=u(t,["googleMaps"]);i!=null&&f(e,["googleMaps"],WU(i));let o=u(t,["computerUse"]);o!=null&&f(e,["computerUse"],o);let s=u(t,["codeExecution"]);if(s!=null&&f(e,["codeExecution"],s),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let a=u(t,["googleSearch"]);a!=null&&f(e,["googleSearch"],jU(a));let l=u(t,["urlContext"]);return l!=null&&f(e,["urlContext"],l),e}function sH(t){let e={},n=u(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>GU(h))),f(e,["functionDeclarations"],p)}let r=u(t,["retrieval"]);r!=null&&f(e,["retrieval"],r);let i=u(t,["googleSearchRetrieval"]);i!=null&&f(e,["googleSearchRetrieval"],i);let o=u(t,["googleMaps"]);o!=null&&f(e,["googleMaps"],o);let s=u(t,["computerUse"]);s!=null&&f(e,["computerUse"],s);let a=u(t,["codeExecution"]);a!=null&&f(e,["codeExecution"],a);let l=u(t,["enterpriseWebSearch"]);l!=null&&f(e,["enterpriseWebSearch"],l);let c=u(t,["googleSearch"]);c!=null&&f(e,["googleSearch"],c);let d=u(t,["urlContext"]);return d!=null&&f(e,["urlContext"],d),e}function aH(t){let e={},n=u(t,["promptTokenCount"]);n!=null&&f(e,["promptTokenCount"],n);let r=u(t,["cachedContentTokenCount"]);r!=null&&f(e,["cachedContentTokenCount"],r);let i=u(t,["candidatesTokenCount"]);i!=null&&f(e,["responseTokenCount"],i);let o=u(t,["toolUsePromptTokenCount"]);o!=null&&f(e,["toolUsePromptTokenCount"],o);let s=u(t,["thoughtsTokenCount"]);s!=null&&f(e,["thoughtsTokenCount"],s);let a=u(t,["totalTokenCount"]);a!=null&&f(e,["totalTokenCount"],a);let l=u(t,["promptTokensDetails"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(v=>v)),f(e,["promptTokensDetails"],g)}let c=u(t,["cacheTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(v=>v)),f(e,["cacheTokensDetails"],g)}let d=u(t,["candidatesTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),f(e,["responseTokensDetails"],g)}let p=u(t,["toolUsePromptTokensDetails"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(v=>v)),f(e,["toolUsePromptTokensDetails"],g)}let h=u(t,["trafficType"]);return h!=null&&f(e,["trafficType"],h),e}function lH(t){let e={},n=u(t,["data"]);if(n!=null&&f(e,["data"],n),u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function cH(t){let e={},n=u(t,["content"]);n!=null&&f(e,["content"],n);let r=u(t,["citationMetadata"]);r!=null&&f(e,["citationMetadata"],uH(r));let i=u(t,["tokenCount"]);i!=null&&f(e,["tokenCount"],i);let o=u(t,["finishReason"]);o!=null&&f(e,["finishReason"],o);let s=u(t,["avgLogprobs"]);s!=null&&f(e,["avgLogprobs"],s);let a=u(t,["groundingMetadata"]);a!=null&&f(e,["groundingMetadata"],a);let l=u(t,["index"]);l!=null&&f(e,["index"],l);let c=u(t,["logprobsResult"]);c!=null&&f(e,["logprobsResult"],c);let d=u(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>g)),f(e,["safetyRatings"],h)}let p=u(t,["urlContextMetadata"]);return p!=null&&f(e,["urlContextMetadata"],p),e}function uH(t){let e={},n=u(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),f(e,["citations"],r)}return e}function dH(t,e){let n={},r=u(e,["model"]);r!=null&&f(n,["_url","model"],Ie(t,r));let i=u(e,["contents"]);if(i!=null){let o=An(i);Array.isArray(o)&&(o=o.map(s=>s)),f(n,["contents"],o)}return n}function fH(t){let e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=u(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),f(e,["tokensInfo"],i)}return e}function pH(t){let e={},n=u(t,["values"]);n!=null&&f(e,["values"],n);let r=u(t,["statistics"]);return r!=null&&f(e,["statistics"],hH(r)),e}function hH(t){let e={},n=u(t,["truncated"]);n!=null&&f(e,["truncated"],n);let r=u(t,["token_count"]);return r!=null&&f(e,["tokenCount"],r),e}function $p(t){let e={},n=u(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>_5(o))),f(e,["parts"],i)}let r=u(t,["role"]);return r!=null&&f(e,["role"],r),e}function mH(t){let e={},n=u(t,["controlType"]);n!=null&&f(e,["controlType"],n);let r=u(t,["enableControlImageComputation"]);return r!=null&&f(e,["computeControl"],r),e}function gH(t){let e={};if(u(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function vH(t,e){let n={},r=u(t,["systemInstruction"]);e!==void 0&&r!=null&&f(e,["systemInstruction"],wt(r));let i=u(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>AD(a))),f(e,["tools"],s)}let o=u(t,["generationConfig"]);return e!==void 0&&o!=null&&f(e,["generationConfig"],s5(o)),n}function yH(t,e){let n={},r=u(e,["model"]);r!=null&&f(n,["_url","model"],Ie(t,r));let i=u(e,["contents"]);if(i!=null){let s=An(i);Array.isArray(s)&&(s=s.map(a=>$p(a))),f(n,["contents"],s)}let o=u(e,["config"]);return o!=null&&gH(o),n}function _H(t,e){let n={},r=u(e,["model"]);r!=null&&f(n,["_url","model"],Ie(t,r));let i=u(e,["contents"]);if(i!=null){let s=An(i);Array.isArray(s)&&(s=s.map(a=>a)),f(n,["contents"],s)}let o=u(e,["config"]);return o!=null&&vH(o,n),n}function EH(t){let e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=u(t,["totalTokens"]);r!=null&&f(e,["totalTokens"],r);let i=u(t,["cachedContentTokenCount"]);return i!=null&&f(e,["cachedContentTokenCount"],i),e}function CH(t){let e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=u(t,["totalTokens"]);return r!=null&&f(e,["totalTokens"],r),e}function wH(t,e){let n={},r=u(e,["model"]);return r!=null&&f(n,["_url","name"],Ie(t,r)),n}function SH(t,e){let n={},r=u(e,["model"]);return r!=null&&f(n,["_url","name"],Ie(t,r)),n}function TH(t){let e={},n=u(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function xH(t){let e={},n=u(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function IH(t,e){let n={},r=u(t,["outputGcsUri"]);e!==void 0&&r!=null&&f(e,["parameters","storageUri"],r);let i=u(t,["negativePrompt"]);e!==void 0&&i!=null&&f(e,["parameters","negativePrompt"],i);let o=u(t,["numberOfImages"]);e!==void 0&&o!=null&&f(e,["parameters","sampleCount"],o);let s=u(t,["aspectRatio"]);e!==void 0&&s!=null&&f(e,["parameters","aspectRatio"],s);let a=u(t,["guidanceScale"]);e!==void 0&&a!=null&&f(e,["parameters","guidanceScale"],a);let l=u(t,["seed"]);e!==void 0&&l!=null&&f(e,["parameters","seed"],l);let c=u(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&f(e,["parameters","safetySetting"],c);let d=u(t,["personGeneration"]);e!==void 0&&d!=null&&f(e,["parameters","personGeneration"],d);let p=u(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&f(e,["parameters","includeSafetyAttributes"],p);let h=u(t,["includeRaiReason"]);e!==void 0&&h!=null&&f(e,["parameters","includeRaiReason"],h);let g=u(t,["language"]);e!==void 0&&g!=null&&f(e,["parameters","language"],g);let v=u(t,["outputMimeType"]);e!==void 0&&v!=null&&f(e,["parameters","outputOptions","mimeType"],v);let w=u(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&f(e,["parameters","outputOptions","compressionQuality"],w);let x=u(t,["addWatermark"]);e!==void 0&&x!=null&&f(e,["parameters","addWatermark"],x);let S=u(t,["labels"]);e!==void 0&&S!=null&&f(e,["labels"],S);let N=u(t,["editMode"]);e!==void 0&&N!=null&&f(e,["parameters","editMode"],N);let R=u(t,["baseSteps"]);return e!==void 0&&R!=null&&f(e,["parameters","editConfig","baseSteps"],R),n}function DH(t,e){let n={},r=u(e,["model"]);r!=null&&f(n,["_url","model"],Ie(t,r));let i=u(e,["prompt"]);i!=null&&f(n,["instances[0]","prompt"],i);let o=u(e,["referenceImages"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>x5(l))),f(n,["instances[0]","referenceImages"],a)}let s=u(e,["config"]);return s!=null&&IH(s,n),n}function AH(t){let e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=u(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Up(o))),f(e,["generatedImages"],i)}return e}function bH(t,e){let n={},r=u(t,["taskType"]);e!==void 0&&r!=null&&f(e,["requests[]","taskType"],r);let i=u(t,["title"]);e!==void 0&&i!=null&&f(e,["requests[]","title"],i);let o=u(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&f(e,["requests[]","outputDimensionality"],o),u(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function kH(t,e){let n={},r=u(t,["taskType"]);e!==void 0&&r!=null&&f(e,["instances[]","task_type"],r);let i=u(t,["title"]);e!==void 0&&i!=null&&f(e,["instances[]","title"],i);let o=u(t,["outputDimensionality"]);e!==void 0&&o!=null&&f(e,["parameters","outputDimensionality"],o);let s=u(t,["mimeType"]);e!==void 0&&s!=null&&f(e,["instances[]","mimeType"],s);let a=u(t,["autoTruncate"]);return e!==void 0&&a!=null&&f(e,["parameters","autoTruncate"],a),n}function NH(t,e){let n={},r=u(e,["model"]);r!=null&&f(n,["_url","model"],Ie(t,r));let i=u(e,["contents"]);if(i!=null){let a=U0(t,i);Array.isArray(a)&&(a=a.map(l=>l)),f(n,["requests[]","content"],a)}let o=u(e,["config"]);o!=null&&bH(o,n);let s=u(e,["model"]);return s!==void 0&&f(n,["requests[]","model"],Ie(t,s)),n}function MH(t,e){let n={},r=u(e,["model"]);r!=null&&f(n,["_url","model"],Ie(t,r));let i=u(e,["contents"]);if(i!=null){let s=U0(t,i);Array.isArray(s)&&(s=s.map(a=>a)),f(n,["instances[]","content"],s)}let o=u(e,["config"]);return o!=null&&kH(o,n),n}function PH(t){let e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=u(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),f(e,["embeddings"],o)}let i=u(t,["metadata"]);return i!=null&&f(e,["metadata"],i),e}function RH(t){let e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=u(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>pH(s))),f(e,["embeddings"],o)}let i=u(t,["metadata"]);return i!=null&&f(e,["metadata"],i),e}function LH(t){let e={},n=u(t,["endpoint"]);n!=null&&f(e,["name"],n);let r=u(t,["deployedModelId"]);return r!=null&&f(e,["deployedModelId"],r),e}function FH(t){let e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);let r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function OH(t){let e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");let n=u(t,["description"]);n!=null&&f(e,["description"],n);let r=u(t,["name"]);r!=null&&f(e,["name"],r);let i=u(t,["parameters"]);i!=null&&f(e,["parameters"],i);let o=u(t,["parametersJsonSchema"]);o!=null&&f(e,["parametersJsonSchema"],o);let s=u(t,["response"]);s!=null&&f(e,["response"],s);let a=u(t,["responseJsonSchema"]);return a!=null&&f(e,["responseJsonSchema"],a),e}function BH(t,e,n){let r={},i=u(e,["systemInstruction"]);n!==void 0&&i!=null&&f(n,["systemInstruction"],$p(wt(i)));let o=u(e,["temperature"]);o!=null&&f(r,["temperature"],o);let s=u(e,["topP"]);s!=null&&f(r,["topP"],s);let a=u(e,["topK"]);a!=null&&f(r,["topK"],a);let l=u(e,["candidateCount"]);l!=null&&f(r,["candidateCount"],l);let c=u(e,["maxOutputTokens"]);c!=null&&f(r,["maxOutputTokens"],c);let d=u(e,["stopSequences"]);d!=null&&f(r,["stopSequences"],d);let p=u(e,["responseLogprobs"]);p!=null&&f(r,["responseLogprobs"],p);let h=u(e,["logprobs"]);h!=null&&f(r,["logprobs"],h);let g=u(e,["presencePenalty"]);g!=null&&f(r,["presencePenalty"],g);let v=u(e,["frequencyPenalty"]);v!=null&&f(r,["frequencyPenalty"],v);let w=u(e,["seed"]);w!=null&&f(r,["seed"],w);let x=u(e,["responseMimeType"]);x!=null&&f(r,["responseMimeType"],x);let S=u(e,["responseSchema"]);S!=null&&f(r,["responseSchema"],H0(S));let N=u(e,["responseJsonSchema"]);if(N!=null&&f(r,["responseJsonSchema"],N),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let R=u(e,["safetySettings"]);if(n!==void 0&&R!=null){let He=R;Array.isArray(He)&&(He=He.map(Wn=>I5(Wn))),f(n,["safetySettings"],He)}let P=u(e,["tools"]);if(n!==void 0&&P!=null){let He=ua(P);Array.isArray(He)&&(He=He.map(Wn=>M5(ca(Wn)))),f(n,["tools"],He)}let H=u(e,["toolConfig"]);if(n!==void 0&&H!=null&&f(n,["toolConfig"],H),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let te=u(e,["cachedContent"]);n!==void 0&&te!=null&&f(n,["cachedContent"],Vr(t,te));let _e=u(e,["responseModalities"]);_e!=null&&f(r,["responseModalities"],_e);let lt=u(e,["mediaResolution"]);lt!=null&&f(r,["mediaResolution"],lt);let le=u(e,["speechConfig"]);if(le!=null&&f(r,["speechConfig"],q0(le)),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let ke=u(e,["thinkingConfig"]);ke!=null&&f(r,["thinkingConfig"],ke);let it=u(e,["imageConfig"]);return it!=null&&f(r,["imageConfig"],it),r}function VH(t,e,n){let r={},i=u(e,["systemInstruction"]);n!==void 0&&i!=null&&f(n,["systemInstruction"],wt(i));let o=u(e,["temperature"]);o!=null&&f(r,["temperature"],o);let s=u(e,["topP"]);s!=null&&f(r,["topP"],s);let a=u(e,["topK"]);a!=null&&f(r,["topK"],a);let l=u(e,["candidateCount"]);l!=null&&f(r,["candidateCount"],l);let c=u(e,["maxOutputTokens"]);c!=null&&f(r,["maxOutputTokens"],c);let d=u(e,["stopSequences"]);d!=null&&f(r,["stopSequences"],d);let p=u(e,["responseLogprobs"]);p!=null&&f(r,["responseLogprobs"],p);let h=u(e,["logprobs"]);h!=null&&f(r,["logprobs"],h);let g=u(e,["presencePenalty"]);g!=null&&f(r,["presencePenalty"],g);let v=u(e,["frequencyPenalty"]);v!=null&&f(r,["frequencyPenalty"],v);let w=u(e,["seed"]);w!=null&&f(r,["seed"],w);let x=u(e,["responseMimeType"]);x!=null&&f(r,["responseMimeType"],x);let S=u(e,["responseSchema"]);S!=null&&f(r,["responseSchema"],H0(S));let N=u(e,["responseJsonSchema"]);N!=null&&f(r,["responseJsonSchema"],N);let R=u(e,["routingConfig"]);R!=null&&f(r,["routingConfig"],R);let P=u(e,["modelSelectionConfig"]);P!=null&&f(r,["modelConfig"],P);let H=u(e,["safetySettings"]);if(n!==void 0&&H!=null){let yr=H;Array.isArray(yr)&&(yr=yr.map(jp=>jp)),f(n,["safetySettings"],yr)}let te=u(e,["tools"]);if(n!==void 0&&te!=null){let yr=ua(te);Array.isArray(yr)&&(yr=yr.map(jp=>AD(ca(jp)))),f(n,["tools"],yr)}let _e=u(e,["toolConfig"]);n!==void 0&&_e!=null&&f(n,["toolConfig"],_e);let lt=u(e,["labels"]);n!==void 0&&lt!=null&&f(n,["labels"],lt);let le=u(e,["cachedContent"]);n!==void 0&&le!=null&&f(n,["cachedContent"],Vr(t,le));let ke=u(e,["responseModalities"]);ke!=null&&f(r,["responseModalities"],ke);let it=u(e,["mediaResolution"]);it!=null&&f(r,["mediaResolution"],it);let He=u(e,["speechConfig"]);He!=null&&f(r,["speechConfig"],DD(q0(He)));let Wn=u(e,["audioTimestamp"]);Wn!=null&&f(r,["audioTimestamp"],Wn);let W0=u(e,["thinkingConfig"]);W0!=null&&f(r,["thinkingConfig"],W0);let j0=u(e,["imageConfig"]);return j0!=null&&f(r,["imageConfig"],j0),r}function XI(t,e){let n={},r=u(e,["model"]);r!=null&&f(n,["_url","model"],Ie(t,r));let i=u(e,["contents"]);if(i!=null){let s=An(i);Array.isArray(s)&&(s=s.map(a=>$p(a))),f(n,["contents"],s)}let o=u(e,["config"]);return o!=null&&f(n,["generationConfig"],BH(t,o,n)),n}function ZI(t,e){let n={},r=u(e,["model"]);r!=null&&f(n,["_url","model"],Ie(t,r));let i=u(e,["contents"]);if(i!=null){let s=An(i);Array.isArray(s)&&(s=s.map(a=>a)),f(n,["contents"],s)}let o=u(e,["config"]);return o!=null&&f(n,["generationConfig"],VH(t,o,n)),n}function QI(t){let e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=u(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>cH(c))),f(e,["candidates"],l)}let i=u(t,["modelVersion"]);i!=null&&f(e,["modelVersion"],i);let o=u(t,["promptFeedback"]);o!=null&&f(e,["promptFeedback"],o);let s=u(t,["responseId"]);s!=null&&f(e,["responseId"],s);let a=u(t,["usageMetadata"]);return a!=null&&f(e,["usageMetadata"],a),e}function eD(t){let e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=u(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>d)),f(e,["candidates"],c)}let i=u(t,["createTime"]);i!=null&&f(e,["createTime"],i);let o=u(t,["modelVersion"]);o!=null&&f(e,["modelVersion"],o);let s=u(t,["promptFeedback"]);s!=null&&f(e,["promptFeedback"],s);let a=u(t,["responseId"]);a!=null&&f(e,["responseId"],a);let l=u(t,["usageMetadata"]);return l!=null&&f(e,["usageMetadata"],l),e}function $H(t,e){let n={};if(u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");let r=u(t,["numberOfImages"]);e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r);let i=u(t,["aspectRatio"]);e!==void 0&&i!=null&&f(e,["parameters","aspectRatio"],i);let o=u(t,["guidanceScale"]);if(e!==void 0&&o!=null&&f(e,["parameters","guidanceScale"],o),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let s=u(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&f(e,["parameters","safetySetting"],s);let a=u(t,["personGeneration"]);e!==void 0&&a!=null&&f(e,["parameters","personGeneration"],a);let l=u(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&f(e,["parameters","includeSafetyAttributes"],l);let c=u(t,["includeRaiReason"]);e!==void 0&&c!=null&&f(e,["parameters","includeRaiReason"],c);let d=u(t,["language"]);e!==void 0&&d!=null&&f(e,["parameters","language"],d);let p=u(t,["outputMimeType"]);e!==void 0&&p!=null&&f(e,["parameters","outputOptions","mimeType"],p);let h=u(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&f(e,["parameters","outputOptions","compressionQuality"],h),u(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let g=u(t,["imageSize"]);if(e!==void 0&&g!=null&&f(e,["parameters","sampleImageSize"],g),u(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function UH(t,e){let n={},r=u(t,["outputGcsUri"]);e!==void 0&&r!=null&&f(e,["parameters","storageUri"],r);let i=u(t,["negativePrompt"]);e!==void 0&&i!=null&&f(e,["parameters","negativePrompt"],i);let o=u(t,["numberOfImages"]);e!==void 0&&o!=null&&f(e,["parameters","sampleCount"],o);let s=u(t,["aspectRatio"]);e!==void 0&&s!=null&&f(e,["parameters","aspectRatio"],s);let a=u(t,["guidanceScale"]);e!==void 0&&a!=null&&f(e,["parameters","guidanceScale"],a);let l=u(t,["seed"]);e!==void 0&&l!=null&&f(e,["parameters","seed"],l);let c=u(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&f(e,["parameters","safetySetting"],c);let d=u(t,["personGeneration"]);e!==void 0&&d!=null&&f(e,["parameters","personGeneration"],d);let p=u(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&f(e,["parameters","includeSafetyAttributes"],p);let h=u(t,["includeRaiReason"]);e!==void 0&&h!=null&&f(e,["parameters","includeRaiReason"],h);let g=u(t,["language"]);e!==void 0&&g!=null&&f(e,["parameters","language"],g);let v=u(t,["outputMimeType"]);e!==void 0&&v!=null&&f(e,["parameters","outputOptions","mimeType"],v);let w=u(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&f(e,["parameters","outputOptions","compressionQuality"],w);let x=u(t,["addWatermark"]);e!==void 0&&x!=null&&f(e,["parameters","addWatermark"],x);let S=u(t,["labels"]);e!==void 0&&S!=null&&f(e,["labels"],S);let N=u(t,["imageSize"]);e!==void 0&&N!=null&&f(e,["parameters","sampleImageSize"],N);let R=u(t,["enhancePrompt"]);return e!==void 0&&R!=null&&f(e,["parameters","enhancePrompt"],R),n}function HH(t,e){let n={},r=u(e,["model"]);r!=null&&f(n,["_url","model"],Ie(t,r));let i=u(e,["prompt"]);i!=null&&f(n,["instances[0]","prompt"],i);let o=u(e,["config"]);return o!=null&&$H(o,n),n}function qH(t,e){let n={},r=u(e,["model"]);r!=null&&f(n,["_url","model"],Ie(t,r));let i=u(e,["prompt"]);i!=null&&f(n,["instances[0]","prompt"],i);let o=u(e,["config"]);return o!=null&&UH(o,n),n}function GH(t){let e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=u(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>n5(s))),f(e,["generatedImages"],o)}let i=u(t,["positivePromptSafetyAttributes"]);return i!=null&&f(e,["positivePromptSafetyAttributes"],xD(i)),e}function zH(t){let e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=u(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Up(s))),f(e,["generatedImages"],o)}let i=u(t,["positivePromptSafetyAttributes"]);return i!=null&&f(e,["positivePromptSafetyAttributes"],ID(i)),e}function WH(t,e){let n={},r=u(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r),u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");let i=u(t,["durationSeconds"]);if(e!==void 0&&i!=null&&f(e,["parameters","durationSeconds"],i),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let o=u(t,["aspectRatio"]);e!==void 0&&o!=null&&f(e,["parameters","aspectRatio"],o);let s=u(t,["resolution"]);e!==void 0&&s!=null&&f(e,["parameters","resolution"],s);let a=u(t,["personGeneration"]);if(e!==void 0&&a!=null&&f(e,["parameters","personGeneration"],a),u(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");let l=u(t,["negativePrompt"]);e!==void 0&&l!=null&&f(e,["parameters","negativePrompt"],l);let c=u(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&f(e,["parameters","enhancePrompt"],c),u(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");let d=u(t,["lastFrame"]);e!==void 0&&d!=null&&f(e,["instances[0]","lastFrame"],Hp(d));let p=u(t,["referenceImages"]);if(e!==void 0&&p!=null){let h=p;Array.isArray(h)&&(h=h.map(g=>z5(g))),f(e,["instances[0]","referenceImages"],h)}if(u(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function jH(t,e){let n={},r=u(t,["numberOfVideos"]);e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r);let i=u(t,["outputGcsUri"]);e!==void 0&&i!=null&&f(e,["parameters","storageUri"],i);let o=u(t,["fps"]);e!==void 0&&o!=null&&f(e,["parameters","fps"],o);let s=u(t,["durationSeconds"]);e!==void 0&&s!=null&&f(e,["parameters","durationSeconds"],s);let a=u(t,["seed"]);e!==void 0&&a!=null&&f(e,["parameters","seed"],a);let l=u(t,["aspectRatio"]);e!==void 0&&l!=null&&f(e,["parameters","aspectRatio"],l);let c=u(t,["resolution"]);e!==void 0&&c!=null&&f(e,["parameters","resolution"],c);let d=u(t,["personGeneration"]);e!==void 0&&d!=null&&f(e,["parameters","personGeneration"],d);let p=u(t,["pubsubTopic"]);e!==void 0&&p!=null&&f(e,["parameters","pubsubTopic"],p);let h=u(t,["negativePrompt"]);e!==void 0&&h!=null&&f(e,["parameters","negativePrompt"],h);let g=u(t,["enhancePrompt"]);e!==void 0&&g!=null&&f(e,["parameters","enhancePrompt"],g);let v=u(t,["generateAudio"]);e!==void 0&&v!=null&&f(e,["parameters","generateAudio"],v);let w=u(t,["lastFrame"]);e!==void 0&&w!=null&&f(e,["instances[0]","lastFrame"],zn(w));let x=u(t,["referenceImages"]);if(e!==void 0&&x!=null){let R=x;Array.isArray(R)&&(R=R.map(P=>W5(P))),f(e,["instances[0]","referenceImages"],R)}let S=u(t,["mask"]);e!==void 0&&S!=null&&f(e,["instances[0]","mask"],G5(S));let N=u(t,["compressionQuality"]);return e!==void 0&&N!=null&&f(e,["parameters","compressionQuality"],N),n}function YH(t){let e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);let r=u(t,["metadata"]);r!=null&&f(e,["metadata"],r);let i=u(t,["done"]);i!=null&&f(e,["done"],i);let o=u(t,["error"]);o!=null&&f(e,["error"],o);let s=u(t,["response","generateVideoResponse"]);return s!=null&&f(e,["response"],ZH(s)),e}function JH(t){let e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);let r=u(t,["metadata"]);r!=null&&f(e,["metadata"],r);let i=u(t,["done"]);i!=null&&f(e,["done"],i);let o=u(t,["error"]);o!=null&&f(e,["error"],o);let s=u(t,["response"]);return s!=null&&f(e,["response"],QH(s)),e}function KH(t,e){let n={},r=u(e,["model"]);r!=null&&f(n,["_url","model"],Ie(t,r));let i=u(e,["prompt"]);i!=null&&f(n,["instances[0]","prompt"],i);let o=u(e,["image"]);o!=null&&f(n,["instances[0]","image"],Hp(o));let s=u(e,["video"]);s!=null&&f(n,["instances[0]","video"],bD(s));let a=u(e,["source"]);a!=null&&e5(a,n);let l=u(e,["config"]);return l!=null&&WH(l,n),n}function XH(t,e){let n={},r=u(e,["model"]);r!=null&&f(n,["_url","model"],Ie(t,r));let i=u(e,["prompt"]);i!=null&&f(n,["instances[0]","prompt"],i);let o=u(e,["image"]);o!=null&&f(n,["instances[0]","image"],zn(o));let s=u(e,["video"]);s!=null&&f(n,["instances[0]","video"],kD(s));let a=u(e,["source"]);a!=null&&t5(a,n);let l=u(e,["config"]);return l!=null&&jH(l,n),n}function ZH(t){let e={},n=u(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>i5(s))),f(e,["generatedVideos"],o)}let r=u(t,["raiMediaFilteredCount"]);r!=null&&f(e,["raiMediaFilteredCount"],r);let i=u(t,["raiMediaFilteredReasons"]);return i!=null&&f(e,["raiMediaFilteredReasons"],i),e}function QH(t){let e={},n=u(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>o5(s))),f(e,["generatedVideos"],o)}let r=u(t,["raiMediaFilteredCount"]);r!=null&&f(e,["raiMediaFilteredCount"],r);let i=u(t,["raiMediaFilteredReasons"]);return i!=null&&f(e,["raiMediaFilteredReasons"],i),e}function e5(t,e){let n={},r=u(t,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);let i=u(t,["image"]);e!==void 0&&i!=null&&f(e,["instances[0]","image"],Hp(i));let o=u(t,["video"]);return e!==void 0&&o!=null&&f(e,["instances[0]","video"],bD(o)),n}function t5(t,e){let n={},r=u(t,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);let i=u(t,["image"]);e!==void 0&&i!=null&&f(e,["instances[0]","image"],zn(i));let o=u(t,["video"]);return e!==void 0&&o!=null&&f(e,["instances[0]","video"],kD(o)),n}function n5(t){let e={},n=u(t,["_self"]);n!=null&&f(e,["image"],d5(n));let r=u(t,["raiFilteredReason"]);r!=null&&f(e,["raiFilteredReason"],r);let i=u(t,["_self"]);return i!=null&&f(e,["safetyAttributes"],xD(i)),e}function Up(t){let e={},n=u(t,["_self"]);n!=null&&f(e,["image"],TD(n));let r=u(t,["raiFilteredReason"]);r!=null&&f(e,["raiFilteredReason"],r);let i=u(t,["_self"]);i!=null&&f(e,["safetyAttributes"],ID(i));let o=u(t,["prompt"]);return o!=null&&f(e,["enhancedPrompt"],o),e}function r5(t){let e={},n=u(t,["_self"]);n!=null&&f(e,["mask"],TD(n));let r=u(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),f(e,["labels"],i)}return e}function i5(t){let e={},n=u(t,["video"]);return n!=null&&f(e,["video"],H5(n)),e}function o5(t){let e={},n=u(t,["_self"]);return n!=null&&f(e,["video"],q5(n)),e}function s5(t){let e={},n=u(t,["modelSelectionConfig"]);n!=null&&f(e,["modelConfig"],n);let r=u(t,["audioTimestamp"]);r!=null&&f(e,["audioTimestamp"],r);let i=u(t,["candidateCount"]);i!=null&&f(e,["candidateCount"],i);let o=u(t,["enableAffectiveDialog"]);o!=null&&f(e,["enableAffectiveDialog"],o);let s=u(t,["frequencyPenalty"]);s!=null&&f(e,["frequencyPenalty"],s);let a=u(t,["logprobs"]);a!=null&&f(e,["logprobs"],a);let l=u(t,["maxOutputTokens"]);l!=null&&f(e,["maxOutputTokens"],l);let c=u(t,["mediaResolution"]);c!=null&&f(e,["mediaResolution"],c);let d=u(t,["presencePenalty"]);d!=null&&f(e,["presencePenalty"],d);let p=u(t,["responseJsonSchema"]);p!=null&&f(e,["responseJsonSchema"],p);let h=u(t,["responseLogprobs"]);h!=null&&f(e,["responseLogprobs"],h);let g=u(t,["responseMimeType"]);g!=null&&f(e,["responseMimeType"],g);let v=u(t,["responseModalities"]);v!=null&&f(e,["responseModalities"],v);let w=u(t,["responseSchema"]);w!=null&&f(e,["responseSchema"],w);let x=u(t,["routingConfig"]);x!=null&&f(e,["routingConfig"],x);let S=u(t,["seed"]);S!=null&&f(e,["seed"],S);let N=u(t,["speechConfig"]);N!=null&&f(e,["speechConfig"],DD(N));let R=u(t,["stopSequences"]);R!=null&&f(e,["stopSequences"],R);let P=u(t,["temperature"]);P!=null&&f(e,["temperature"],P);let H=u(t,["thinkingConfig"]);H!=null&&f(e,["thinkingConfig"],H);let te=u(t,["topK"]);te!=null&&f(e,["topK"],te);let _e=u(t,["topP"]);if(_e!=null&&f(e,["topP"],_e),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function a5(t,e){let n={},r=u(e,["model"]);return r!=null&&f(n,["_url","name"],Ie(t,r)),n}function l5(t,e){let n={},r=u(e,["model"]);return r!=null&&f(n,["_url","name"],Ie(t,r)),n}function c5(t){let e={};if(u(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=u(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function u5(t){let e={};if(u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");let n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function d5(t){let e={},n=u(t,["bytesBase64Encoded"]);n!=null&&f(e,["imageBytes"],Ci(n));let r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function TD(t){let e={},n=u(t,["gcsUri"]);n!=null&&f(e,["gcsUri"],n);let r=u(t,["bytesBase64Encoded"]);r!=null&&f(e,["imageBytes"],Ci(r));let i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function Hp(t){let e={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");let n=u(t,["imageBytes"]);n!=null&&f(e,["bytesBase64Encoded"],Ci(n));let r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function zn(t){let e={},n=u(t,["gcsUri"]);n!=null&&f(e,["gcsUri"],n);let r=u(t,["imageBytes"]);r!=null&&f(e,["bytesBase64Encoded"],Ci(r));let i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function f5(t,e,n){let r={},i=u(e,["pageSize"]);n!==void 0&&i!=null&&f(n,["_query","pageSize"],i);let o=u(e,["pageToken"]);n!==void 0&&o!=null&&f(n,["_query","pageToken"],o);let s=u(e,["filter"]);n!==void 0&&s!=null&&f(n,["_query","filter"],s);let a=u(e,["queryBase"]);return n!==void 0&&a!=null&&f(n,["_url","models_url"],gD(t,a)),r}function p5(t,e,n){let r={},i=u(e,["pageSize"]);n!==void 0&&i!=null&&f(n,["_query","pageSize"],i);let o=u(e,["pageToken"]);n!==void 0&&o!=null&&f(n,["_query","pageToken"],o);let s=u(e,["filter"]);n!==void 0&&s!=null&&f(n,["_query","filter"],s);let a=u(e,["queryBase"]);return n!==void 0&&a!=null&&f(n,["_url","models_url"],gD(t,a)),r}function h5(t,e){let n={},r=u(e,["config"]);return r!=null&&f5(t,r,n),n}function m5(t,e){let n={},r=u(e,["config"]);return r!=null&&p5(t,r,n),n}function g5(t){let e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=u(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);let i=u(t,["_self"]);if(i!=null){let o=vD(i);Array.isArray(o)&&(o=o.map(s=>C0(s))),f(e,["models"],o)}return e}function v5(t){let e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=u(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);let i=u(t,["_self"]);if(i!=null){let o=vD(i);Array.isArray(o)&&(o=o.map(s=>w0(s))),f(e,["models"],o)}return e}function y5(t){let e={},n=u(t,["maskMode"]);n!=null&&f(e,["maskMode"],n);let r=u(t,["segmentationClasses"]);r!=null&&f(e,["maskClasses"],r);let i=u(t,["maskDilation"]);return i!=null&&f(e,["dilation"],i),e}function C0(t){let e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);let r=u(t,["displayName"]);r!=null&&f(e,["displayName"],r);let i=u(t,["description"]);i!=null&&f(e,["description"],i);let o=u(t,["version"]);o!=null&&f(e,["version"],o);let s=u(t,["_self"]);s!=null&&f(e,["tunedModelInfo"],P5(s));let a=u(t,["inputTokenLimit"]);a!=null&&f(e,["inputTokenLimit"],a);let l=u(t,["outputTokenLimit"]);l!=null&&f(e,["outputTokenLimit"],l);let c=u(t,["supportedGenerationMethods"]);return c!=null&&f(e,["supportedActions"],c),e}function w0(t){let e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);let r=u(t,["displayName"]);r!=null&&f(e,["displayName"],r);let i=u(t,["description"]);i!=null&&f(e,["description"],i);let o=u(t,["versionId"]);o!=null&&f(e,["version"],o);let s=u(t,["deployedModels"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(h=>LH(h))),f(e,["endpoints"],p)}let a=u(t,["labels"]);a!=null&&f(e,["labels"],a);let l=u(t,["_self"]);l!=null&&f(e,["tunedModelInfo"],R5(l));let c=u(t,["defaultCheckpointId"]);c!=null&&f(e,["defaultCheckpointId"],c);let d=u(t,["checkpoints"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(h=>h)),f(e,["checkpoints"],p)}return e}function _5(t){let e={},n=u(t,["functionCall"]);n!=null&&f(e,["functionCall"],n);let r=u(t,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);let i=u(t,["executableCode"]);i!=null&&f(e,["executableCode"],i);let o=u(t,["fileData"]);o!=null&&f(e,["fileData"],FH(o));let s=u(t,["functionResponse"]);s!=null&&f(e,["functionResponse"],s);let a=u(t,["inlineData"]);a!=null&&f(e,["inlineData"],lH(a));let l=u(t,["text"]);l!=null&&f(e,["text"],l);let c=u(t,["thought"]);c!=null&&f(e,["thought"],c);let d=u(t,["thoughtSignature"]);d!=null&&f(e,["thoughtSignature"],d);let p=u(t,["videoMetadata"]);return p!=null&&f(e,["videoMetadata"],p),e}function E5(t){let e={},n=u(t,["productImage"]);return n!=null&&f(e,["image"],zn(n)),e}function C5(t,e){let n={},r=u(t,["numberOfImages"]);e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r);let i=u(t,["baseSteps"]);e!==void 0&&i!=null&&f(e,["parameters","editConfig","baseSteps"],i);let o=u(t,["outputGcsUri"]);e!==void 0&&o!=null&&f(e,["parameters","storageUri"],o);let s=u(t,["seed"]);e!==void 0&&s!=null&&f(e,["parameters","seed"],s);let a=u(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&f(e,["parameters","safetySetting"],a);let l=u(t,["personGeneration"]);e!==void 0&&l!=null&&f(e,["parameters","personGeneration"],l);let c=u(t,["addWatermark"]);e!==void 0&&c!=null&&f(e,["parameters","addWatermark"],c);let d=u(t,["outputMimeType"]);e!==void 0&&d!=null&&f(e,["parameters","outputOptions","mimeType"],d);let p=u(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&f(e,["parameters","outputOptions","compressionQuality"],p);let h=u(t,["enhancePrompt"]);e!==void 0&&h!=null&&f(e,["parameters","enhancePrompt"],h);let g=u(t,["labels"]);return e!==void 0&&g!=null&&f(e,["labels"],g),n}function w5(t,e){let n={},r=u(e,["model"]);r!=null&&f(n,["_url","model"],Ie(t,r));let i=u(e,["source"]);i!=null&&T5(i,n);let o=u(e,["config"]);return o!=null&&C5(o,n),n}function S5(t){let e={},n=u(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Up(i))),f(e,["generatedImages"],r)}return e}function T5(t,e){let n={},r=u(t,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);let i=u(t,["personImage"]);e!==void 0&&i!=null&&f(e,["instances[0]","personImage","image"],zn(i));let o=u(t,["productImages"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>E5(a))),f(e,["instances[0]","productImages"],s)}return n}function x5(t){let e={},n=u(t,["referenceImage"]);n!=null&&f(e,["referenceImage"],zn(n));let r=u(t,["referenceId"]);r!=null&&f(e,["referenceId"],r);let i=u(t,["referenceType"]);i!=null&&f(e,["referenceType"],i);let o=u(t,["maskImageConfig"]);o!=null&&f(e,["maskImageConfig"],y5(o));let s=u(t,["controlImageConfig"]);s!=null&&f(e,["controlImageConfig"],mH(s));let a=u(t,["styleImageConfig"]);a!=null&&f(e,["styleImageConfig"],a);let l=u(t,["subjectImageConfig"]);return l!=null&&f(e,["subjectImageConfig"],l),e}function xD(t){let e={},n=u(t,["safetyAttributes","categories"]);n!=null&&f(e,["categories"],n);let r=u(t,["safetyAttributes","scores"]);r!=null&&f(e,["scores"],r);let i=u(t,["contentType"]);return i!=null&&f(e,["contentType"],i),e}function ID(t){let e={},n=u(t,["safetyAttributes","categories"]);n!=null&&f(e,["categories"],n);let r=u(t,["safetyAttributes","scores"]);r!=null&&f(e,["scores"],r);let i=u(t,["contentType"]);return i!=null&&f(e,["contentType"],i),e}function I5(t){let e={},n=u(t,["category"]);if(n!=null&&f(e,["category"],n),u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let r=u(t,["threshold"]);return r!=null&&f(e,["threshold"],r),e}function D5(t){let e={},n=u(t,["image"]);return n!=null&&f(e,["image"],zn(n)),e}function A5(t,e){let n={},r=u(t,["mode"]);e!==void 0&&r!=null&&f(e,["parameters","mode"],r);let i=u(t,["maxPredictions"]);e!==void 0&&i!=null&&f(e,["parameters","maxPredictions"],i);let o=u(t,["confidenceThreshold"]);e!==void 0&&o!=null&&f(e,["parameters","confidenceThreshold"],o);let s=u(t,["maskDilation"]);e!==void 0&&s!=null&&f(e,["parameters","maskDilation"],s);let a=u(t,["binaryColorThreshold"]);e!==void 0&&a!=null&&f(e,["parameters","binaryColorThreshold"],a);let l=u(t,["labels"]);return e!==void 0&&l!=null&&f(e,["labels"],l),n}function b5(t,e){let n={},r=u(e,["model"]);r!=null&&f(n,["_url","model"],Ie(t,r));let i=u(e,["source"]);i!=null&&N5(i,n);let o=u(e,["config"]);return o!=null&&A5(o,n),n}function k5(t){let e={},n=u(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>r5(i))),f(e,["generatedMasks"],r)}return e}function N5(t,e){let n={},r=u(t,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);let i=u(t,["image"]);e!==void 0&&i!=null&&f(e,["instances[0]","image"],zn(i));let o=u(t,["scribbleImage"]);return e!==void 0&&o!=null&&f(e,["instances[0]","scribble"],D5(o)),n}function DD(t){let e={},n=u(t,["languageCode"]);n!=null&&f(e,["languageCode"],n);let r=u(t,["voiceConfig"]);if(r!=null&&f(e,["voiceConfig"],r),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function M5(t){let e={},n=u(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),f(e,["functionDeclarations"],c)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let r=u(t,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);let i=u(t,["googleMaps"]);i!=null&&f(e,["googleMaps"],c5(i));let o=u(t,["computerUse"]);o!=null&&f(e,["computerUse"],o);let s=u(t,["codeExecution"]);if(s!=null&&f(e,["codeExecution"],s),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let a=u(t,["googleSearch"]);a!=null&&f(e,["googleSearch"],u5(a));let l=u(t,["urlContext"]);return l!=null&&f(e,["urlContext"],l),e}function AD(t){let e={},n=u(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>OH(h))),f(e,["functionDeclarations"],p)}let r=u(t,["retrieval"]);r!=null&&f(e,["retrieval"],r);let i=u(t,["googleSearchRetrieval"]);i!=null&&f(e,["googleSearchRetrieval"],i);let o=u(t,["googleMaps"]);o!=null&&f(e,["googleMaps"],o);let s=u(t,["computerUse"]);s!=null&&f(e,["computerUse"],s);let a=u(t,["codeExecution"]);a!=null&&f(e,["codeExecution"],a);let l=u(t,["enterpriseWebSearch"]);l!=null&&f(e,["enterpriseWebSearch"],l);let c=u(t,["googleSearch"]);c!=null&&f(e,["googleSearch"],c);let d=u(t,["urlContext"]);return d!=null&&f(e,["urlContext"],d),e}function P5(t){let e={},n=u(t,["baseModel"]);n!=null&&f(e,["baseModel"],n);let r=u(t,["createTime"]);r!=null&&f(e,["createTime"],r);let i=u(t,["updateTime"]);return i!=null&&f(e,["updateTime"],i),e}function R5(t){let e={},n=u(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&f(e,["baseModel"],n);let r=u(t,["createTime"]);r!=null&&f(e,["createTime"],r);let i=u(t,["updateTime"]);return i!=null&&f(e,["updateTime"],i),e}function L5(t,e){let n={},r=u(t,["displayName"]);e!==void 0&&r!=null&&f(e,["displayName"],r);let i=u(t,["description"]);e!==void 0&&i!=null&&f(e,["description"],i);let o=u(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&f(e,["defaultCheckpointId"],o),n}function F5(t,e){let n={},r=u(t,["displayName"]);e!==void 0&&r!=null&&f(e,["displayName"],r);let i=u(t,["description"]);e!==void 0&&i!=null&&f(e,["description"],i);let o=u(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&f(e,["defaultCheckpointId"],o),n}function O5(t,e){let n={},r=u(e,["model"]);r!=null&&f(n,["_url","name"],Ie(t,r));let i=u(e,["config"]);return i!=null&&L5(i,n),n}function B5(t,e){let n={},r=u(e,["model"]);r!=null&&f(n,["_url","model"],Ie(t,r));let i=u(e,["config"]);return i!=null&&F5(i,n),n}function V5(t,e){let n={},r=u(t,["outputGcsUri"]);e!==void 0&&r!=null&&f(e,["parameters","storageUri"],r);let i=u(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&f(e,["parameters","safetySetting"],i);let o=u(t,["personGeneration"]);e!==void 0&&o!=null&&f(e,["parameters","personGeneration"],o);let s=u(t,["includeRaiReason"]);e!==void 0&&s!=null&&f(e,["parameters","includeRaiReason"],s);let a=u(t,["outputMimeType"]);e!==void 0&&a!=null&&f(e,["parameters","outputOptions","mimeType"],a);let l=u(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&f(e,["parameters","outputOptions","compressionQuality"],l);let c=u(t,["enhanceInputImage"]);e!==void 0&&c!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],c);let d=u(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],d);let p=u(t,["labels"]);e!==void 0&&p!=null&&f(e,["labels"],p);let h=u(t,["numberOfImages"]);e!==void 0&&h!=null&&f(e,["parameters","sampleCount"],h);let g=u(t,["mode"]);return e!==void 0&&g!=null&&f(e,["parameters","mode"],g),n}function $5(t,e){let n={},r=u(e,["model"]);r!=null&&f(n,["_url","model"],Ie(t,r));let i=u(e,["image"]);i!=null&&f(n,["instances[0]","image"],zn(i));let o=u(e,["upscaleFactor"]);o!=null&&f(n,["parameters","upscaleConfig","upscaleFactor"],o);let s=u(e,["config"]);return s!=null&&V5(s,n),n}function U5(t){let e={},n=u(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=u(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Up(o))),f(e,["generatedImages"],i)}return e}function H5(t){let e={},n=u(t,["uri"]);n!=null&&f(e,["uri"],n);let r=u(t,["encodedVideo"]);r!=null&&f(e,["videoBytes"],Ci(r));let i=u(t,["encoding"]);return i!=null&&f(e,["mimeType"],i),e}function q5(t){let e={},n=u(t,["gcsUri"]);n!=null&&f(e,["uri"],n);let r=u(t,["bytesBase64Encoded"]);r!=null&&f(e,["videoBytes"],Ci(r));let i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function G5(t){let e={},n=u(t,["image"]);n!=null&&f(e,["_self"],zn(n));let r=u(t,["maskMode"]);return r!=null&&f(e,["maskMode"],r),e}function z5(t){let e={},n=u(t,["image"]);n!=null&&f(e,["image"],Hp(n));let r=u(t,["referenceType"]);return r!=null&&f(e,["referenceType"],r),e}function W5(t){let e={},n=u(t,["image"]);n!=null&&f(e,["image"],zn(n));let r=u(t,["referenceType"]);return r!=null&&f(e,["referenceType"],r),e}function bD(t){let e={},n=u(t,["uri"]);n!=null&&f(e,["uri"],n);let r=u(t,["videoBytes"]);r!=null&&f(e,["encodedVideo"],Ci(r));let i=u(t,["mimeType"]);return i!=null&&f(e,["encoding"],i),e}function kD(t){let e={},n=u(t,["uri"]);n!=null&&f(e,["gcsUri"],n);let r=u(t,["videoBytes"]);r!=null&&f(e,["bytesBase64Encoded"],Ci(r));let i=u(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}var j5="Content-Type",Y5="X-Server-Timeout",J5="User-Agent",S0="x-goog-api-client",K5="1.28.0",X5=`google-genai-sdk/${K5}`,Z5="v1beta1",Q5="v1beta",tD=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/,T0=class{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});let i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Z5,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Q5,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");let r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){let e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){let i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(let[s,a]of Object.entries(e.queryParams))i.searchParams.append(s,String(a));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){let r=JSON.parse(JSON.stringify(e));for(let[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){let o=new AbortController,s=o.signal;if(n.timeout&&n?.timeout>0){let a=setTimeout(()=>o.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=s}return n&&n.extraBody!==null&&e4(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await nD(i),new Pc(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await nD(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return aa(this,arguments,function*(){let i=(n=e?.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){let{done:a,value:l}=yield $e(i.read());if(a){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}let c=o.decode(l,{stream:!0});try{let p=JSON.parse(c);if("error"in p){let h=JSON.parse(JSON.stringify(p.error)),g=h.status,v=h.code,w=`got status: ${g}. ${JSON.stringify(p)}`;if(v>=400&&v<600)throw new Vp({message:w,status:v})}}catch(p){if(p.name==="ApiError")throw p}s+=c;let d=s.match(tD);for(;d;){let p=d[1];try{let h=new Response(p,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield $e(new Pc(h)),s=s.slice(d[0].length),d=s.match(tD)}catch(h){throw new Error(`exception parsing stream chunk ${p}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){let e={},n=X5+" "+this.clientOptions.userAgentExtra;return e[J5]=n,e[S0]=n,e[j5]="application/json",e}async getHeadersInternal(e,n){let r=new Headers;if(e&&e.headers){for(let[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(Y5,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}async uploadFile(e,n){var r,i;let o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);let s=this.clientOptions.uploader,a=await s.stat(e);o.sizeBytes=String(a.size);let l=(r=n?.mimeType)!==null&&r!==void 0?r:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=l;let c="";typeof e=="string"&&(c=e.replace(/[/\\]+$/,""),c=(i=c.split(/[/\\]/).pop())!==null&&i!==void 0?i:"");let d=await this.fetchUploadUrl(o,c,n);return s.upload(e,d,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r){var i;let o={};r?.httpOptions?o=r.httpOptions:o={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`},n?{"X-Goog-Upload-File-Name":n}:{})};let s={file:e},a=await this.request({path:W("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:o});if(!a||!a?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");let l=(i=a?.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(l===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return l}};async function nD(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){let n=t.status,r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};let i=JSON.stringify(r);throw n>=400&&n<600?new Vp({message:i,status:n}):new Error(i)}}function e4(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{let o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){let a=Object.assign({},o);for(let l in s)if(Object.prototype.hasOwnProperty.call(s,l)){let c=s[l],d=a[l];c&&typeof c=="object"&&!Array.isArray(c)&&d&&typeof d=="object"&&!Array.isArray(d)?a[l]=r(d,c):(d&&c&&typeof d!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof d}, New type: ${typeof c}. Overwriting.`),a[l]=c)}return a}let i=r(n,e);t.body=JSON.stringify(i)}var t4="mcp_used/unknown",n4=!1;function ND(t){for(let e of t)if(r4(e)||typeof e=="object"&&"inputSchema"in e)return!0;return n4}function MD(t){var e;let n=(e=t[S0])!==null&&e!==void 0?e:"";t[S0]=(n+` ${t4}`).trimStart()}function r4(t){return t!==null&&typeof t=="object"&&t instanceof x0}function i4(t,e=100){return aa(this,arguments,function*(){let r,i=0;for(;i<e;){let o=yield $e(t.listTools({cursor:r}));for(let s of o.tools)yield yield $e(s),i++;if(!o.nextCursor)break;r=o.nextCursor}})}var x0=class t{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new t(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;let o={},s=[];for(let d of this.mcpClients)try{for(var a=!0,l=(n=void 0,Mc(i4(d))),c;c=await l.next(),e=c.done,!e;a=!0){i=c.value,a=!1;let p=i;s.push(p);let h=p.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=d}}catch(p){n={error:p}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),m$(this.mcpTools,this.config)}async callTool(e){await this.initialize();let n=[];for(let r of e)if(r.name in this.functionNameToMcpClient){let i=this.functionNameToMcpClient[r.name],o;this.config.timeout&&(o={timeout:this.config.timeout});let s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}};async function o4(t,e,n){let r=new p0,i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}var I0=class{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");let i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=a4(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${a}`,c=()=>{},d=new Promise(R=>{c=R}),p=e.callbacks,h=function(){c({})},g=this.apiClient,v={onopen:h,onmessage:R=>{o4(g,p.onmessage,R)},onerror:(n=p?.onerror)!==null&&n!==void 0?n:function(R){},onclose:(r=p?.onclose)!==null&&r!==void 0?r:function(R){}},w=this.webSocketFactory.create(l,s4(s),v);w.connect(),await d;let N={setup:{model:Ie(this.apiClient,e.model)}};return w.send(JSON.stringify(N)),new D0(w,this.apiClient)}},D0=class{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");let n=QU(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});let n=ZU(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){let n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Nc.PLAY)}pause(){this.sendPlaybackControl(Nc.PAUSE)}stop(){this.sendPlaybackControl(Nc.STOP)}resetContext(){this.sendPlaybackControl(Nc.RESET_CONTEXT)}close(){this.conn.close()}};function s4(t){let e={};return t.forEach((n,r)=>{e[r]=n}),e}function a4(t){let e=new Headers;for(let[n,r]of Object.entries(t))e.append(n,r);return e}var l4="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function c4(t,e,n){let r=new f0,i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;let o=JSON.parse(i);if(t.isVertexAI()){let s=nH(o);Object.assign(r,s)}else Object.assign(r,o);e(r)}var A0=class{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new I0(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");let l=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),d,p=this.apiClient.getHeaders();e.config&&e.config.tools&&ND(e.config.tools)&&MD(p);let h=f4(p);if(this.apiClient.isVertexAI())d=`${l}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,d);else{let le=this.apiClient.getApiKey(),ke="BidiGenerateContent",it="key";le?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ke="BidiGenerateContentConstrained",it="access_token"),d=`${l}/ws/google.ai.generativelanguage.${c}.GenerativeService.${ke}?${it}=${le}`}let g=()=>{},v=new Promise(le=>{g=le}),w=e.callbacks,x=function(){var le;(le=w?.onopen)===null||le===void 0||le.call(w),g({})},S=this.apiClient,N={onopen:x,onmessage:le=>{c4(S,w.onmessage,le)},onerror:(n=w?.onerror)!==null&&n!==void 0?n:function(le){},onclose:(r=w?.onclose)!==null&&r!==void 0?r:function(le){}},R=this.webSocketFactory.create(d,d4(h),N);R.connect(),await v;let P=Ie(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&P.startsWith("publishers/")){let le=this.apiClient.getProject(),ke=this.apiClient.getLocation();P=`projects/${le}/locations/${ke}/`+P}let H={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[r0.AUDIO]}:e.config.responseModalities=[r0.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");let te=(a=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],_e=[];for(let le of te)if(this.isCallableTool(le)){let ke=le;_e.push(await ke.tool())}else _e.push(le);_e.length>0&&(e.config.tools=_e);let lt={model:P,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?H=XU(this.apiClient,lt):H=KU(this.apiClient,lt),delete H.config,R.send(JSON.stringify(H)),new b0(R,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}},u4={turnComplete:!0},b0=class{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=An(n.turns),e.isVertexAI()||(r=r.map(i=>$p(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(let o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(l4)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},u4),e);let n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:tH(e)}:n={realtimeInput:eH(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");let n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}};function d4(t){let e={};return t.forEach((n,r)=>{e[r]=n}),e}function f4(t){let e=new Headers;for(let[n,r]of Object.entries(t))e.append(n,r);return e}var rD=10;function iD(t){var e,n,r;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(let s of(n=t?.tools)!==null&&n!==void 0?n:[])if(la(s)){i=!0;break}if(!i)return!0;let o=(r=t?.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function la(t){return"callTool"in t&&typeof t.callTool=="function"}function p4(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>la(i)))!==null&&r!==void 0?r:!1}function h4(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!la(i)))!==null&&r!==void 0?r:!1}function oD(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}var k0=class extends Br{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,a;let l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!p4(n)||iD(n.config))return await this.generateContentInternal(l);if(h4(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let c,d,p=An(l.contents),h=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:rD,g=0;for(;g<h&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){let v=c.candidates[0].content,w=[];for(let x of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(la(x)){let N=await x.callTool(c.functionCalls);w.push(...N)}g++,d={role:"user",parts:w},l.contents=An(l.contents),l.contents.push(v),l.contents.push(d),oD(l.config)&&(p.push(v),p.push(d))}return oD(l.config)&&(c.automaticFunctionCallingHistory=p),c},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),iD(n.config)){let r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o,s=[];if(r?.generatedImages)for(let l of r.generatedImages)l&&l?.safetyAttributes&&((i=l?.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l?.safetyAttributes:s.push(l);let a;return o?a={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:a={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},a}),this.list=async n=>{var r;let s={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Po(fa.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{let r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));let i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,s,a,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(o=n.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;let o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;let s=await Promise.all(o.map(async l=>la(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(a.config.tools=s,e.config&&e.config.tools&&ND(e.config.tools)){let l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{},c=Object.assign({},l);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),MD(c),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return a}async initAfcToolsMap(e){var n,r,i;let o=new Map;for(let s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(la(s)){let a=s,l=await a.tool();for(let c of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(o.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);o.set(c.name,a)}}return o}async processAfcStream(e){var n,r,i;let o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:rD,s=!1,a=0,l=await this.initAfcToolsMap(e);return(function(c,d,p){var h,g;return aa(this,arguments,function*(){for(var v,w,x,S;a<o;){s&&(a++,s=!1);let H=yield $e(c.processParamsMaybeAddMcpUsage(p)),te=yield $e(c.generateContentStreamInternal(H)),_e=[],lt=[];try{for(var N=!0,R=(w=void 0,Mc(te)),P;P=yield $e(R.next()),v=P.done,!v;N=!0){S=P.value,N=!1;let le=S;if(yield yield $e(le),le.candidates&&(!((h=le.candidates[0])===null||h===void 0)&&h.content)){lt.push(le.candidates[0].content);for(let ke of(g=le.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(a<o&&ke.functionCall){if(!ke.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(ke.functionCall.name)){let it=yield $e(d.get(ke.functionCall.name).callTool([ke.functionCall]));_e.push(...it)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${ke.functionCall.name}`)}}}}catch(le){w={error:le}}finally{try{!N&&!v&&(x=R.return)&&(yield $e(x.call(R)))}finally{if(w)throw w.error}}if(_e.length>0){s=!0;let le=new Mo;le.candidates=[{content:{role:"user",parts:_e}}],yield yield $e(le);let ke=[];ke.push(...lt),ke.push({role:"user",parts:_e});let it=An(p.contents).concat(ke);p.contents=it}else break}})})(this,l,e)}async generateContentInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let c=ZI(this.apiClient,e);return a=W("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=eD(d),h=new Mo;return Object.assign(h,p),h})}else{let c=XI(this.apiClient,e);return a=W("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=QI(d),h=new Mo;return Object.assign(h,p),h})}}async generateContentStreamInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let c=ZI(this.apiClient,e);return a=W("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(p){return aa(this,arguments,function*(){var h,g,v,w;try{for(var x=!0,S=Mc(p),N;N=yield $e(S.next()),h=N.done,!h;x=!0){w=N.value,x=!1;let R=w,P=eD(yield $e(R.json()));P.sdkHttpResponse={headers:R.headers};let H=new Mo;Object.assign(H,P),yield yield $e(H)}}catch(R){g={error:R}}finally{try{!x&&!h&&(v=S.return)&&(yield $e(v.call(S)))}finally{if(g)throw g.error}}})})}else{let c=XI(this.apiClient,e);return a=W("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(p){return aa(this,arguments,function*(){var h,g,v,w;try{for(var x=!0,S=Mc(p),N;N=yield $e(S.next()),h=N.done,!h;x=!0){w=N.value,x=!1;let R=w,P=QI(yield $e(R.json()));P.sdkHttpResponse={headers:R.headers};let H=new Mo;Object.assign(H,P),yield yield $e(H)}}catch(R){g={error:R}}finally{try{!x&&!h&&(v=S.return)&&(yield $e(v.call(S)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let c=MH(this.apiClient,e);return a=W("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=RH(d),h=new Ap;return Object.assign(h,p),h})}else{let c=NH(this.apiClient,e);return a=W("{model}:batchEmbedContents",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=PH(d),h=new Ap;return Object.assign(h,p),h})}}async generateImagesInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let c=qH(this.apiClient,e);return a=W("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=zH(d),h=new bp;return Object.assign(h,p),h})}else{let c=HH(this.apiClient,e);return a=W("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=GH(d),h=new bp;return Object.assign(h,p),h})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){let a=DH(this.apiClient,e);return o=W("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{let d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{let c=AH(l),d=new i0;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){let a=$5(this.apiClient,e);return o=W("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{let d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{let c=U5(l),d=new o0;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){let a=w5(this.apiClient,e);return o=W("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{let c=S5(l),d=new s0;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){let a=b5(this.apiClient,e);return o=W("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{let c=k5(l),d=new a0;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let c=l5(this.apiClient,e);return a=W("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>w0(d))}else{let c=a5(this.apiClient,e);return a=W("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>C0(d))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let c=m5(this.apiClient,e);return a=W("{models_url}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=v5(d),h=new kp;return Object.assign(h,p),h})}else{let c=h5(this.apiClient,e);return a=W("{models_url}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=g5(d),h=new kp;return Object.assign(h,p),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let c=B5(this.apiClient,e);return a=W("{model}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>w0(d))}else{let c=O5(this.apiClient,e);return a=W("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>C0(d))}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let c=SH(this.apiClient,e);return a=W("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=xH(d),h=new Np;return Object.assign(h,p),h})}else{let c=wH(this.apiClient,e);return a=W("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=TH(d),h=new Np;return Object.assign(h,p),h})}}async countTokens(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let c=_H(this.apiClient,e);return a=W("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=CH(d),h=new Mp;return Object.assign(h,p),h})}else{let c=yH(this.apiClient,e);return a=W("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=EH(d),h=new Mp;return Object.assign(h,p),h})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){let a=dH(this.apiClient,e);return o=W("{model}:computeTokens",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{let d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{let c=fH(l),d=new l0;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let c=XH(this.apiClient,e);return a=W("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>{let p=JH(d),h=new Pp;return Object.assign(h,p),h})}else{let c=KH(this.apiClient,e);return a=W("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{let p=YH(d),h=new Pp;return Object.assign(h,p),h})}}};var N0=class extends Br{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){let n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let i=n.name.split("/operations/")[0],o;r&&"httpOptions"in r&&(o=r.httpOptions);let s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,isVertexAI:!0})}else{let i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(e){let n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let i=n.name.split("/operations/")[0],o;r&&"httpOptions"in r&&(o=r.httpOptions);let s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,isVertexAI:!0})}else{let i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let c=o$(e);return a=W("{operationName}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s}else{let c=i$(e);return a=W("{operationName}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){let a=X8(e);return o=W("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}};function m4(t){let e={},n=u(t,["data"]);if(n!=null&&f(e,["data"],n),u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function g4(t){let e={},n=u(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>T4(o))),f(e,["parts"],i)}let r=u(t,["role"]);return r!=null&&f(e,["role"],r),e}function v4(t,e,n){let r={},i=u(e,["expireTime"]);n!==void 0&&i!=null&&f(n,["expireTime"],i);let o=u(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&f(n,["newSessionExpireTime"],o);let s=u(e,["uses"]);n!==void 0&&s!=null&&f(n,["uses"],s);let a=u(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&f(n,["bidiGenerateContentSetup"],S4(t,a));let l=u(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&f(n,["fieldMask"],l),r}function y4(t,e){let n={},r=u(e,["config"]);return r!=null&&f(n,["config"],v4(t,r,n)),n}function _4(t){let e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);let r=u(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function E4(t){let e={};if(u(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=u(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function C4(t){let e={};if(u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");let n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function w4(t,e){let n={},r=u(t,["generationConfig"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig"],r);let i=u(t,["responseModalities"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig","responseModalities"],i);let o=u(t,["temperature"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig","temperature"],o);let s=u(t,["topP"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","topP"],s);let a=u(t,["topK"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","topK"],a);let l=u(t,["maxOutputTokens"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","maxOutputTokens"],l);let c=u(t,["mediaResolution"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","mediaResolution"],c);let d=u(t,["seed"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","seed"],d);let p=u(t,["speechConfig"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","speechConfig"],G0(p));let h=u(t,["thinkingConfig"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","thinkingConfig"],h);let g=u(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],g);let v=u(t,["systemInstruction"]);e!==void 0&&v!=null&&f(e,["setup","systemInstruction"],g4(wt(v)));let w=u(t,["tools"]);if(e!==void 0&&w!=null){let te=ua(w);Array.isArray(te)&&(te=te.map(_e=>I4(ca(_e)))),f(e,["setup","tools"],te)}let x=u(t,["sessionResumption"]);e!==void 0&&x!=null&&f(e,["setup","sessionResumption"],x4(x));let S=u(t,["inputAudioTranscription"]);e!==void 0&&S!=null&&f(e,["setup","inputAudioTranscription"],S);let N=u(t,["outputAudioTranscription"]);e!==void 0&&N!=null&&f(e,["setup","outputAudioTranscription"],N);let R=u(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&f(e,["setup","realtimeInputConfig"],R);let P=u(t,["contextWindowCompression"]);e!==void 0&&P!=null&&f(e,["setup","contextWindowCompression"],P);let H=u(t,["proactivity"]);return e!==void 0&&H!=null&&f(e,["setup","proactivity"],H),n}function S4(t,e){let n={},r=u(e,["model"]);r!=null&&f(n,["setup","model"],Ie(t,r));let i=u(e,["config"]);return i!=null&&f(n,["config"],w4(i,n)),n}function T4(t){let e={},n=u(t,["functionCall"]);n!=null&&f(e,["functionCall"],n);let r=u(t,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);let i=u(t,["executableCode"]);i!=null&&f(e,["executableCode"],i);let o=u(t,["fileData"]);o!=null&&f(e,["fileData"],_4(o));let s=u(t,["functionResponse"]);s!=null&&f(e,["functionResponse"],s);let a=u(t,["inlineData"]);a!=null&&f(e,["inlineData"],m4(a));let l=u(t,["text"]);l!=null&&f(e,["text"],l);let c=u(t,["thought"]);c!=null&&f(e,["thought"],c);let d=u(t,["thoughtSignature"]);d!=null&&f(e,["thoughtSignature"],d);let p=u(t,["videoMetadata"]);return p!=null&&f(e,["videoMetadata"],p),e}function x4(t){let e={},n=u(t,["handle"]);if(n!=null&&f(e,["handle"],n),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function I4(t){let e={},n=u(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),f(e,["functionDeclarations"],c)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let r=u(t,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);let i=u(t,["googleMaps"]);i!=null&&f(e,["googleMaps"],E4(i));let o=u(t,["computerUse"]);o!=null&&f(e,["computerUse"],o);let s=u(t,["codeExecution"]);if(s!=null&&f(e,["codeExecution"],s),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let a=u(t,["googleSearch"]);a!=null&&f(e,["googleSearch"],C4(a));let l=u(t,["urlContext"]);return l!=null&&f(e,["urlContext"],l),e}function D4(t){let e=[];for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)){let r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){let i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function A4(t,e){let n=null,r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){let o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;let i=t.fieldMask;if(n){let o=D4(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)o?t.fieldMask=o:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){let s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"],a=[];i.length>0&&(a=i.map(c=>s.includes(c)?`generationConfig.${c}`:c));let l=[];o&&l.push(o),a.length>0&&l.push(...a),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}var M0=class extends Br{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{let a=y4(this.apiClient,e);o=W("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;let l=A4(a,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}};function b4(t,e){let n={},r=u(t,["name"]);return r!=null&&f(n,["_url","name"],r),n}function k4(t,e){let n={},r=u(t,["name"]);return r!=null&&f(n,["_url","name"],r),n}function N4(t,e,n){let r={};if(u(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");let i=u(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&f(e,["displayName"],i),u(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");let o=u(t,["epochCount"]);e!==void 0&&o!=null&&f(e,["tuningTask","hyperparameters","epochCount"],o);let s=u(t,["learningRateMultiplier"]);if(s!=null&&f(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),u(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");let a=u(t,["batchSize"]);e!==void 0&&a!=null&&f(e,["tuningTask","hyperparameters","batchSize"],a);let l=u(t,["learningRate"]);if(e!==void 0&&l!=null&&f(e,["tuningTask","hyperparameters","learningRate"],l),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function M4(t,e,n){let r={},i=u(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){let g=u(t,["validationDataset"]);e!==void 0&&g!=null&&f(e,["supervisedTuningSpec"],sD(g))}else if(i==="PREFERENCE_TUNING"){let g=u(t,["validationDataset"]);e!==void 0&&g!=null&&f(e,["preferenceOptimizationSpec"],sD(g))}let o=u(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&f(e,["tunedModelDisplayName"],o);let s=u(t,["description"]);e!==void 0&&s!=null&&f(e,["description"],s);let a=u(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){let g=u(t,["epochCount"]);e!==void 0&&g!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(a==="PREFERENCE_TUNING"){let g=u(t,["epochCount"]);e!==void 0&&g!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let l=u(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){let g=u(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(l==="PREFERENCE_TUNING"){let g=u(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let c=u(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){let g=u(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(c==="PREFERENCE_TUNING"){let g=u(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&f(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let d=u(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){let g=u(t,["adapterSize"]);e!==void 0&&g!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(d==="PREFERENCE_TUNING"){let g=u(t,["adapterSize"]);e!==void 0&&g!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(u(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");let p=u(t,["labels"]);e!==void 0&&p!=null&&f(e,["labels"],p);let h=u(t,["beta"]);return e!==void 0&&h!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function P4(t,e){let n={},r=u(t,["baseModel"]);r!=null&&f(n,["baseModel"],r);let i=u(t,["preTunedModel"]);i!=null&&f(n,["preTunedModel"],i);let o=u(t,["trainingDataset"]);o!=null&&G4(o);let s=u(t,["config"]);return s!=null&&N4(s,n),n}function R4(t,e){let n={},r=u(t,["baseModel"]);r!=null&&f(n,["baseModel"],r);let i=u(t,["preTunedModel"]);i!=null&&f(n,["preTunedModel"],i);let o=u(t,["trainingDataset"]);o!=null&&z4(o,n,e);let s=u(t,["config"]);return s!=null&&M4(s,n,e),n}function L4(t,e){let n={},r=u(t,["name"]);return r!=null&&f(n,["_url","name"],r),n}function F4(t,e){let n={},r=u(t,["name"]);return r!=null&&f(n,["_url","name"],r),n}function O4(t,e,n){let r={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);let o=u(t,["pageToken"]);e!==void 0&&o!=null&&f(e,["_query","pageToken"],o);let s=u(t,["filter"]);return e!==void 0&&s!=null&&f(e,["_query","filter"],s),r}function B4(t,e,n){let r={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);let o=u(t,["pageToken"]);e!==void 0&&o!=null&&f(e,["_query","pageToken"],o);let s=u(t,["filter"]);return e!==void 0&&s!=null&&f(e,["_query","filter"],s),r}function V4(t,e){let n={},r=u(t,["config"]);return r!=null&&O4(r,n),n}function $4(t,e){let n={},r=u(t,["config"]);return r!=null&&B4(r,n),n}function U4(t,e){let n={},r=u(t,["sdkHttpResponse"]);r!=null&&f(n,["sdkHttpResponse"],r);let i=u(t,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);let o=u(t,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>PD(a))),f(n,["tuningJobs"],s)}return n}function H4(t,e){let n={},r=u(t,["sdkHttpResponse"]);r!=null&&f(n,["sdkHttpResponse"],r);let i=u(t,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);let o=u(t,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>P0(a))),f(n,["tuningJobs"],s)}return n}function q4(t,e){let n={},r=u(t,["name"]);r!=null&&f(n,["model"],r);let i=u(t,["name"]);return i!=null&&f(n,["endpoint"],i),n}function G4(t,e){let n={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");let r=u(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),f(n,["examples","examples"],i)}return n}function z4(t,e,n){let r={},i=u(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){let s=u(t,["gcsUri"]);e!==void 0&&s!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){let s=u(t,["gcsUri"]);e!==void 0&&s!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let o=u(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){let s=u(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){let s=u(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(u(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function PD(t,e){let n={},r=u(t,["sdkHttpResponse"]);r!=null&&f(n,["sdkHttpResponse"],r);let i=u(t,["name"]);i!=null&&f(n,["name"],i);let o=u(t,["state"]);o!=null&&f(n,["state"],hD(o));let s=u(t,["createTime"]);s!=null&&f(n,["createTime"],s);let a=u(t,["tuningTask","startTime"]);a!=null&&f(n,["startTime"],a);let l=u(t,["tuningTask","completeTime"]);l!=null&&f(n,["endTime"],l);let c=u(t,["updateTime"]);c!=null&&f(n,["updateTime"],c);let d=u(t,["description"]);d!=null&&f(n,["description"],d);let p=u(t,["baseModel"]);p!=null&&f(n,["baseModel"],p);let h=u(t,["_self"]);return h!=null&&f(n,["tunedModel"],q4(h)),n}function P0(t,e){let n={},r=u(t,["sdkHttpResponse"]);r!=null&&f(n,["sdkHttpResponse"],r);let i=u(t,["name"]);i!=null&&f(n,["name"],i);let o=u(t,["state"]);o!=null&&f(n,["state"],hD(o));let s=u(t,["createTime"]);s!=null&&f(n,["createTime"],s);let a=u(t,["startTime"]);a!=null&&f(n,["startTime"],a);let l=u(t,["endTime"]);l!=null&&f(n,["endTime"],l);let c=u(t,["updateTime"]);c!=null&&f(n,["updateTime"],c);let d=u(t,["error"]);d!=null&&f(n,["error"],d);let p=u(t,["description"]);p!=null&&f(n,["description"],p);let h=u(t,["baseModel"]);h!=null&&f(n,["baseModel"],h);let g=u(t,["tunedModel"]);g!=null&&f(n,["tunedModel"],g);let v=u(t,["preTunedModel"]);v!=null&&f(n,["preTunedModel"],v);let w=u(t,["supervisedTuningSpec"]);w!=null&&f(n,["supervisedTuningSpec"],w);let x=u(t,["preferenceOptimizationSpec"]);x!=null&&f(n,["preferenceOptimizationSpec"],x);let S=u(t,["tuningDataStats"]);S!=null&&f(n,["tuningDataStats"],S);let N=u(t,["encryptionSpec"]);N!=null&&f(n,["encryptionSpec"],N);let R=u(t,["partnerModelTuningSpec"]);R!=null&&f(n,["partnerModelTuningSpec"],R);let P=u(t,["customBaseModel"]);P!=null&&f(n,["customBaseModel"],P);let H=u(t,["experiment"]);H!=null&&f(n,["experiment"],H);let te=u(t,["labels"]);te!=null&&f(n,["labels"],te);let _e=u(t,["outputUri"]);_e!=null&&f(n,["outputUri"],_e);let lt=u(t,["pipelineJob"]);lt!=null&&f(n,["pipelineJob"],lt);let le=u(t,["serviceAccount"]);le!=null&&f(n,["serviceAccount"],le);let ke=u(t,["tunedModelDisplayName"]);ke!=null&&f(n,["tunedModelDisplayName"],ke);let it=u(t,["veoTuningSpec"]);return it!=null&&f(n,["veoTuningSpec"],it),n}function W4(t,e){let n={},r=u(t,["sdkHttpResponse"]);r!=null&&f(n,["sdkHttpResponse"],r);let i=u(t,["name"]);i!=null&&f(n,["name"],i);let o=u(t,["metadata"]);o!=null&&f(n,["metadata"],o);let s=u(t,["done"]);s!=null&&f(n,["done"],s);let a=u(t,["error"]);return a!=null&&f(n,["error"],a),n}function sD(t,e){let n={},r=u(t,["gcsUri"]);r!=null&&f(n,["validationDatasetUri"],r);let i=u(t,["vertexDatasetResource"]);return i!=null&&f(n,["validationDatasetUri"],i),n}var R0=class extends Br{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Po(fa.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){let i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);let o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{let i=Object.assign({},n);return await this.tuneInternal(i)}else{let i=Object.assign({},n),o=await this.tuneMldevInternal(i),s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:lD.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let c=F4(e);return a=W("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>P0(d))}else{let c=L4(e);return a=W("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>PD(d))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){let c=$4(e);return a=W("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=H4(d),h=new Rp;return Object.assign(h,p),h})}else{let c=V4(e);return a=W("tunedModels",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{let p=U4(d),h=new Rp;return Object.assign(h,p),h})}}async cancel(e){var n,r,i,o;let s="",a={};if(this.apiClient.isVertexAI()){let l=k4(e);s=W("{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{let l=b4(e);s=W("{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){let a=R4(e,e);return o=W("tuningJobs",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{let d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>P0(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=P4(e);return o=W("tunedModels",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{let d=c;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>W4(l))}}};var L0=class{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}},j4=1024*1024*8,Y4=3,J4=1e3,K4=2,t0="x-goog-upload-status";async function X4(t,e,n){var r,i,o;let s=0,a=0,l=new Pc(new Response),c="upload";for(s=t.size;a<s;){let p=Math.min(j4,s-a),h=t.slice(a,a+p);a+p>=s&&(c+=", finalize");let g=0,v=J4;for(;g<Y4&&(l=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(a),"Content-Length":String(p)}}}),!(!((r=l?.headers)===null||r===void 0)&&r[t0]));)g++,await Q4(v),v=v*K4;if(a+=p,((i=l?.headers)===null||i===void 0?void 0:i[t0])!=="active")break;if(s<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}let d=await l?.json();if(((o=l?.headers)===null||o===void 0?void 0:o[t0])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function Z4(t){return{size:t.size,type:t.type}}function Q4(t){return new Promise(e=>setTimeout(e,t))}var F0=class{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await X4(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Z4(e)}};var O0=class{create(e,n,r){return new B0(e,n,r)}},B0=class{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}};var aD="x-goog-api-key",V0=class{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(aD)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(aD,this.apiKey)}}};var e6="gl-node/",Rc=class{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;let r=J8(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;let i=new V0(this.apiKey);this.apiClient=new T0({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:e6+"web",uploader:new F0,downloader:new L0}),this.models=new k0(this.apiClient),this.live=new A0(this.apiClient,i,new O0),this.batches=new g0(this.apiClient),this.chats=new y0(this.models,this.apiClient),this.caches=new v0(this.apiClient),this.files=new E0(this.apiClient),this.operations=new N0(this.apiClient),this.authTokens=new M0(this.apiClient),this.tunings=new R0(this.apiClient)}};var z0="contentGenApiKey",Ro=class Ro{constructor(){this.apiKey=X(null);this.loadApiKeyFromStorage()}loadApiKeyFromStorage(){if(typeof localStorage<"u"){let e=localStorage.getItem(z0);e&&this.apiKey.set(e)}}setApiKey(e){let n=e.trim();n?(this.apiKey.set(n),localStorage.setItem(z0,n)):this.clearApiKey()}clearApiKey(){this.apiKey.set(null),localStorage.removeItem(z0)}};Ro.\u0275fac=function(n){return new(n||Ro)},Ro.\u0275prov=Se({token:Ro,factory:Ro.\u0275fac,providedIn:"root"});var pa=Ro;var RD=[{id:"gemini-2.5-flash",name:"Gemini 2.5 Flash (Recommended)"},{id:"gemini-2.5-pro",name:"Gemini 2.5 Pro"},{id:"gemini-1.5-pro-latest",name:"Gemini 1.5 Pro"}],LD=[{id:"imagen-3.0-generate-002",name:"Imagen 3.0",disabled:!1},{id:"imagen-4.0-generate-001",name:"Imagen 4.0",disabled:!1}],FD="contentGenTextModel",OD="contentGenImageModel",Lo=class Lo{constructor(){this.textModel=X(RD[0].id);this.imageModel=X(LD[0].id);this.textModels=RD;this.imageModels=LD;this.textModelName=Nt(()=>{let e=this.textModel();return this.textModels.find(n=>n.id===e)?.name??e});this.loadSettingsFromStorage()}loadSettingsFromStorage(){if(typeof localStorage<"u"){let e=localStorage.getItem(FD);e&&this.textModels.some(r=>r.id===e)&&this.textModel.set(e);let n=localStorage.getItem(OD);n&&this.imageModels.some(r=>r.id===n&&!r.disabled)&&this.imageModel.set(n)}}setTextModel(e){this.textModels.some(n=>n.id===e)&&(this.textModel.set(e),typeof localStorage<"u"&&localStorage.setItem(FD,e))}setImageModel(e){this.imageModels.some(n=>n.id===e&&!n.disabled)&&(this.imageModel.set(e),typeof localStorage<"u"&&localStorage.setItem(OD,e))}};Lo.\u0275fac=function(n){return new(n||Lo)},Lo.\u0275prov=Se({token:Lo,factory:Lo.\u0275fac,providedIn:"root"});var ha=Lo;var Fo=class Fo{constructor(){this.apiKeyService=K(pa);this.modelSettingsService=K(ha);this.ai=null;this.error=X(null);gr(()=>{let e=this.apiKeyService.apiKey();if(e)try{this.ai=new Rc({apiKey:e}),this.error.set(null)}catch(n){console.error("Failed to initialize GoogleGenAI:",n),this.ai=null,this.error.set(`Failed to initialize Google AI: ${n.message}. Please check your API key.`)}else this.ai=null,this.error.set("API Key is not set. Please provide your Google AI API key to use the app.")})}isReady(){return this.ai?!0:(this.error.set("API Key is not set. Please provide your Google AI API key to use the app."),!1)}async validateApiKey(e){if(!e||!e.trim())return{isValid:!1,error:"API Key cannot be empty."};try{return await new Rc({apiKey:e}).models.countTokens({model:"gemini-2.5-flash",contents:{parts:[{text:"validate"}]}}),{isValid:!0}}catch(n){console.error("API Key validation failed:",n);let r="Invalid API Key or network issue. Please check the key and your connection.";return n.message&&(n.message.includes("API key not valid")||n.message.includes("API_KEY_INVALID"))&&(r="The provided API key is not valid. Please check it and try again."),{isValid:!1,error:r}}}async generateContentIdeas(e,n,r){if(!this.isReady())return[];this.error.set(null);try{let i={};n.forEach(d=>{i[d]={type:vt.STRING,description:`A creative and concise value for "${d}"`}});let o={type:vt.ARRAY,items:{type:vt.OBJECT,properties:i,required:n}},s=`Based on the topic "${e}", generate ${r} unique and engaging content ideas. For each idea, provide a value for the following fields: ${n.join(", ")}. Respond with a valid JSON array of objects. Do not include any markdown formatting or introductory text.`,l=(await this.ai.models.generateContent({model:this.modelSettingsService.textModel(),contents:s,config:{responseMimeType:"application/json",responseSchema:o}})).text.trim(),c=JSON.parse(l);return Array.isArray(c)?c:[]}catch(i){return console.error("Error generating content ideas:",i),this.error.set("Failed to generate content ideas. The model may have returned an unexpected format or your API key may be invalid. Please try again."),[]}}async generateNarrationAndPrompts(e,n){if(!this.isReady())return null;this.error.set(null);try{let r=`${n}

Setelah membuat narasi di atas, buatlah serangkaian prompt gambar yang sangat deskriptif secara visual dalam Bahasa Indonesia. Setiap prompt harus sesuai untuk segmen video berdurasi 5 detik dan cocok dengan narasi yang dibuat. Jumlah prompt harus sesuai dengan panjang narasi (misalnya, narasi 30 detik harus menghasilkan 6 prompt, narasi 60 detik menghasilkan 12 prompt).

ATURAN KONSISTENSI VISUAL (SANGAT PENTING):
1.  **Gaya Visual Tunggal:** Pilih SATU gaya artistik yang jelas (contoh: fotorealistik, gaya anime, lukisan cat minyak, seni digital sinematik) dan terapkan secara KONSISTEN di SEMUA prompt gambar. Jangan mencampur gaya.
2.  **Konsistensi Karakter:** Jika ada karakter yang muncul berulang (misalnya, seorang ilmuwan, seekor hewan spesifik, atau karakter bernama seperti 'ADI'), deskripsikan penampilan fisik mereka (pakaian, rambut, fitur wajah, dll.) secara konsisten di setiap prompt di mana mereka muncul. Hal ini untuk memastikan AI menggambar orang atau subjek yang sama di setiap gambar.

TEKNIK PROMPT LANJUTAN UNTUK KUALITAS MAKSIMAL (WAJIB DIIKUTI):
Setiap prompt gambar HARUS dibuat menggunakan teknik profesional berikut untuk memaksimalkan kualitas gambar dari model AI seperti Imagen 3.0:
1.  **Struktur Detail:** Jelaskan komposisi, sudut pandang kamera, pencahayaan, warna, suasana, dan detail spesifik lainnya secara mendalam. Panjang setiap prompt harus minimal 150 kata.
2.  **Kata Kunci Kualitas:** Sertakan kata kunci kualitas seperti: "fotorealistik", "sangat detail", "sinematik", "resolusi tinggi", "tajam", "profesional".
3.  **Detail Teknis Kamera & Pencahayaan:** Tambahkan detail teknis fotografi untuk hasil yang lebih profesional. Contoh: "lensa 35mm, aperture f/1.8, bokeh lembut, pencahayaan sinematik, golden hour, rembrandt lighting".
4.  **Negative Prompt:** Di akhir setiap prompt, SELALU tambahkan bagian "Negative prompt:" untuk menghindari elemen yang tidak diinginkan. Contoh: "Negative prompt: teks, watermark, jelek, cacat, kualitas rendah, gambar kartun, gambar tidak realistis, jari cacat".

Setiap prompt yang dihasilkan HARUS menggabungkan semua aturan di atas.

Balas dengan objek JSON yang valid. Jangan sertakan markdown. Objek JSON harus berisi 'narration' (sebuah string hasil dari permintaan pertama) dan 'imagePrompts' (sebuah array objek, di mana setiap objek memiliki 'timestamp' seperti '0-5s', '5-10s', dst., dan sebuah 'prompt' string).`,i={type:vt.OBJECT,properties:{narration:{type:vt.STRING,description:"The full video narration."},imagePrompts:{type:vt.ARRAY,description:"An array of image prompts for the video, one for each 5-second segment, with the total number of prompts matching the narration length.",items:{type:vt.OBJECT,properties:{timestamp:{type:vt.STRING,description:"The time segment for the prompt, e.g., '0-5s'."},prompt:{type:vt.STRING,description:"The visually descriptive, high-quality, and technically detailed image prompt for this segment, including a negative prompt."}},required:["timestamp","prompt"]}}},required:["narration","imagePrompts"]},s=(await this.ai.models.generateContent({model:this.modelSettingsService.textModel(),contents:r,config:{responseMimeType:"application/json",responseSchema:i}})).text.trim();return JSON.parse(s)}catch(r){return console.error("Error generating narration:",r),this.error.set("Failed to generate narration or image prompts. Please check your prompt and try again."),null}}async generateVideoPromptFromImagePrompt(e){if(!this.isReady())return null;this.error.set(null);try{let n=`Based on the following descriptive AI image prompt, create a concise but dynamic prompt for an AI video generator to turn the static image into a short, 5-second video clip. The video prompt should focus on subtle movements, camera motion (like a slow zoom in or a gentle pan), and atmospheric effects (like drifting smoke or shimmering light). Do not describe the image again, only describe the motion.

Image Prompt: "${e}"

Video Prompt:`;return(await this.ai.models.generateContent({model:this.modelSettingsService.textModel(),contents:n})).text.trim()}catch(n){return console.error("Error generating video prompt:",n),this.error.set("Failed to generate the video prompt. Please try again."),null}}async generateImage(e){if(!this.isReady())return null;this.error.set(null);try{let n=await this.ai.models.generateImages({model:this.modelSettingsService.imageModel(),prompt:e,config:{numberOfImages:1,outputMimeType:"image/jpeg",aspectRatio:"9:16"}});return n.generatedImages&&n.generatedImages.length>0?n.generatedImages[0].image.imageBytes:null}catch(n){return console.error("Error generating image:",n),this.error.set("Failed to generate the image. The model may have returned an error or your API key may be invalid. Please try again."),null}}};Fo.\u0275fac=function(n){return new(n||Fo)},Fo.\u0275prov=Se({token:Fo,factory:Fo.\u0275fac,providedIn:"root"});var qp=Fo;function t6(t,e){if(t&1){let n=fe();mr(0,"span",1),b(1),mr(2,"button",3),yc("click",function(){let i=L(n).$index,o=D();return F(o.removeChip(i))}),mr(3,"span",4),b(4,"Remove"),bo(),J(),mr(5,"svg",5),lp(6,"path",6),bo()()()}if(t&2){let n=e.$implicit;A(),sn(" ",n," ")}}var ma=class ma{constructor(){this.chips=CI.required();this.inputValue=X("")}addChip(e){let n=e.trim();n&&!this.chips().includes(n)&&this.chips.update(r=>[...r,n]),this.inputValue.set("")}removeChip(e){this.chips.update(n=>{let r=[...n];return r.splice(e,1),r})}onKeyDown(e){(e.key==="Enter"||e.key===",")&&(e.preventDefault(),this.addChip(e.target.value))}onBlur(e){this.addChip(e.target.value)}};ma.\u0275fac=function(n){return new(n||ma)},ma.\u0275cmp=hc({type:ma,selectors:[["app-chip-input"]],inputs:{chips:[1,"chips"]},outputs:{chips:"chipsChange"},decls:4,vars:1,consts:[[1,"flex","flex-wrap","items-center","gap-2","rounded-lg","border","border-gray-300","dark:border-gray-600","bg-gray-100","dark:bg-gray-800","p-2","focus-within:border-indigo-500","focus-within:ring-1","focus-within:ring-indigo-500","transition-colors"],[1,"flex","items-center","gap-x-1.5","rounded-md","bg-indigo-100","dark:bg-indigo-500/20","px-2","py-1","text-sm","font-medium","text-indigo-700","dark:text-indigo-300"],["type","text","placeholder","Add columns...",1,"flex-grow","bg-transparent","p-1","text-gray-800","dark:text-gray-200","placeholder-gray-400","dark:placeholder-gray-500","focus:outline-none","min-w-[100px]",3,"input","keydown","blur","value"],["type","button",1,"group","relative","-mr-1","h-3.5","w-3.5","rounded-sm","hover:bg-indigo-200/70","dark:hover:bg-indigo-500/40",3,"click"],[1,"sr-only"],["viewBox","0 0 14 14",1,"h-3.5","w-3.5","stroke-indigo-600","dark:stroke-indigo-400","group-hover:stroke-indigo-700","dark:group-hover:stroke-indigo-200"],["d","M4 4l6 6m0-6l-6 6"]],template:function(n,r){n&1&&(mr(0,"div",0),nt(1,t6,7,1,"span",1,Ao),mr(3,"input",2),yc("input",function(o){return r.inputValue.set(o.target.value)})("keydown",function(o){return r.onKeyDown(o)})("blur",function(o){return r.onBlur(o)}),bo()()),n&2&&(A(),rt(r.chips()),A(2),cp("value",r.inputValue()))},dependencies:[na],encapsulation:2});var Gp=ma;var ga=class ga{constructor(){this.el=K(vi);this.renderer=K(sp);this.mainContent=null;this.originalOverflowAnchor=null;this.triggerResize=_I();gr(()=>{this.triggerResize(),this.resize()})}onInput(){this.resize()}ngAfterContentInit(){this.mainContent=document.getElementById("main-content"),this.resize()}ngOnDestroy(){this.mainContent&&this.originalOverflowAnchor!==null&&this.renderer.setStyle(this.mainContent,"overflow-anchor",this.originalOverflowAnchor)}resize(){let e=this.el.nativeElement;this.mainContent&&(this.originalOverflowAnchor===null&&(this.originalOverflowAnchor=this.mainContent.style.overflowAnchor||""),this.renderer.setStyle(this.mainContent,"overflow-anchor","none")),e.style.height="auto",e.style.height=`${e.scrollHeight}px`,this.mainContent&&requestAnimationFrame(()=>{this.mainContent&&this.originalOverflowAnchor!==null&&this.renderer.setStyle(this.mainContent,"overflow-anchor",this.originalOverflowAnchor)})}};ga.\u0275fac=function(n){return new(n||ga)},ga.\u0275dir=ap({type:ga,selectors:[["textarea","appAutoresize",""]],hostBindings:function(n,r){n&1&&O("input",function(){return r.onInput()})},inputs:{triggerResize:[1,"triggerResize"]}});var zp=ga;var n6=["historyDropdown"],r6=["importFileInput"],i6=()=>[1,2,3],Lc=(t,e)=>e.id;function o6(t,e){t&1&&(J(),_(0,"svg",14),G(1,"path",59),E())}function s6(t,e){t&1&&(J(),_(0,"svg",14),G(1,"path",60),E())}function a6(t,e){t&1&&(J(),_(0,"svg",61),G(1,"circle",62)(2,"path",63),E(),b(3," Generating... "))}function l6(t,e){t&1&&(J(),_(0,"svg",64),G(1,"path",65),E(),b(2," Generate Ideas "))}function c6(t,e){if(t&1){let n=fe();_(0,"div",68)(1,"button",69),O("click",function(){let i=L(n).$implicit,o=D(3);return F(o.setActiveHistory(i.id))}),_(2,"p",70),b(3),E(),_(4,"span",71),b(5),E()(),_(6,"button",72),O("click",function(i){let o=L(n).$implicit,s=D(3);return i.stopPropagation(),F(s.deleteHistoryItem(o.id))}),J(),_(7,"svg",73),G(8,"path",74),E()()()}if(t&2){let n=e.$implicit,r=e.$index,i=D(3);ge("id","menu-item-"+r),A(2),Dn("text-indigo-500",i.activeHistoryId()===n.id)("dark:text-indigo-400",i.activeHistoryId()===n.id),ge("title",n.topic),A(),Fe(n.topic),A(2),Fe(i.formatTimestampForHistory(n.timestamp))}}function u6(t,e){if(t&1&&nt(0,c6,9,8,"div",68,ky().trackByHistoryItem,!0),t&2){let n=D(2);rt(n.history())}}function d6(t,e){t&1&&(_(0,"p",67),b(1,"No history yet."),E())}function f6(t,e){if(t&1&&(_(0,"div",43)(1,"div",66),j(2,u6,2,0)(3,d6,2,0,"p",67),E()()),t&2){let n=D();A(2),Y(n.history().length>0?2:3)}}function p6(t,e){if(t&1&&(_(0,"div",52)(1,"p")(2,"strong",75),b(3,"Error:"),E(),b(4),E()()),t&2){let n=D();A(4),sn(" ",n.apiError())}}function h6(t,e){t&1&&G(0,"div",76)}function m6(t,e){t&1&&(_(0,"div",54),nt(1,h6,1,0,"div",76,Ao),E()),t&2&&(A(),rt(Ly(0,i6)))}function g6(t,e){if(t&1&&(_(0,"th",89),b(1),E()),t&2){let n=e.$implicit;A(),Fe(n)}}function v6(t,e){t&1&&(_(0,"div",92),J(),_(1,"svg",97),G(2,"circle",62)(3,"path",63),E()())}function y6(t,e){if(t&1){let n=fe();_(0,"button",98),O("click",function(){L(n);let i=D().$implicit,o=D(3);return F(o.toggleExpand(i.id))}),J(),_(1,"svg",99),G(2,"path",100),E()()}if(t&2){let n=D().$implicit,r=D(3);A(),Dn("rotate-90",r.expandedIdeaId()===n.id)}}function _6(t,e){t&1&&(J(),_(0,"svg",105),G(1,"path",108),E())}function E6(t,e){t&1&&(J(),_(0,"svg",106),G(1,"path",109),E())}function C6(t,e){if(t&1){let n=fe();_(0,"button",110),O("click",function(){L(n);let i=D().$implicit,o=D().$implicit,s=D(3);return F(s.addToNarrationPrompt(o,o[i]))}),J(),_(1,"svg",111),G(2,"path",112),E()()}}function w6(t,e){if(t&1){let n=fe();_(0,"td",95)(1,"div",101)(2,"span",102),b(3),E(),_(4,"div",103)(5,"button",104),O("click",function(){let i=L(n).$implicit,o=D().$implicit,s=D(3);return F(s.copyToClipboard(o[i],i,o.id))}),j(6,_6,2,0,":svg:svg",105)(7,E6,2,0,":svg:svg",106),E(),j(8,C6,3,0,"button",107),E()()()}if(t&2){let n=e.$implicit,r=D().$implicit,i=D(3);ta("data-label",n),A(3),Fe(r[n]),A(2),ge("title",Ry("Copy ",n)),A(),Y(i.copiedColumn()===r.id+"-"+n?6:7),A(2),Y(i.expandedIdeaId()===r.id&&i.narrationPromptVisibility()[r.id]?8:-1)}}function S6(t,e){t&1&&b(0," Edit Narration Prompt ")}function T6(t,e){t&1&&b(0," Narration Prompt ")}function x6(t,e){if(t&1){let n=fe();_(0,"div",127)(1,"button",135),O("click",function(){L(n);let i=D(3).$implicit,o=D(3);return F(o.openTemplatesModal(i))}),b(2,"Manage Templates"),E(),_(3,"button",136),O("click",function(){L(n);let i=D(3).$implicit,o=D(3);return F(o.startSavingTemplate(i.id))}),b(4,"Save as Template"),E()()}}function I6(t,e){if(t&1){let n=fe();_(0,"div",128)(1,"input",137),O("input",function(i){L(n);let o=D(6);return F(o.newTemplateName.set(i.target.value))}),E(),_(2,"button",138),O("click",function(){L(n);let i=D(3).$implicit,o=D(3);return F(o.savePromptTemplate(i,o.newTemplateName()))}),b(3,"Save"),E(),_(4,"button",139),O("click",function(){L(n);let i=D(6);return F(i.cancelSavingTemplate())}),b(5,"Cancel"),E()()}if(t&2){let n=D(6);A(),ge("value",n.newTemplateName()),A(),ge("disabled",!n.newTemplateName().trim())}}function D6(t,e){if(t&1){let n=fe();_(0,"button",140),O("click",function(){let i=L(n).$implicit,o=D(3).$implicit,s=D(3);return F(s.insertVariableIntoPrompt(o,i))}),b(1),E()}if(t&2){let n=e.$implicit;A(),Fe("{{"+n+"}}")}}function A6(t,e){t&1&&(J(),_(0,"svg",61),G(1,"circle",62)(2,"path",63),E(),b(3," Generating Script... "))}function b6(t,e){t&1&&b(0," Re-generate Video Script ")}function k6(t,e){t&1&&b(0," Generate Video Script ")}function N6(t,e){if(t&1&&j(0,b6,1,0)(1,k6,1,0),t&2){let n=D(3).$implicit;Y(n.narration?0:1)}}function M6(t,e){if(t&1){let n=fe();_(0,"div",118)(1,"div")(2,"div",126),j(3,x6,5,0,"div",127),E(),j(4,I6,6,2,"div",128),_(5,"div",129)(6,"div")(7,"h5",130),b(8,"Available Variables"),E(),_(9,"div",131),nt(10,D6,2,1,"button",132,_i),E()()(),_(12,"textarea",133),O("input",function(i){L(n);let o=D(2).$implicit,s=D(3);return F(s.updateNarrationPrompt(o.id,i))}),E()(),_(13,"button",134),O("click",function(){L(n);let i=D(2).$implicit,o=D(3);return F(o.generateNarration(i))}),j(14,A6,4,0)(15,N6,2,1),E()()}if(t&2){let n=D(2).$implicit,r=D(3);A(3),Y(r.isSavingTemplateForIdeaId()!==n.id?3:-1),A(),Y(r.isSavingTemplateForIdeaId()===n.id?4:-1),A(6),rt(r.tableColumns()),A(2),ge("id","narrationPrompt-"+n.id)("triggerResize",n.narrationPrompt)("value",n.narrationPrompt),A(),ge("disabled",n.narrationLoading||!n.narrationPrompt.trim()||!r.hasApiKey()),A(),Y(n.narrationLoading?14:15)}}function P6(t,e){t&1&&(_(0,"div",119)(1,"p",141),b(2,"Generating script and image prompts..."),E()())}function R6(t,e){t&1&&(J(),_(0,"svg",105),G(1,"path",108),E())}function L6(t,e){t&1&&(J(),_(0,"svg",147),G(1,"path",109),E())}function F6(t,e){t&1&&(J(),_(0,"svg",156),G(1,"circle",62)(2,"path",63),E(),b(3," Downloading... "))}function O6(t,e){t&1&&(J(),_(0,"svg",157),G(1,"path",158),E(),b(2," Download All "))}function B6(t,e){t&1&&(J(),_(0,"svg",156),G(1,"circle",62)(2,"path",63),E(),b(3," Generating... "))}function V6(t,e){t&1&&(J(),_(0,"svg",157),G(1,"path",159),E(),b(2," Generate All "))}function $6(t,e){if(t&1){let n=fe();_(0,"div",151)(1,"button",154),O("click",function(){L(n);let i=D(3).$implicit,o=D(3);return F(o.downloadAllImages(i))}),j(2,F6,4,0)(3,O6,3,0),E(),_(4,"button",155),O("click",function(){L(n);let i=D(3).$implicit,o=D(3);return F(o.generateAllImages(i))}),j(5,B6,4,0)(6,V6,3,0),E()()}if(t&2){let n=D(3).$implicit,r=D(3);A(),ge("disabled",r.isDownloadingAllImages()===n.id||!r.hasGeneratedImages(n)),A(),Y(r.isDownloadingAllImages()===n.id?2:3),A(2),ge("disabled",r.isGeneratingAllImages()===n.id||!r.hasApiKey()),A(),Y(r.isGeneratingAllImages()===n.id?5:6)}}function U6(t,e){t&1&&G(0,"div",162)}function H6(t,e){if(t&1){let n=fe();_(0,"div",163)(1,"button",173),O("click",function(){L(n);let i=D().$index,o=D(4).$implicit,s=D(3);return F(s.openLightbox(o.id,i))}),G(2,"img",174),E(),_(3,"button",175),O("click",function(){L(n);let i=D().$implicit,o=D(7);return F(o.downloadImage(i.imageUrl,"image-"+i.timestamp+".jpeg"))}),J(),_(4,"svg",73),G(5,"path",176),E()()()}if(t&2){let n=D().$implicit;A(2),ge("src",n.imageUrl,Xf)}}function q6(t,e){t&1&&(J(),_(0,"svg",105),G(1,"path",108),E())}function G6(t,e){t&1&&(J(),_(0,"svg",106),G(1,"path",109),E())}function z6(t,e){t&1&&(J(),_(0,"svg",105),G(1,"path",108),E())}function W6(t,e){t&1&&(J(),_(0,"svg",106),G(1,"path",109),E())}function j6(t,e){if(t&1){let n=fe();_(0,"div",168)(1,"p",177),b(2,"Video Prompt:"),E(),_(3,"div",178)(4,"p",164),b(5),E(),_(6,"button",179),O("click",function(){L(n);let i=D(),o=i.$implicit,s=i.$index,a=D(4).$implicit,l=D(3);return F(l.copyToClipboard(o.videoPrompt,"vprompt-"+s,a.id))}),j(7,z6,2,0,":svg:svg",105)(8,W6,2,0,":svg:svg",106),E()()()}if(t&2){let n=D(),r=n.$implicit,i=n.$index,o=D(4).$implicit,s=D(3);A(5),Fe(r.videoPrompt),A(2),Y(s.copiedColumn()===o.id+"-vprompt-"+i?7:8)}}function Y6(t,e){t&1&&(_(0,"div",169),J(),_(1,"svg",156),G(2,"circle",62)(3,"path",63),E(),b(4," Generating... "),E())}function J6(t,e){if(t&1){let n=fe();_(0,"button",180),O("click",function(){L(n);let i=D().$index,o=D(4).$implicit,s=D(3);return F(s.generateVideoPrompt(o.id,i))}),J(),_(1,"svg",73),G(2,"path",181),E(),b(3," Generate Video Prompt "),E()}if(t&2){let n=D(8);ge("disabled",!n.hasApiKey())}}function K6(t,e){if(t&1){let n=fe();_(0,"button",182),O("click",function(){L(n);let i=D().$index,o=D(4).$implicit,s=D(3);return F(s.generateSingleImage(o.id,i))}),J(),_(1,"svg",73),G(2,"path",46),E(),b(3," Generate Image "),E()}if(t&2){let n=D(8);ge("disabled",!n.hasApiKey())}}function X6(t,e){if(t&1){let n=fe();_(0,"div",172)(1,"span"),b(2,"Generation Failed."),E(),_(3,"button",183),O("click",function(){L(n);let i=D().$index,o=D(4).$implicit,s=D(3);return F(s.generateSingleImage(o.id,i))}),b(4,"Retry"),E()()}if(t&2){let n=D(8);A(3),ge("disabled",!n.hasApiKey())}}function Z6(t,e){if(t&1){let n=fe();_(0,"div",160)(1,"div",161),j(2,U6,1,0,"div",162)(3,H6,6,1,"div",163),_(4,"div",102)(5,"p",164)(6,"strong",165),b(7),E()(),_(8,"p",164),b(9),E()(),_(10,"button",166),O("click",function(){let i=L(n),o=i.$implicit,s=i.$index,a=D(4).$implicit,l=D(3);return F(l.copyToClipboard(o.prompt,"prompt-"+s,a.id))}),j(11,q6,2,0,":svg:svg",105)(12,G6,2,0,":svg:svg",106),E()(),_(13,"div",167),j(14,j6,9,2,"div",168)(15,Y6,5,0,"div",169)(16,J6,4,1,"button",170),j(17,K6,4,1,"button",171),j(18,X6,5,1,"div",172),E()()}if(t&2){let n=e.$implicit,r=e.$index,i=D(4).$implicit,o=D(3);A(2),Y(n.imageLoading?2:n.imageUrl?3:-1),A(5),sn("",n.timestamp,":"),A(2),Fe(n.prompt),A(2),Y(o.copiedColumn()===i.id+"-prompt-"+r?11:12),A(3),Y(n.videoPrompt?14:n.videoPromptLoading?15:16),A(3),Y(!n.imageUrl&&!n.imageLoading?17:-1),A(),Y(n.imageError?18:-1)}}function Q6(t,e){if(t&1&&nt(0,Z6,19,7,"div",160,Ao),t&2){let n=D(3).$implicit;rt(n.imagePrompts)}}function eq(t,e){t&1&&(_(0,"p",153),b(1,"No image prompts generated."),E())}function tq(t,e){if(t&1){let n=fe();_(0,"div",120)(1,"div",142)(2,"h4",143),b(3,"Generated Narration"),E(),_(4,"div",144)(5,"div",145),b(6),E(),_(7,"button",146),O("click",function(){L(n);let i=D(2).$implicit,o=D(3);return F(o.copyToClipboard(i.narration,"narration",i.id))}),j(8,R6,2,0,":svg:svg",105)(9,L6,2,0,":svg:svg",147),E()(),_(10,"div",148)(11,"span"),b(12),E(),_(13,"span"),b(14),E()()(),_(15,"div",142)(16,"div",149)(17,"h4",150),b(18,"Image Prompts"),E(),j(19,$6,7,4,"div",151),E(),_(20,"div",152),j(21,Q6,2,0)(22,eq,2,0,"p",153),E()()()}if(t&2){let n=D(2).$implicit,r=D(3);ge("id","narration-result-"+n.id),A(6),Fe(n.narration),A(2),Y(r.copiedNarration()===n.id?8:9),A(4),sn("Words: ",r.getWordCount(n.narration)),A(2),sn("Chars: ",r.getCharacterCount(n.narration)),A(5),Y(n.imagePrompts&&n.imagePrompts.length>0?19:-1),A(2),Y(n.imagePrompts&&n.imagePrompts.length>0?21:22)}}function nq(t,e){if(t&1){let n=fe();_(0,"tr",96)(1,"td")(2,"div",113)(3,"div",114)(4,"button",115),O("click",function(){L(n);let i=D().$implicit,o=D(3);return F(o.toggleNarrationPrompt(i.id))}),_(5,"span",7),j(6,S6,1,0)(7,T6,1,0),E(),J(),_(8,"svg",116),G(9,"path",117),E()(),j(10,M6,16,7,"div",118),E(),j(11,P6,3,0,"div",119)(12,tq,23,7,"div",120),et(),_(13,"div",121)(14,"h4",122),J(),_(15,"svg",79),G(16,"path",123),E(),b(17," Notes & References "),E(),et(),_(18,"p",124),b(19,"Use this space to save video source links or other notes."),E(),_(20,"textarea",125),O("input",function(i){L(n);let o=D().$implicit,s=D(3);return F(s.updateNotes(o.id,i))}),b(21,"                                "),E()()()()()}if(t&2){let n=D().$implicit,r=D(3);A(),ta("colspan",r.tableColumns().length+2),A(5),Y(n.narration?6:7),A(2),Dn("rotate-180",r.narrationPromptVisibility()[n.id]),A(2),Y(r.narrationPromptVisibility()[n.id]?10:-1),A(),Y(n.narrationLoading?11:n.narration?12:-1),A(9),ge("id","notes-"+n.id)("triggerResize",n.notes)("value",n.notes||"")}}function rq(t,e){if(t&1&&(_(0,"tr",90)(1,"td",91),j(2,v6,4,0,"div",92)(3,y6,3,2,"button",93),E(),_(4,"td",94)(5,"span"),b(6),E()(),nt(7,w6,9,6,"td",95,_i),E(),j(9,nq,22,9,"tr",96)),t&2){let n=e.$implicit,r=e.$index,i=D(3);Dn("has-narration",!!n.narration),A(),ta("data-label",n.Idea),A(),Y(n.narrationLoading?2:3),A(4),Fe(r+1),A(),rt(i.tableColumns()),A(2),Y(i.expandedIdeaId()===n.id?9:-1)}}function iq(t,e){if(t&1&&(_(0,"div",81)(1,"table",85)(2,"thead",86)(3,"tr"),G(4,"th",87),_(5,"th",88),b(6,"#"),E(),nt(7,g6,2,1,"th",89,_i),E()(),_(9,"tbody"),nt(10,rq,10,6,null,null,Lc),E()()()),t&2){let n=D(2);A(7),rt(n.tableColumns()),A(3),rt(n.currentIdeas())}}function oq(t,e){t&1&&(J(),_(0,"svg",189),G(1,"path",108),E(),b(2," Copied! "))}function sq(t,e){t&1&&(J(),_(0,"svg",190),G(1,"path",191),E(),b(2," Copy for Excel "))}function aq(t,e){if(t&1&&(_(0,"th"),b(1),E()),t&2){let n=e.$implicit;A(),Fe(n)}}function lq(t,e){if(t&1&&(_(0,"td"),b(1),E()),t&2){let n=e.$implicit;A(),Fe(n)}}function cq(t,e){if(t&1&&(_(0,"td",192),b(1),E()),t&2){let n=e.$implicit,r=D().$implicit;ge("title",r[n]),A(),Fe(r[n])}}function uq(t,e){if(t&1&&(_(0,"tr")(1,"td",188),b(2),E(),nt(3,cq,2,2,"td",192,_i),E()),t&2){let n=e.$index,r=D(3);A(2),Fe(n+2),A(),rt(r.tableColumns())}}function dq(t,e){if(t&1){let n=fe();_(0,"div",82)(1,"div",184)(2,"h3",185),b(3,"Compact View"),E(),_(4,"button",186),O("click",function(){L(n);let i=D(2);return F(i.copyCompactViewToClipboard())}),j(5,oq,3,0)(6,sq,3,0),E()(),_(7,"div",187)(8,"table")(9,"thead")(10,"tr")(11,"th"),b(12,"\xA0"),E(),nt(13,aq,2,1,"th",null,_i),E()(),_(15,"tbody")(16,"tr")(17,"td",188),b(18,"1"),E(),nt(19,lq,2,1,"td",null,_i),E(),nt(21,uq,5,1,"tr",null,Lc),E()()()()}if(t&2){let n=D(2);A(5),Y(n.copiedCompactView()?5:6),A(8),rt(n.excelColumns()),A(6),rt(n.tableColumns()),A(2),rt(n.currentIdeas())}}function fq(t,e){t&1&&(J(),_(0,"svg",61),G(1,"circle",62)(2,"path",63),E(),b(3," Generating... "))}function pq(t,e){t&1&&(J(),_(0,"svg",64),G(1,"path",193),E(),b(2," Generate More "))}function hq(t,e){if(t&1){let n=fe();_(0,"div",77)(1,"button",78),O("click",function(){L(n);let i=D();return F(i.openBatchGenerateModal())}),J(),_(2,"svg",79),G(3,"path",80),E(),b(4," Generate Narrations "),E()(),j(5,iq,12,0,"div",81)(6,dq,23,1,"div",82),et(),_(7,"div",83)(8,"button",84),O("click",function(){L(n);let i=D();return F(i.generateMoreIdeas())}),j(9,fq,4,0)(10,pq,3,0),E()()}if(t&2){let n=D();A(),ge("disabled",n.currentIdeas().length===0||!n.hasApiKey()),A(4),Y(n.viewMode()==="normal"?5:6),A(3),ge("disabled",n.loadingMoreIdeas()||!n.hasApiKey()),A(),Y(n.loadingMoreIdeas()?9:10)}}function mq(t,e){t&1&&b(0,' Enter a topic above and click "Generate Ideas" to get started. ')}function gq(t,e){t&1&&b(0," Please set your API Key to begin. ")}function vq(t,e){if(t&1&&(_(0,"div",55),J(),_(1,"svg",194),G(2,"path",195),E(),et(),_(3,"h3",196),b(4,"No ideas yet"),E(),_(5,"p",197),j(6,mq,1,0)(7,gq,1,0),E()()),t&2){let n=D();A(6),Y(n.hasApiKey()?6:7)}}function yq(t,e){if(t&1){let n=fe();_(0,"button",198),O("click",function(){L(n);let i=D();return F(i.handleScrollButtonClick())}),J(),_(1,"svg",199),G(2,"path",200),E()()}}function _q(t,e){if(t&1){let n=fe();_(0,"div",207)(1,"span",210),b(2),E(),_(3,"button",211),O("click",function(){L(n);let i=D(2);return F(i.undoDeletePromptTemplate())}),b(4,"Undo"),E()()}t&2&&(A(2),sn('"',e.template.name,'" dihapus.'))}function Eq(t,e){if(t&1){let n=fe();_(0,"div",212)(1,"div")(2,"label",213),b(3,"Template Name"),E(),_(4,"input",214),O("input",function(i){L(n);let o=D(3);return F(o.editingTemplateName.set(i.target.value))}),E()(),_(5,"div")(6,"label",213),b(7,"Template Content"),E(),_(8,"textarea",215),O("input",function(i){L(n);let o=D(3);return F(o.editingTemplateContent.set(i.target.value))}),E()(),_(9,"div",216)(10,"button",139),O("click",function(){L(n);let i=D(3);return F(i.cancelEditingTemplate())}),b(11,"Cancel"),E(),_(12,"button",217),O("click",function(){L(n);let i=D(3);return F(i.saveEditingTemplate())}),b(13,"Save"),E()()()}if(t&2){let n=D(3);A(4),ge("value",n.editingTemplateName()),A(4),ge("triggerResize",n.editingTemplateContent())("value",n.editingTemplateContent()),A(4),ge("disabled",!n.editingTemplateName().trim()||!n.editingTemplateContent().trim())}}function Cq(t,e){t&1&&b(0," Copied! ")}function wq(t,e){t&1&&b(0," Copy ")}function Sq(t,e){if(t&1){let n=fe();_(0,"button",223),O("click",function(){L(n);let i=D(2).$index,o=D(2);return F(o.deletePromptTemplate(i))}),b(1,"Delete"),E()}}function Tq(t,e){if(t&1){let n=fe();_(0,"h3",218),b(1),E(),_(2,"p",219),b(3),E(),_(4,"div",220)(5,"button",221),O("click",function(){L(n);let i=D().$implicit,o=D(),s=D();return F(s.applyPromptTemplate(o,i.template))}),b(6,"Apply"),E(),_(7,"button",139),O("click",function(){L(n);let i=D(),o=i.$implicit,s=i.$index,a=D(2);return F(a.copyTemplateToClipboard(o.template,s))}),j(8,Cq,1,0)(9,wq,1,0),E(),_(10,"button",139),O("click",function(){L(n);let i=D().$index,o=D(2);return F(o.startEditingTemplate(i))}),b(11,"Edit"),E(),G(12,"div",102),j(13,Sq,2,0,"button",222),E()}if(t&2){let n=D(),r=n.$implicit,i=n.$index,o=D(2);A(),Fe(r.name),A(2),Fe(r.template),A(5),Y(o.copiedTemplate()==="template-"+i?8:9),A(5),Y(o.savedPromptTemplates().length>1?13:-1)}}function xq(t,e){if(t&1&&(_(0,"div",208),j(1,Eq,14,4,"div",212)(2,Tq,14,4),E()),t&2){let n=e.$index,r=D(2);A(),Y(r.editingTemplateIndex()===n?1:2)}}function Iq(t,e){t&1&&(_(0,"p",209),b(1,"No saved templates yet."),E())}function Dq(t,e){if(t&1){let n=fe();_(0,"div",201),O("click",function(){L(n);let i=D();return F(i.closeTemplatesModal())}),_(1,"div",202),O("click",function(i){return L(n),F(i.stopPropagation())}),_(2,"header",203)(3,"h2",204),b(4,"Manage Prompt Templates"),E(),_(5,"button",205),O("click",function(){L(n);let i=D();return F(i.closeTemplatesModal())}),b(6,"\xD7"),E()(),_(7,"div",206),j(8,_q,5,1,"div",207),nt(9,xq,3,1,"div",208,Ao),j(11,Iq,2,0,"p",209),E()()()}if(t&2){let n,r=D();A(8),Y((n=r.recentlyDeletedTemplate())?8:-1,n),A(),rt(r.savedPromptTemplates()),A(2),Y(r.savedPromptTemplates().length===0?11:-1)}}function Aq(t,e){t&1&&(J(),_(0,"svg",239),G(1,"path",240),E())}function bq(t,e){if(t&1){let n=fe();_(0,"label",232)(1,"input",236),O("change",function(){let i=L(n).$implicit,o=D(2);return F(o.toggleIdeaSelection(i.id))}),E(),_(2,"div",237)(3,"span",238),b(4),E(),j(5,Aq,2,0,":svg:svg",239),E()()}if(t&2){let n=e.$implicit,r=D(2);A(),ge("checked",r.selectedIdeasForBatch().has(n.id)),A(2),Dn("text-sky-600",!!n.narration)("dark:text-sky-400",!!n.narration),ge("title",n.Idea),A(),Fe(n.Idea),A(),Y(n.narration?5:-1)}}function kq(t,e){if(t&1){let n=fe();_(0,"div",201),O("click",function(){L(n);let i=D();return F(i.closeBatchGenerateModal())}),_(1,"div",202),O("click",function(i){return L(n),F(i.stopPropagation())}),_(2,"header",224)(3,"h2",204),b(4,"Select Ideas to Generate"),E(),_(5,"button",225),O("click",function(){L(n);let i=D();return F(i.closeBatchGenerateModal())}),b(6,"\xD7"),E()(),_(7,"div",226)(8,"div",227)(9,"label",228)(10,"input",229),O("change",function(){L(n);let i=D();return F(i.toggleSelectAllIdeas())}),E(),_(11,"span",230),b(12,"Select All / Deselect All"),E()()(),_(13,"div",231),nt(14,bq,6,8,"label",232,Lc),E()(),_(16,"footer",233)(17,"button",234),O("click",function(){L(n);let i=D();return F(i.closeBatchGenerateModal())}),b(18,"Cancel"),E(),_(19,"button",235),O("click",function(){L(n);let i=D();return F(i.generateSelectedNarrations())}),b(20),E()()()()}if(t&2){let n=D();A(10),ge("checked",n.isAllIdeasSelectedForBatch())("indeterminate",n.isAnyIdeaSelectedForBatch()&&!n.isAllIdeasSelectedForBatch()),A(4),rt(n.currentIdeas()),A(5),ge("disabled",!n.isAnyIdeaSelectedForBatch()||!n.hasApiKey()),A(),sn(" Generate ",n.selectedIdeasForBatch().size," Narration(s) ")}}function Nq(t,e){if(t&1){let n=fe();_(0,"div",201),O("click",function(){L(n);let i=D();return F(i.cancelImport())}),_(1,"div",241),O("click",function(i){return L(n),F(i.stopPropagation())}),_(2,"div",242)(3,"div",243),J(),_(4,"svg",244),G(5,"path",245),E()(),et(),_(6,"h3",246),b(7,"Merge Data"),E(),_(8,"p",247),b(9,"This will merge data from the imported file with your current history and templates. If a history item with the same topic exists, the newest version is kept. If a template with the same name exists, your current one is kept. This action cannot be undone."),E()(),_(10,"div",248)(11,"button",249),O("click",function(){L(n);let i=D();return F(i.confirmImport())}),b(12,"Merge & Import"),E(),_(13,"button",250),O("click",function(){L(n);let i=D();return F(i.cancelImport())}),b(14,"Cancel"),E()()()()}}function Mq(t,e){if(t&1){let n=fe();_(0,"div",201),O("click",function(){L(n);let i=D();return F(i.closeResetConfirmModal())}),_(1,"div",241),O("click",function(i){return L(n),F(i.stopPropagation())}),_(2,"div",242)(3,"div",251),J(),_(4,"svg",252),G(5,"path",245),E()(),et(),_(6,"h3",246),b(7,"Bersihkan Tampilan Tabel?"),E(),_(8,"p",247),b(9,"Aksi ini hanya akan membersihkan tampilan tabel untuk sementara. Data Anda tidak akan hilang dan akan muncul kembali jika sesi riwayat ini dipilih lagi."),E()(),_(10,"div",248)(11,"button",253),O("click",function(){L(n);let i=D();return F(i.confirmResetData())}),b(12,"Ya, Bersihkan"),E(),_(13,"button",250),O("click",function(){L(n);let i=D();return F(i.closeResetConfirmModal())}),b(14,"Batal"),E()()()()}}function Pq(t,e){if(t&1){let n=fe();_(0,"button",263),O("click",function(i){L(n);let o=D(3);return i.stopPropagation(),F(o.prevImage())}),J(),_(1,"svg",264),G(2,"path",265),E()()}}function Rq(t,e){t&1&&(J(),_(0,"svg",105),G(1,"path",108),E())}function Lq(t,e){t&1&&(J(),_(0,"svg",147),G(1,"path",109),E())}function Fq(t,e){t&1&&(J(),_(0,"svg",105),G(1,"path",108),E())}function Oq(t,e){t&1&&(J(),_(0,"svg",147),G(1,"path",109),E())}function Bq(t,e){if(t&1){let n=fe();_(0,"div",271)(1,"h4",272),b(2,"Video Prompt"),E(),_(3,"p",269),b(4),E(),_(5,"button",273),O("click",function(){L(n);let i=D(),o=D(3);return F(o.copyLightboxPrompt(i.videoPrompt,"video"))}),j(6,Fq,2,0,":svg:svg",105)(7,Oq,2,0,":svg:svg",147),E()()}if(t&2){let n=D(),r=D(3);A(4),Fe(n.videoPrompt),A(2),Y(r.copiedLightboxPrompt()==="video"?6:7)}}function Vq(t,e){if(t&1){let n=fe();_(0,"div",261)(1,"button",266),O("click",function(){L(n);let i=D(),o=D(2);return F(o.downloadImage(i,"downloaded-image.jpeg"))}),J(),_(2,"svg",14),G(3,"path",176),E(),b(4," Download Image "),E(),et(),_(5,"div",267)(6,"h4",268),b(7,"Image Prompt"),E(),_(8,"p",269),b(9),E(),_(10,"button",270),O("click",function(){let i=L(n),o=D(3);return F(o.copyLightboxPrompt(i.prompt,"image"))}),j(11,Rq,2,0,":svg:svg",105)(12,Lq,2,0,":svg:svg",147),E()(),j(13,Bq,8,2,"div",271),E()}if(t&2){let n=e,r=D(3);A(9),Fe(n.prompt),A(2),Y(r.copiedLightboxPrompt()==="image"?11:12),A(2),Y(n.videoPrompt?13:-1)}}function $q(t,e){if(t&1){let n=fe();_(0,"button",274),O("click",function(i){L(n);let o=D(3);return i.stopPropagation(),F(o.nextImage())}),J(),_(1,"svg",264),G(2,"path",100),E()()}}function Uq(t,e){if(t&1){let n=fe();_(0,"div",255),O("click",function(){L(n);let i=D(2);return F(i.closeLightbox())}),_(1,"button",256),O("click",function(){L(n);let i=D(2);return F(i.closeLightbox())}),b(2,"\xD7"),E(),j(3,Pq,3,0,"button",257),_(4,"div",258),O("click",function(i){return L(n),F(i.stopPropagation())}),_(5,"div",259),G(6,"img",260),E(),j(7,Vq,14,3,"div",261),E(),j(8,$q,3,0,"button",262),E()}if(t&2){let n,r=D(2);A(3),Y(r.hasPrevImage()?3:-1),A(3),ge("src",e,Xf),A(),Y((n=r.lightboxImagePromptObject())?7:-1,n),A(),Y(r.hasNextImage()?8:-1)}}function Hq(t,e){if(t&1&&j(0,Uq,9,4,"div",254),t&2){let n,r=D();Y((n=r.lightboxImageUrl())?0:-1,n)}}function qq(t,e){if(t&1){let n=fe();_(0,"button",225),O("click",function(){L(n);let i=D(2);return F(i.closeApiKeyModal())}),b(1,"\xD7"),E()}}function Gq(t,e){if(t&1&&(_(0,"p",283),b(1),E()),t&2){let n=D(2);A(),Fe(n.apiKeyValidation().message)}}function zq(t,e){if(t&1&&(_(0,"p",284),b(1),E()),t&2){let n=D(2);A(),Fe(n.apiKeyValidation().message)}}function Wq(t,e){if(t&1&&(_(0,"p",285),b(1),E()),t&2){let n,r=D(2);A(),sn("Current key: ...",(n=r.apiKeyService.apiKey())==null?null:n.slice(-4))}}function jq(t,e){if(t&1){let n=fe();_(0,"button",289),O("click",function(){L(n);let i=D(2);return F(i.clearApiKey())}),b(1,"Clear Key"),E()}}function Yq(t,e){t&1&&(_(0,"div",151),J(),_(1,"svg",290),G(2,"circle",62)(3,"path",63),E(),et(),_(4,"span"),b(5,"Validating..."),E()())}function Jq(t,e){t&1&&(_(0,"span"),b(1,"Save Key"),E())}function Kq(t,e){if(t&1){let n=fe();_(0,"div",201),O("click",function(i){L(n);let o=D();return F(o.hasApiKey()?o.closeApiKeyModal():i.stopPropagation())}),_(1,"div",275),O("click",function(i){return L(n),F(i.stopPropagation())}),_(2,"header",203)(3,"h2",204),b(4,"Manage Google AI API Key"),E(),j(5,qq,2,0,"button",276),E(),_(6,"div",277)(7,"p",278),b(8," Your API key is stored only in your browser's local storage and is never sent to our servers. You can get your free API key from "),_(9,"a",279),b(10,"Google AI Studio"),E(),b(11,". "),E(),_(12,"div",24)(13,"label",280),b(14,"Your API Key"),E(),_(15,"input",281),O("input",function(i){L(n);let o=D();return o.apiKeyInput.set(i.target.value),F(o.apiKeyValidation.set({status:"idle",message:""}))})("keydown.enter",function(){L(n);let i=D();return F(i.saveApiKey())}),E()(),_(16,"div",282),j(17,Gq,2,1,"p",283),j(18,zq,2,1,"p",284),E(),j(19,Wq,2,1,"p",285),E(),_(20,"footer",286),j(21,jq,2,0,"button",287),_(22,"button",288),O("click",function(){L(n);let i=D();return F(i.saveApiKey())}),j(23,Yq,6,0,"div",151)(24,Jq,2,0,"span"),E()()()()}if(t&2){let n=D();Dn("cursor-not-allowed",!n.hasApiKey()),A(5),Y(n.hasApiKey()?5:-1),A(10),ge("value",n.apiKeyInput()),A(2),Y(n.apiKeyValidation().status==="invalid"?17:-1),A(),Y(n.apiKeyValidation().status==="valid"?18:-1),A(),Y(n.hasApiKey()&&!n.apiKeyInput()?19:-1),A(2),Y(n.hasApiKey()?21:-1),A(),ge("disabled",!n.apiKeyInput().trim()||n.apiKeyValidation().status==="validating"),A(),Y(n.apiKeyValidation().status==="validating"?23:24)}}function Xq(t,e){t&1&&(_(0,"span",296),J(),_(1,"svg",73),G(2,"path",240),E(),b(3," Saved! "),E())}function Zq(t,e){if(t&1&&(_(0,"option",298),b(1),E()),t&2){let n=e.$implicit;ge("value",n.id),A(),Fe(n.name)}}function Qq(t,e){t&1&&(_(0,"span",296),J(),_(1,"svg",73),G(2,"path",240),E(),b(3," Saved! "),E())}function e9(t,e){if(t&1&&(_(0,"option",301),b(1),E()),t&2){let n=e.$implicit;ge("value",n.id)("disabled",n.disabled),A(),Fe(n.name)}}function t9(t,e){if(t&1){let n=fe();_(0,"div",201),O("click",function(){L(n);let i=D();return F(i.closeAboutModal())}),_(1,"div",241),O("click",function(i){return L(n),F(i.stopPropagation())}),_(2,"header",203)(3,"h2",204),b(4,"About & Settings"),E(),_(5,"button",225),O("click",function(){L(n);let i=D();return F(i.closeAboutModal())}),b(6,"\xD7"),E()(),_(7,"div",291)(8,"div",292)(9,"p",7),b(10,"Created by:"),E(),_(11,"p",164),b(12,"Google AI Studio Team"),E()(),_(13,"div")(14,"h3",293),b(15,"AI Model Selection"),E(),_(16,"div",54)(17,"div")(18,"div",294)(19,"label",295),b(20,"Text Generation"),E(),j(21,Xq,4,0,"span",296),E(),_(22,"select",297),O("change",function(i){L(n);let o=D();return F(o.onTextModelChange(i))}),nt(23,Zq,2,2,"option",298,Lc),E()(),_(25,"div")(26,"div",294)(27,"label",299),b(28,"Image Generation"),E(),j(29,Qq,4,0,"span",296),E(),_(30,"select",300),O("change",function(i){L(n);let o=D();return F(o.onImageModelChange(i))}),nt(31,e9,2,3,"option",301,Lc),E()()()()(),_(33,"footer",302)(34,"button",303),O("click",function(){L(n);let i=D();return F(i.closeAboutModal())}),b(35,"Close"),E()()()()}if(t&2){let n=D();A(21),Y(n.showSavedConfirmation()==="text"?21:-1),A(),ge("value",n.modelSettingsService.textModel()),A(),rt(n.modelSettingsService.textModels),A(6),Y(n.showSavedConfirmation()==="image"?29:-1),A(),ge("value",n.modelSettingsService.imageModel()),A(),rt(n.modelSettingsService.imageModels)}}function n9(){let t=localStorage.getItem("contentGenTheme");return t==="light"||t==="dark"?t:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}var va=class va{constructor(){this.apiKeyService=K(pa);this.geminiService=K(qp);this.modelSettingsService=K(ha);this.topic=X("Buat pembahasan tentang fakta menarik, misterius, atau sedikit ngeri seputar dunia hewan \u2014 bisa tentang hewan spesifik, perilaku, atau konsep biologis seperti predator, simbiosis, evolusi, dll.");this.customColumns=X(["Hewan","fakta"]);this.loadingIdeas=X(!1);this.loadingMoreIdeas=X(!1);this.expandedIdeaId=X(null);this.copiedColumn=X(null);this.copiedTemplate=X(null);this.isHistoryDropdownOpen=X(!1);this.historyDropdown=Uy("historyDropdown");this.viewMode=X("normal");this.theme=X(n9());this.copiedCompactView=X(!1);this.copiedAllPrompts=X(null);this.copiedNarration=X(null);this.history=X([]);this.activeHistoryId=X(null);this.clearedHistoryIds=X(new Set);this.activeHistoryItem=Nt(()=>{let e=this.activeHistoryId();return e?this.history().find(n=>n.id===e)??null:null});this.currentIdeas=Nt(()=>{let e=this.activeHistoryItem();return e?this.clearedHistoryIds().has(e.id)?[]:e.ideas??[]:[]});this.newDefaultPrompt=`\u{1F3AC} Tujuan:
Buat narasi video tentang fakta menarik, misterius, atau sedikit ngeri seputar dunia hewan \u2014 bisa tentang hewan spesifik, perilaku, atau konsep biologis seperti predator, simbiosis, evolusi, dll.

\u{1F9E0} Gaya & Emosi:
Gaya narasi: penasaran, misterius, dan sedikit ngeri.
Bahasa santai seperti narator konten viral.
hindari pemakaian lo-gue gunakan aku-kamu 
ubah penggunaan kata "aku" menjadi "mimin"
Penonton harus merasa \u201Cwah keren tapi agak merinding."

\u{1F9E9} Struktur Saran:
Gunakan struktur berikut agar hasilnya mengalir dan tidak terasa terpisah:

---

\u{1F399}\uFE0F [HOOK] (0\u20135 detik)
Kalimat 1 \u2192 Pancing rasa penasaran atau heran.  
Contoh: \u201CTernyata [Hewan] bisa [hal mengejutkan].\u201D  
Kalimat 2 \u2192 Tambahkan ekspresi ringan biar terasa alami.  
Contoh: \u201CGue juga awalnya nggak percaya, tapi ternyata ini nyata.\u201D

---

\u{1F399}\uFE0F [FAKTA UTAMA] (5\u201325 detik)
Kalimat 1 \u2192 Perkenalkan perilaku utama hewan dengan kalimat aktif.  
Contoh: \u201C[Hewan] punya kebiasaan unik, mereka sering [perilaku utama].\u201D  
Kalimat 2 \u2192 Jelaskan apa yang mereka lakukan dan kapan hal itu terjadi.  
Contoh: \u201CBiasanya ini terjadi waktu [situasi tertentu].\u201D  
Kalimat 3 \u2192 Tambahkan contoh nyata atau eksperimen.  
Contoh: \u201CMisalnya, dalam sebuah penelitian, [Hewan] bisa [aksi spesifik].\u201D  
Kalimat 4 \u2192 Jelaskan fungsi langsung dari perilaku itu.  
Contoh: \u201CTujuannya buat [bertahan hidup / menarik pasangan / melindungi kelompok].\u201D  
Kalimat 5 \u2192 Gunakan kalimat transisi halus ke topik berbeda tapi masih nyambung.  
\u{1F539} Pola transisi yang bisa dipakai:
- \u201CTapi yang lebih menarik, ternyata bukan cuma itu.\u201D  
- \u201CUniknya, di balik kebiasaan ini, ada hal lain yang jarang diketahui.\u201D  
- \u201CDan ini baru sebagian kecil dari kehebatan mereka.\u201D  
- \u201CNah, yang bikin makin keren lagi adalah...\u201D  

---

\u{1F399}\uFE0F [DETAIL TAMBAHAN / PENJELASAN ILMIAH] (25\u201345 detik)
Kalimat 1 \u2192 Gunakan transisi pembuka dari kalimat sebelumnya.  
Contoh: \u201CKarena selain itu, [Hewan] juga punya kemampuan lain yang luar biasa.\u201D  
Kalimat 2 \u2192 Jelaskan fakta atau perilaku tambahan yang berbeda, tapi masih relevan.  
Contoh: \u201CMereka bisa [kemampuan tambahan], dan itu bantu mereka [fungsi biologis].\u201D  
Kalimat 3 \u2192 Jelaskan penyebab biologisnya.  
Contoh: \u201CHal ini terjadi karena mereka punya [bagian tubuh / sistem unik].\u201D  
Kalimat 4 \u2192 Tambahkan data ilmiah atau riset singkat.  
Contoh: \u201CPenelitian dari [nama institusi] nunjukin kalau hal ini bantu mereka bertahan di [lingkungan / kondisi ekstrem].\u201D  
Kalimat 5 \u2192 Tutup bagian ini dengan kalimat reflektif ringan.  
Contoh: \u201CJadi makin kelihatan ya, kalau mereka bukan hewan biasa.\u201D

---

\u{1F399}\uFE0F [EDUKASI / PESAN NILAI] (45\u201355 detik)
Kalimat 1 \u2192 Ambil pelajaran singkat dari keseluruhan perilaku hewan.  
Contoh: \u201CDari [Hewan] kita belajar kalau adaptasi itu kunci buat bertahan.\u201D  
Kalimat 2 (opsional) \u2192 Tambahkan penguat pendek.  
Contoh: \u201CKadang yang bikin kuat bukan otot, tapi cara menyesuaikan diri.\u201D

---

\u{1F399}\uFE0F [CLOSING] (55\u201360 detik)
Kalimat 1 \u2192 Tutup dengan nada reflektif atau kekaguman.  
Contoh: \u201CAlam selalu punya cara elegan buat nunjukin kecerdasannya.\u201D

\u{1F9FE} Instruksi Tambahan:
- Hindari istilah ilmiah berat.
- Tidak perlu CTA promosi (\u201Csubscribe\u201D, dll).
- Format hasil: dijadikan narasi utuh, hindari karakter karakter berlebihan yang membuat hasil text to sound menjadi aneh.
- panjang narasi WAJIB maksimal 200 kata


Topic : membahas {{Hewan}} tentang {{Idea}}
dengan fakta {{fakta}}

\u{1F4AC} Keluaran yang diharapkan:
buat menjadi beberapa paragraf sesuai dengan struktur penulisan [WAJIB]`;this.newTraditionTemplate=`\u{1F3AC} Tujuan:
Buat narasi YouTube Shorts  tentang kebiasaan, tradisi, atau hal unik yang dilakukan di suatu tempat di dunia.

\u{1F9E0} Gaya & Emosi:
Gaya narasi: penasaran, misterius, dan sedikit ngeri.
Bahasa santai seperti narator konten viral.

\u{1F3AF} Tujuan:
Menimbulkan rasa kagum, penasaran, dan \u201Cwow\u201D melalui gaya bercerita eksploratif, bukan penjelasan ilmiah.

\u{1F4AC} Gaya:
Natural, misterius, dan seolah narator sedang menceritakan fakta mengejutkan.

Gunakan struktur berikut:
1. Hook Penasaran (3 detik pertama) \u2014 tunjukkan hal paling aneh atau paradoksal dari tradisi itu.
2. Fakta Utama / Latar \u2014 jelaskan singkat apa, di mana, dan mengapa tradisi itu dilakukan.
3. Detail Unik / Twist \u2014 tambahkan fakta menarik atau makna simbolik di baliknya.
4. Penutup Reflektif \u2014 simpulkan makna atau ironi tradisi itu tanpa CTA.

Gunakan bahasa yang mudah diucapkan sebagai voice-over.
Pastikan tiap kalimat mengalir alami, tidak terkesan dibaca dari naskah.

- Tidak perlu CTA promosi (\u201Csubscribe\u201D, dll).
- Format hasil: dijadikan narasi utuh, hindari karakter karakter berlebihan yang membuat hasil text to sound menjadi aneh.
- panjang narasi WAJIB maksimal 200 kata


Topic : membahas {{Idea}}
hal yang di bahas : {{fakta}}

\u{1F4AC} Keluaran yang diharapkan:
buat menjadi beberapa paragraf sesuai dengan struktur penulisan [WAJIB]`;this.savedPromptTemplates=X([{name:"Narasi Fakta Hewan (Detail)",template:this.newDefaultPrompt},{name:"Fakta unik kebiasaan / tradisi",template:this.newTraditionTemplate}]);this.isTemplatesModalOpen=X(!1);this.activeIdeaForModal=X(null);this.isSavingTemplateForIdeaId=X(null);this.newTemplateName=X("");this.recentlyDeletedTemplate=X(null);this.editingTemplateIndex=X(null);this.editingTemplateName=X("");this.editingTemplateContent=X("");this.initialGenerationCount=X(10);this.moreGenerationCount=X(10);this.scrollToTopClickCount=X(0);this.isResetConfirmModalOpen=X(!1);this.isImportConfirmModalOpen=X(!1);this.fileToImport=X(null);this.importFileInput=Uy("importFileInput");this.lightboxState=X(null);this.copiedLightboxPrompt=X(null);this.isGeneratingAllImages=X(null);this.isDownloadingAllImages=X(null);this.isBatchGenerateModalOpen=X(!1);this.selectedIdeasForBatch=X(new Set);this.isApiKeyModalOpen=X(!1);this.apiKeyInput=X("");this.hasApiKey=Nt(()=>!!this.apiKeyService.apiKey());this.apiKeyValidation=X({status:"idle",message:""});this.isAboutModalOpen=X(!1);this.showSavedConfirmation=X(null);this.isScrolled=X(!1);this.narrationPromptVisibility=X({});this.tableColumns=Nt(()=>["Idea",...this.activeHistoryItem()?.customColumns??this.customColumns()]);this.excelColumns=Nt(()=>{let e=this.tableColumns().length,n=[];for(let r=0;r<e;r++){let i=r,o="";for(;i>=0;)o=String.fromCharCode(i%26+65)+o,i=Math.floor(i/26)-1;n.push(o)}return n});this.lightboxImageUrl=Nt(()=>{let e=this.lightboxState();return e?this.currentIdeas().find(r=>r.id===e.ideaId)?.imagePrompts?.[e.promptIndex]?.imageUrl??null:null});this.lightboxImagePromptObject=Nt(()=>{let e=this.lightboxState();return e?this.currentIdeas().find(r=>r.id===e.ideaId)?.imagePrompts?.[e.promptIndex]??null:null});this.hasNextImage=Nt(()=>{let e=this.lightboxState();if(!e)return!1;let n=this.currentIdeas().find(r=>r.id===e.ideaId);if(!n?.imagePrompts)return!1;for(let r=e.promptIndex+1;r<n.imagePrompts.length;r++)if(n.imagePrompts[r].imageUrl)return!0;return!1});this.hasPrevImage=Nt(()=>{let e=this.lightboxState();if(!e)return!1;let n=this.currentIdeas().find(r=>r.id===e.ideaId);if(!n?.imagePrompts)return!1;for(let r=e.promptIndex-1;r>=0;r--)if(n.imagePrompts[r].imageUrl)return!0;return!1});this.isAnyIdeaSelectedForBatch=Nt(()=>this.selectedIdeasForBatch().size>0);this.isAllIdeasSelectedForBatch=Nt(()=>{let e=this.currentIdeas();return e.length>0&&this.selectedIdeasForBatch().size===e.length});this.apiError=this.geminiService.error;this.loadStateFromStorage(),gr(()=>{this.saveStateToStorage()}),gr(()=>{let e=this.theme();e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("contentGenTheme",e)}),gr(()=>{let e=this.activeHistoryItem();e&&(this.topic.set(e.topic),this.customColumns.set(e.customColumns))}),gr(()=>{this.hasApiKey()?this.isApiKeyModalOpen.set(!1):this.isApiKeyModalOpen.set(!0)})}onDocumentClick(e){this.isHistoryDropdownOpen()&&!this.historyDropdown()?.nativeElement.contains(e.target)&&this.isHistoryDropdownOpen.set(!1)}onMainScroll(e){let n=e.target;n&&(this.isScrolled.set(n.scrollTop>100),n.scrollTop===0&&this.scrollToTopClickCount.set(0))}async saveApiKey(){let e=this.apiKeyInput().trim();if(!e){this.apiKeyValidation.set({status:"invalid",message:"API Key cannot be empty."});return}this.apiKeyValidation.set({status:"validating",message:""});let n=await this.geminiService.validateApiKey(e);if(n.isValid)this.apiKeyService.setApiKey(e),this.apiKeyInput.set(""),this.apiKeyValidation.set({status:"valid",message:"API Key validated and saved successfully!"}),setTimeout(()=>{this.closeApiKeyModal()},1500);else{let r=n.error||"An unknown validation error occurred.";this.hasApiKey()&&(r+=" The new key was NOT saved. The application is still using your previously saved valid key."),this.apiKeyValidation.set({status:"invalid",message:r})}}clearApiKey(){this.apiKeyService.clearApiKey()}openApiKeyModal(){this.apiKeyInput.set(this.apiKeyService.apiKey()??""),this.apiKeyValidation.set({status:"idle",message:""}),this.isApiKeyModalOpen.set(!0)}closeApiKeyModal(){this.isApiKeyModalOpen.set(!1)}openAboutModal(){this.isAboutModalOpen.set(!0),this.showSavedConfirmation.set(null)}closeAboutModal(){this.isAboutModalOpen.set(!1)}onTextModelChange(e){let n=e.target;this.modelSettingsService.setTextModel(n.value),this.showSavedConfirmation.set("text"),setTimeout(()=>{this.showSavedConfirmation()==="text"&&this.showSavedConfirmation.set(null)},2e3)}onImageModelChange(e){let n=e.target;this.modelSettingsService.setImageModel(n.value),this.showSavedConfirmation.set("image"),setTimeout(()=>{this.showSavedConfirmation()==="image"&&this.showSavedConfirmation.set(null)},2e3)}loadStateFromStorage(){let e=localStorage.getItem("contentGenHistory");if(e)try{let i=JSON.parse(e);this.history.set(i),i.length>0&&this.activeHistoryId.set(i[0].id)}catch(i){console.error("Failed to parse history from localStorage",i)}let n=localStorage.getItem("contentGenTemplates");if(n)try{let i=JSON.parse(n);Array.isArray(i)&&i.length>0&&this.savedPromptTemplates.set(i)}catch(i){console.error("Failed to parse templates from localStorage",i)}let r=localStorage.getItem("contentGenViewMode");r&&(r==="normal"||r==="compact")&&this.viewMode.set(r)}saveStateToStorage(){try{let e=this.history().map(n=>U(I({},n),{ideas:n.ideas.map(r=>r.imagePrompts?U(I({},r),{imagePrompts:r.imagePrompts.map(i=>{let a=i,{imageUrl:o}=a;return Yp(a,["imageUrl"])})}):r)}));localStorage.setItem("contentGenHistory",JSON.stringify(e)),localStorage.setItem("contentGenTemplates",JSON.stringify(this.savedPromptTemplates())),localStorage.setItem("contentGenViewMode",this.viewMode())}catch(e){console.error("Failed to save state to localStorage, it might be full:",e),this.apiError.set("Could not save your session. Your browser's local storage might be full. Export your data to save it.")}}mapGeneratedDataToContentIdeas(e){return e.map(n=>U(I({},n),{id:self.crypto.randomUUID(),narrationLoading:!1,narrationPrompt:this.newDefaultPrompt}))}toggleHistoryDropdown(){this.isHistoryDropdownOpen.update(e=>!e)}setActiveHistory(e){if(this.activeHistoryId()===e){this.isHistoryDropdownOpen.set(!1);return}this.activeHistoryId.set(e),this.clearedHistoryIds.update(n=>{if(n.has(e)){let r=new Set(n);return r.delete(e),r}return n}),this.expandedIdeaId.set(null),this.isHistoryDropdownOpen.set(!1)}deleteHistoryItem(e){this.history.update(n=>{let r=n.filter(i=>i.id!==e);return this.activeHistoryId()===e&&this.activeHistoryId.set(r.length>0?r[0].id:null),r})}formatTimestampForHistory(e){return new Date(e).toLocaleString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}trackByHistoryItem(e,n){return n.id}async generateIdeas(){if(!this.topic().trim()||this.loadingIdeas())return;this.loadingIdeas.set(!0),this.expandedIdeaId.set(null);let e=["Idea",...this.customColumns()],n=await this.geminiService.generateContentIdeas(this.topic(),e,this.initialGenerationCount()),r=this.mapGeneratedDataToContentIdeas(n),i={id:self.crypto.randomUUID(),timestamp:Date.now(),topic:this.topic(),customColumns:this.customColumns(),ideas:r};this.history.update(o=>[i,...o]),this.activeHistoryId.set(i.id),this.loadingIdeas.set(!1)}async generateMoreIdeas(){let e=this.activeHistoryId(),n=this.activeHistoryItem();if(!e||!n||this.loadingMoreIdeas())return;this.loadingMoreIdeas.set(!0);let r=["Idea",...n.customColumns],i=await this.geminiService.generateContentIdeas(n.topic,r,this.moreGenerationCount()),o=this.mapGeneratedDataToContentIdeas(i);this.history.update(s=>s.map(a=>a.id===e?U(I({},a),{ideas:[...a.ideas,...o]}):a)),this.loadingMoreIdeas.set(!1)}updateIdea(e,n){let r=this.activeHistoryId();r&&this.history.update(i=>i.map(o=>o.id===r?U(I({},o),{ideas:o.ideas.map(s=>s.id===e?n(s):s)}):o))}toggleExpand(e){let n=this.expandedIdeaId()===e;if(this.expandedIdeaId.update(r=>r===e?null:e),!n){let r=this.currentIdeas().find(o=>o.id===e),i=!(r&&r.narration);this.narrationPromptVisibility.update(o=>U(I({},o),{[e]:i}))}}processPrompt(e,n){let r=n;return(n.match(/{{\s*([\w\d]+)\s*}}/g)||[]).forEach(o=>{let s=o.replace(/{{\s*|\s*}}/g,""),a=e[s]||`[${s}]`;r=r.replace(new RegExp(o,"g"),a)}),r}async generateNarration(e){if(!e.narrationPrompt.trim())return;this.updateIdea(e.id,i=>U(I({},i),{narrationLoading:!0,narration:"",imagePrompts:[]})),this.narrationPromptVisibility.update(i=>U(I({},i),{[e.id]:!1}));let n=this.processPrompt(e,e.narrationPrompt),r=await this.geminiService.generateNarrationAndPrompts(e,n);this.updateIdea(e.id,i=>{if(r&&r.imagePrompts){let o=r.imagePrompts.map(s=>U(I({},s),{generated:!1,videoPromptLoading:!1}));return U(I({},i),{narration:r.narration,imagePrompts:o,narrationLoading:!1})}return U(I({},i),{narrationLoading:!1})}),setTimeout(()=>{document.getElementById(`narration-result-${e.id}`)?.scrollIntoView({behavior:"smooth",block:"nearest"})},100)}updateNarrationPrompt(e,n){let r=n.target.value;this.updateIdea(e,i=>U(I({},i),{narrationPrompt:r}))}addToNarrationPrompt(e,n){let r=document.getElementById("narrationPrompt-"+e.id);if(!r)return;let i=r.selectionStart,o=r.selectionEnd,s=e.narrationPrompt,a=n?.trim()??"";if(!a)return;let d=(i>0&&s[i-1]!==" "?" ":"")+a+" ",p=s.substring(0,i)+d+s.substring(o);this.updateIdea(e.id,h=>U(I({},h),{narrationPrompt:p})),setTimeout(()=>{r.focus({preventScroll:!0});let h=i+d.length;r.setSelectionRange(h,h),r.dispatchEvent(new Event("input",{bubbles:!0}))},0)}copyToClipboard(e,n,r){navigator.clipboard.writeText(e).then(()=>{if(n==="narration")this.copiedNarration.set(r),setTimeout(()=>{this.copiedNarration()===r&&this.copiedNarration.set(null)},2e3);else{let i=`${r}-${n}`;this.copiedColumn.set(i),setTimeout(()=>{this.copiedColumn()===i&&this.copiedColumn.set(null)},2e3)}})}copyAllImagePrompts(e){if(!e.imagePrompts||e.imagePrompts.length===0)return;let n=e.imagePrompts.map(r=>r.prompt).join(`

---

`);navigator.clipboard.writeText(n).then(()=>{this.copiedAllPrompts.set(e.id),setTimeout(()=>{this.copiedAllPrompts()===e.id&&this.copiedAllPrompts.set(null)},2e3)})}getWordCount(e){return e?e.trim().split(/\s+/).filter(Boolean).length:0}getCharacterCount(e){return e?e.length:0}setViewMode(e){this.viewMode.set(e)}toggleTheme(){this.theme.update(e=>e==="dark"?"light":"dark")}copyCompactViewToClipboard(){let e=this.activeHistoryItem();if(!e||e.ideas.length===0)return;let n=this.tableColumns(),r=n.join("	"),i=e.ideas.map(s=>n.map(l=>`"${(s[l]?s[l].toString().replace(/\r?\n|\r/g," "):"").replace(/"/g,'""')}"`).join("	")),o=[r,...i].join(`
`);navigator.clipboard.writeText(o).then(()=>{this.copiedCompactView.set(!0),setTimeout(()=>this.copiedCompactView.set(!1),2e3)})}startSavingTemplate(e){this.isSavingTemplateForIdeaId.set(e),this.newTemplateName.set("")}cancelSavingTemplate(){this.isSavingTemplateForIdeaId.set(null)}savePromptTemplate(e,n){let r=n.trim(),i=e.narrationPrompt.trim();if(r&&i){let s=this.tableColumns().map(a=>({column:a,value:e[a]})).filter(a=>a.value&&typeof a.value=="string"&&a.value.trim().length>2).sort((a,l)=>l.value.length-a.value.length);for(let a of s){let l=a.value.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),c=new RegExp(l,"gi");i=i.replace(c,`{{${a.column}}}`)}this.savedPromptTemplates().some(a=>a.template===i)||this.savedPromptTemplates.update(a=>[...a,{name:r,template:i}])}this.cancelSavingTemplate()}deletePromptTemplate(e){let n=this.savedPromptTemplates()[e];n&&(this.recentlyDeletedTemplate.set({template:n,index:e}),this.editingTemplateIndex.set(null),this.savedPromptTemplates.update(r=>{let i=[...r];return i.splice(e,1),i}),setTimeout(()=>{this.recentlyDeletedTemplate()?.template.name===n.name&&this.recentlyDeletedTemplate.set(null)},5e3))}undoDeletePromptTemplate(){let e=this.recentlyDeletedTemplate();e&&(this.savedPromptTemplates.update(n=>{let r=[...n];return r.splice(e.index,0,e.template),r}),this.recentlyDeletedTemplate.set(null))}applyPromptTemplate(e,n){let r=n;(n.match(/{{\s*([\w\d]+)\s*}}/g)||[]).forEach(s=>{let a=s.replace(/{{\s*|\s*}}/g,""),l=e[a]||`[${a}]`;r=r.replace(new RegExp(s,"g"),l)}),this.updateIdea(e.id,s=>U(I({},s),{narrationPrompt:r})),this.closeTemplatesModal();let o=document.getElementById("narrationPrompt-"+e.id);o&&setTimeout(()=>o.dispatchEvent(new Event("input",{bubbles:!0})))}insertVariableIntoPrompt(e,n){let r=document.getElementById("narrationPrompt-"+e.id);if(!r)return;let i=r.selectionStart,o=r.selectionEnd,s=e.narrationPrompt,a=`{{${n}}}`,l=`${s.substring(0,i)}${a}${s.substring(o)}`;this.updateIdea(e.id,c=>U(I({},c),{narrationPrompt:l})),setTimeout(()=>{r.focus();let c=i+a.length;r.setSelectionRange(c,c),r.dispatchEvent(new Event("input",{bubbles:!0}))})}openTemplatesModal(e){this.activeIdeaForModal.set(e),this.isTemplatesModalOpen.set(!0),this.recentlyDeletedTemplate.set(null),this.editingTemplateIndex.set(null)}closeTemplatesModal(){this.isTemplatesModalOpen.set(!1),this.activeIdeaForModal.set(null),this.editingTemplateIndex.set(null)}copyTemplateToClipboard(e,n){navigator.clipboard.writeText(e).then(()=>{let r=`template-${n}`;this.copiedTemplate.set(r),setTimeout(()=>{this.copiedTemplate()===r&&this.copiedTemplate.set(null)},2e3)})}startEditingTemplate(e){let n=this.savedPromptTemplates()[e];n&&(this.editingTemplateIndex.set(e),this.editingTemplateName.set(n.name),this.editingTemplateContent.set(n.template))}cancelEditingTemplate(){this.editingTemplateIndex.set(null)}saveEditingTemplate(){let e=this.editingTemplateIndex();if(e===null)return;let n=this.editingTemplateName().trim(),r=this.editingTemplateContent().trim();!n||!r||(this.savedPromptTemplates.update(i=>{let o=[...i];return o[e]={name:n,template:r},o}),this.cancelEditingTemplate())}toggleNarrationPrompt(e){this.narrationPromptVisibility.update(n=>U(I({},n),{[e]:!n[e]}))}toggleImagePromptGenerated(e,n){this.updateIdea(e,r=>{if(!r.imagePrompts)return r;let i=r.imagePrompts.map((o,s)=>s===n?U(I({},o),{generated:!o.generated}):o);return U(I({},r),{imagePrompts:i})})}async generateVideoPrompt(e,n){if(!this.activeHistoryId())return;let i=l=>{this.updateIdea(e,c=>c.imagePrompts?U(I({},c),{imagePrompts:c.imagePrompts.map((d,p)=>p===n?l(d):d)}):c)},s=this.currentIdeas().find(l=>l.id===e)?.imagePrompts?.[n]?.prompt;if(!s)return;i(l=>U(I({},l),{videoPromptLoading:!0}));let a=await this.geminiService.generateVideoPromptFromImagePrompt(s);i(l=>U(I({},l),{videoPrompt:a??void 0,videoPromptLoading:!1}))}handleScrollButtonClick(){this.scrollToTopClickCount.update(n=>n+1);let e=document.getElementById("main-content");e&&(this.scrollToTopClickCount()>2?e.scrollTo({top:0,behavior:"smooth"}):e.scrollBy({top:-e.clientHeight*.8,behavior:"smooth"}))}openResetConfirmModal(){this.isResetConfirmModalOpen.set(!0)}closeResetConfirmModal(){this.isResetConfirmModalOpen.set(!1)}confirmResetData(){let e=this.activeHistoryId();e&&this.clearedHistoryIds.update(n=>{let r=new Set(n);return r.add(e),r}),this.expandedIdeaId.set(null),this.closeResetConfirmModal()}exportData(){try{let e={version:1,history:this.history(),templates:this.savedPromptTemplates()},n=JSON.stringify(e,null,2),r=new Blob([n],{type:"application/json"}),i=URL.createObjectURL(r),o=document.createElement("a"),s=new Date().toISOString().slice(0,19).replace(/[:T]/g,"-");o.href=i,o.download=`${s}-content-generator-backup.json`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i)}catch(e){console.error("Failed to export data:",e),this.apiError.set("An error occurred while trying to export your data.")}}triggerImport(){this.importFileInput()?.nativeElement.click()}handleFileImport(e){let n=e.target,r=n.files?.[0];r&&(this.fileToImport.set(r),this.isImportConfirmModalOpen.set(!0)),n.value=""}cancelImport(){this.fileToImport.set(null),this.isImportConfirmModalOpen.set(!1)}async confirmImport(){let e=this.fileToImport();if(!e){this.cancelImport();return}try{let n=await e.text(),r=JSON.parse(n),i=[],o=[];if(Array.isArray(r))i=r;else if(typeof r=="object"&&r!==null&&!Array.isArray(r)){let c=!1;if(Array.isArray(r.history)&&(i=r.history,c=!0),Array.isArray(r.templates)&&(o=r.templates,c=!0),!c)throw new Error("Invalid file format.")}else throw new Error("Invalid file format.");let s=new Map;for(let c of this.history())s.set(c.topic,c);for(let c of i){let d=s.get(c.topic);(!d||c.timestamp>d.timestamp)&&s.set(c.topic,c)}let a=Array.from(s.values());if(a.sort((c,d)=>d.timestamp-c.timestamp),this.history.set(a),o.length>0){let c=new Map;for(let p of this.savedPromptTemplates())c.set(p.name,p);for(let p of o)c.has(p.name)||c.set(p.name,p);let d=Array.from(c.values());this.savedPromptTemplates.set(d)}let l=this.activeHistoryId();(!l||!a.some(c=>c.id===l))&&this.activeHistoryId.set(a.length>0?a[0].id:null)}catch(n){console.error("Failed to import data:",n),this.apiError.set("Failed to import data. The file may be corrupt or in an incorrect format.")}finally{this.cancelImport()}}hasGeneratedImages(e){return e.imagePrompts?.some(n=>n.imageUrl)??!1}async generateSingleImage(e,n){let r=a=>{this.updateIdea(e,l=>l.imagePrompts?U(I({},l),{imagePrompts:l.imagePrompts.map((c,d)=>d===n?a(c):c)}):l)},o=this.currentIdeas().find(a=>a.id===e)?.imagePrompts?.[n];if(!o)return;r(a=>U(I({},a),{imageLoading:!0,imageError:!1}));let s=await this.geminiService.generateImage(o.prompt);r(s?a=>U(I({},a),{imageUrl:`data:image/jpeg;base64,${s}`,imageLoading:!1}):a=>U(I({},a),{imageLoading:!1,imageError:!0}))}async generateAllImages(e){if(!e.imagePrompts)return;this.isGeneratingAllImages.set(e.id);let n=[];e.imagePrompts.forEach((r,i)=>{r.imageUrl||n.push(this.generateSingleImage(e.id,i))}),await Promise.all(n),this.isGeneratingAllImages.set(null)}openLightbox(e,n){this.lightboxState.set({ideaId:e,promptIndex:n})}closeLightbox(){this.lightboxState.set(null)}copyLightboxPrompt(e,n){e&&navigator.clipboard.writeText(e).then(()=>{this.copiedLightboxPrompt.set(n),setTimeout(()=>{this.copiedLightboxPrompt()===n&&this.copiedLightboxPrompt.set(null)},2e3)})}nextImage(){this.lightboxState.update(e=>{if(!e)return null;let n=this.currentIdeas().find(r=>r.id===e.ideaId);if(!n?.imagePrompts)return e;for(let r=e.promptIndex+1;r<n.imagePrompts.length;r++)if(n.imagePrompts[r].imageUrl)return U(I({},e),{promptIndex:r});return e})}prevImage(){this.lightboxState.update(e=>{if(!e)return null;let n=this.currentIdeas().find(r=>r.id===e.ideaId);if(!n?.imagePrompts)return e;for(let r=e.promptIndex-1;r>=0;r--)if(n.imagePrompts[r].imageUrl)return U(I({},e),{promptIndex:r});return e})}downloadImage(e,n){let r=document.createElement("a");r.href=e,r.download=n||"generated-image.jpeg",document.body.appendChild(r),r.click(),document.body.removeChild(r)}async downloadAllImages(e){this.isDownloadingAllImages.set(e.id);let n=e.imagePrompts?.filter(r=>r.imageUrl)??[];for(let r=0;r<n.length;r++){let i=n[r];i.imageUrl&&(this.downloadImage(i.imageUrl,`image-${i.timestamp}.jpeg`),r<n.length-1&&await new Promise(o=>setTimeout(o,300)))}this.isDownloadingAllImages.set(null)}openBatchGenerateModal(){this.isBatchGenerateModalOpen.set(!0),this.selectedIdeasForBatch.set(new Set)}closeBatchGenerateModal(){this.isBatchGenerateModalOpen.set(!1)}toggleIdeaSelection(e){this.selectedIdeasForBatch.update(n=>{let r=new Set(n);return r.has(e)?r.delete(e):r.add(e),r})}toggleSelectAllIdeas(){if(this.isAllIdeasSelectedForBatch())this.selectedIdeasForBatch.set(new Set);else{let e=new Set(this.currentIdeas().map(n=>n.id));this.selectedIdeasForBatch.set(e)}}async generateSelectedNarrations(){let e=this.selectedIdeasForBatch();if(e.size===0)return;let n=this.currentIdeas().filter(i=>e.has(i.id));this.closeBatchGenerateModal();let r=n.map(i=>this.generateNarration(i));Promise.allSettled(r)}updateNotes(e,n){let r=n.target.value;this.updateIdea(e,i=>U(I({},i),{notes:r}))}};va.\u0275fac=function(n){return new(n||va)},va.\u0275cmp=hc({type:va,selectors:[["app-root"]],viewQuery:function(n,r){n&1&&(up(r.historyDropdown,n6,5),up(r.importFileInput,r6,5)),n&2&&My(2)},hostBindings:function(n,r){n&1&&O("click",function(o){return r.onDocumentClick(o)},cy)},decls:97,vars:68,consts:[["importFileInput",""],["historyDropdown",""],[1,"h-screen","font-sans","antialiased"],["id","main-content",1,"h-full","w-full","overflow-y-auto",3,"scroll"],[1,"container","mx-auto","p-4","sm:p-6","md:p-8","max-w-7xl"],[1,"flex","flex-col","sm:flex-row","justify-between","sm:items-center","gap-4","mb-8"],[1,"text-2xl","sm:text-4xl","font-extrabold","text-transparent","bg-clip-text","bg-gradient-to-r","from-indigo-400","to-purple-500"],[1,"font-semibold","text-gray-700","dark:text-gray-300"],[1,"flex","items-center","gap-2","self-start","sm:self-center","flex-shrink-0"],["title","Manage API Key",1,"flex","items-center","gap-2","px-3","py-2","text-sm","font-semibold","rounded-lg","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"],[1,"hidden","sm:inline"],[1,"p-2","text-sm","font-semibold","text-gray-700","dark:text-gray-300","bg-gray-200/50","dark:bg-gray-700/50","rounded-lg","hover:bg-gray-200","dark:hover:bg-gray-700","transition-colors",3,"click","title"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5"],["title","About & Settings",1,"p-2","text-sm","font-semibold","text-gray-700","dark:text-gray-300","bg-gray-200/50","dark:bg-gray-700/50","rounded-lg","hover:bg-gray-200","dark:hover:bg-gray-700","transition-colors",3,"click"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule","evenodd"],["type","file","accept",".json",1,"hidden",3,"change"],["title","Import Data",1,"flex","items-center","gap-2","px-3","py-2","text-sm","font-semibold","text-gray-700","dark:text-gray-300","bg-gray-200/50","dark:bg-gray-700/50","rounded-lg","hover:bg-gray-200","dark:hover:bg-gray-700","transition-colors",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"],["title","Export Data",1,"flex","items-center","gap-2","px-3","py-2","text-sm","font-semibold","text-gray-700","dark:text-gray-300","bg-gray-200/50","dark:bg-gray-700/50","rounded-lg","hover:bg-gray-200","dark:hover:bg-gray-700","transition-colors",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"],[1,"bg-white/50","dark:bg-gray-800/50","backdrop-blur-sm","rounded-2xl","shadow-2xl","shadow-black/20","p-6","border","border-gray-200","dark:border-gray-700"],[1,"grid","grid-cols-1","gap-6"],[1,"flex","flex-col","gap-2"],["for","topic",1,"font-semibold","text-gray-700","dark:text-gray-300"],["id","topic","appAutoresize","","placeholder","e.g., Viral marketing for a tech startup",1,"w-full","min-h-[40px]","p-3","bg-gray-100/50","dark:bg-gray-900/50","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-indigo-500","focus:border-indigo-500","transition-all","text-gray-800","dark:text-gray-200","placeholder-gray-400","dark:placeholder-gray-500","resize-none","overflow-hidden",3,"input","value"],["for","columns",1,"font-semibold","text-gray-700","dark:text-gray-300"],[3,"chipsChange","chips"],[1,"text-xs","text-gray-400","dark:text-gray-500","mt-1"],[1,"mt-6","flex","flex-col","md:flex-row","md:justify-between","items-stretch","md:items-center","gap-6"],[1,"flex","flex-col","sm:flex-row","w-full","md:w-auto","items-stretch","sm:items-end","gap-3"],[1,"relative","inline-flex","items-center","justify-center","px-8","py-3","text-lg","font-bold","text-white","bg-gradient-to-r","from-indigo-600","to-purple-600","rounded-lg","shadow-lg","hover:from-indigo-700","hover:to-purple-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-gray-900","focus:ring-indigo-500","transition-all","duration-300","ease-in-out","disabled:opacity-50","disabled:cursor-not-allowed","transform","hover:scale-105","h-full","flex-grow","sm:flex-grow-0",3,"click","disabled"],[1,"w-full","sm:w-auto"],["for","initial-generation-count",1,"block","text-xs","font-medium","text-gray-500","dark:text-gray-400","mb-1","text-center"],["id","initial-generation-count","type","number","min","1","max","50",1,"w-full","sm:w-20","bg-gray-100/50","dark:bg-gray-900/50","border","border-gray-300","dark:border-gray-600","rounded-lg","px-3","py-2","text-center","text-lg","font-bold","focus:ring-2","focus:ring-indigo-500","focus:border-indigo-500",3,"input","value"],[1,"flex","flex-wrap","items-center","justify-center","gap-2"],[1,"relative","inline-block","text-left"],["type","button","id","menu-button","aria-expanded","true","aria-haspopup","true",1,"inline-flex","items-center","gap-x-2","rounded-md","bg-gray-200/50","dark:bg-gray-700/50","px-3","py-2","text-sm","font-semibold","text-gray-700","dark:text-gray-300","shadow-sm","hover:bg-gray-200","dark:hover:bg-gray-700",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"h-5","w-5","text-gray-500","dark:text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"],["viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"-mr-1","h-5","w-5","text-gray-500","dark:text-gray-400"],["fill-rule","evenodd","d","M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.25 4.25a.75.75 0 01-1.06 0L5.23 8.27a.75.75 0 01.02-1.06z","clip-rule","evenodd"],["role","menu","aria-orientation","vertical","aria-labelledby","menu-button","tabindex","-1",1,"absolute","right-0","z-10","mt-2","w-80","origin-top-right","rounded-md","bg-white","dark:bg-gray-800","shadow-lg","ring-1","ring-black","ring-opacity-5","focus:outline-none","border","border-gray-200","dark:border-gray-700"],[1,"flex","items-center","rounded-lg","bg-gray-200/50","dark:bg-gray-700/50","p-1"],["title","Normal View",1,"p-2","rounded-md","transition-colors","flex","items-center",3,"click"],["fill-rule","evenodd","d","M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z","clip-rule","evenodd"],["title","Compact View for Excel",1,"p-2","rounded-md","transition-colors","flex","items-center",3,"click"],["fill-rule","evenodd","d","M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z","clip-rule","evenodd"],["title","Hapus Semua Data",1,"p-2","text-sm","font-semibold","text-red-600","dark:text-red-300","bg-red-100","dark:bg-red-900/50","rounded-lg","hover:bg-red-200","dark:hover:bg-red-900/80","transition-colors",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.134-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.067-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"],[1,"sr-only"],[1,"mt-6","bg-red-100","dark:bg-red-900/50","border","border-red-300","dark:border-red-700","text-red-700","dark:text-red-300","px-4","py-3","rounded-lg","text-center"],[1,"mt-8"],[1,"space-y-4"],[1,"text-center","py-16","px-6","bg-white/50","dark:bg-gray-800/50","border","border-gray-200","dark:border-gray-700","rounded-2xl"],["title","Scroll Up",1,"fixed","bottom-6","right-6","w-12","h-12","rounded-full","bg-indigo-600/80","backdrop-blur-sm","text-white","shadow-lg","hover:bg-indigo-500","transition-all","duration-300","flex","items-center","justify-center","z-50"],[1,"fixed","inset-0","bg-black/70","backdrop-blur-sm","z-50","flex","items-center","justify-center","p-4"],[1,"fixed","inset-0","bg-black/70","backdrop-blur-sm","z-50","flex","items-center","justify-center","p-4",3,"cursor-not-allowed"],["fill-rule","evenodd","d","M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm-.707 12.122l.707-.707a1 1 0 011.414 1.414l-.707.707a1 1 0 01-1.414-1.414zM4 11a1 1 0 100-2H3a1 1 0 100 2h1z","clip-rule","evenodd"],["d","M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"],["role","none",1,"py-1","max-h-96","overflow-y-auto"],[1,"px-4","py-3","text-sm","text-gray-500","text-center"],["role","menuitem","tabindex","-1",1,"block","px-4","py-2","text-sm","text-gray-700","dark:text-gray-300","hover:bg-gray-100","dark:hover:bg-gray-700/60","relative","group",3,"id"],[1,"w-full","text-left",3,"click"],[1,"font-semibold","truncate",3,"title"],[1,"text-xs","text-gray-400","dark:text-gray-500"],["title","Delete this history item",1,"absolute","top-1/2","-translate-y-1/2","right-2","p-1","rounded-full","text-gray-400","dark:text-gray-500","hover:bg-red-100","dark:hover:bg-red-500/20","hover:text-red-500","dark:hover:text-red-400","transition-colors","opacity-0","group-hover:opacity-100",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-4","w-4"],["fill-rule","evenodd","d","M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule","evenodd"],[1,"font-bold"],[1,"w-full","h-16","bg-gray-200","dark:bg-gray-800","rounded-lg","animate-pulse"],[1,"mb-4","flex","justify-end"],[1,"inline-flex","items-center","justify-center","px-5","py-2","font-semibold","text-white","bg-purple-600","rounded-lg","hover:bg-purple-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-gray-900","focus:ring-purple-500","transition-all","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","mr-2"],["d","M5 4a1 1 0 00-2 0v7.268a2 2 0 000 3.464V16a1 1 0 102 0v-1.268a2 2 0 000-3.464V4zM11 4a1 1 0 10-2 0v1.268a2 2 0 000 3.464V16a1 1 0 102 0V8.732a2 2 0 000-3.464V4zM16 3a1 1 0 011 1v7.268a2 2 0 010 3.464V16a1 1 0 11-2 0v-1.268a2 2 0 010-3.464V4a1 1 0 011-1z"],[1,"overflow-x-auto","bg-white/50","dark:bg-gray-800/50","border","border-gray-200","dark:border-gray-700","rounded-lg","shadow-lg"],[1,"excel-view-container","shadow-lg"],[1,"mt-8","text-center"],[1,"relative","inline-flex","items-center","justify-center","px-8","py-3","text-lg","font-bold","text-white","bg-gradient-to-r","from-purple-600","to-pink-600","rounded-lg","shadow-lg","hover:from-purple-700","hover:to-pink-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-gray-900","focus:ring-purple-500","transition-all","duration-300","ease-in-out","disabled:opacity-50","disabled:cursor-not-allowed","transform","hover:scale-105",3,"click","disabled"],[1,"responsive-table","w-full","text-sm","text-left","text-gray-700","dark:text-gray-300"],[1,"text-xs","text-gray-500","dark:text-gray-400","uppercase","bg-gray-100/50","dark:bg-gray-900/50"],["scope","col",1,"px-6","py-3","w-12"],["scope","col",1,"px-4","py-3"],["scope","col",1,"px-6","py-3"],[1,"border-b","border-gray-200","dark:border-gray-700","hover:bg-gray-100","dark:hover:bg-gray-800","transition-colors"],[1,"expand-cell","px-6","py-4"],[1,"flex","items-center","justify-center"],[1,"p-1","rounded-full","hover:bg-gray-200","dark:hover:bg-gray-700"],[1,"index-cell","px-4","py-4","font-mono","text-gray-400","dark:text-gray-500"],[1,"px-6","py-4"],[1,"bg-gray-50/30","dark:bg-gray-900/30"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-indigo-400"],[1,"p-1","rounded-full","hover:bg-gray-200","dark:hover:bg-gray-700",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","transition-transform","duration-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],[1,"group","flex","justify-between","items-start","gap-2","md:block","md:relative","md:pr-12"],[1,"flex-grow"],[1,"flex-shrink-0","flex","flex-col","items-center","gap-2","md:flex-row","md:items-center","md:gap-1","md:absolute","md:top-1/2","md:-translate-y-1/2","md:right-0","opacity-60","md:opacity-0","group-hover:md:opacity-100","focus-within:md:opacity-100","transition-opacity"],[1,"p-1","bg-gray-200","dark:bg-gray-700","rounded-md",3,"click","title"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4","text-green-400"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4","text-gray-500","dark:text-gray-300"],["title","Add to narration prompt",1,"p-1","bg-purple-600","rounded-full","hover:bg-purple-500","transition-colors"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"],["title","Add to narration prompt",1,"p-1","bg-purple-600","rounded-full","hover:bg-purple-500","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-4","w-4","text-white"],["fill-rule","evenodd","d","M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H5a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule","evenodd"],[1,"p-4","sm:p-6","flex","flex-col","gap-6"],[1,"flex","flex-col"],[1,"w-full","flex","justify-between","items-center","p-3","bg-gray-100","dark:bg-gray-800","rounded-lg","hover:bg-gray-200/50","dark:hover:bg-gray-700/50","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"h-6","w-6","text-gray-500","dark:text-gray-400","transition-transform","duration-300"],["fill","currentColor","d","M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"],[1,"flex","flex-col","gap-4","p-4","rounded-lg","bg-gray-50","dark:bg-gray-900/50","border","border-gray-200","dark:border-gray-700","mt-4"],[1,"flex","items-center","justify-center","h-48","p-4","bg-gray-100","dark:bg-gray-800","rounded-lg","animate-pulse"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6",3,"id"],[1,"border-t","border-gray-200","dark:border-gray-700","pt-6"],[1,"text-lg","font-bold","text-gray-700","dark:text-gray-300","mb-2","flex","items-center"],["fill-rule","evenodd","d","M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z","clip-rule","evenodd"],[1,"text-sm","text-gray-500","dark:text-gray-500","mb-3"],["appAutoresize","","placeholder","Paste links or type notes here...",1,"w-full","min-h-[100px]","p-3","bg-white","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-indigo-500","focus:border-indigo-500","transition-all","text-gray-800","dark:text-gray-200","placeholder-gray-500","resize-none",3,"input","id","triggerResize","value"],[1,"flex","flex-wrap","justify-between","items-center","gap-2","mb-2"],[1,"flex","items-center","gap-2","ml-auto"],[1,"flex","items-center","gap-2","p-3","mb-3","bg-gray-100","dark:bg-gray-800","border","border-indigo-500/30","rounded-lg"],[1,"p-3","mb-3","border","border-gray-200","dark:border-gray-700","rounded-lg","bg-gray-100/50","dark:bg-gray-800/50","space-y-3","text-sm"],[1,"text-xs","font-semibold","text-gray-500","dark:text-gray-400","mb-2","uppercase","tracking-wider"],[1,"flex","flex-wrap","gap-2"],[1,"px-2","py-1","bg-gray-200","dark:bg-gray-700","text-gray-600","dark:text-gray-300","rounded-md","hover:bg-gray-300","dark:hover:bg-gray-600","transition-colors","text-xs","font-mono"],["appAutoresize","","placeholder","Enter a prompt for the narration...",1,"w-full","p-3","bg-white","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-indigo-500","focus:border-indigo-500","transition-all","text-gray-800","dark:text-gray-200","placeholder-gray-500","resize-none",3,"input","id","triggerResize","value"],[1,"inline-flex","items-center","justify-center","px-6","py-2","font-semibold","text-white","bg-purple-600","rounded-lg","hover:bg-purple-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-gray-900","focus:ring-purple-500","transition-all","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"px-2","py-1","text-xs","font-semibold","text-gray-600","dark:text-gray-300","bg-gray-200","dark:bg-gray-700/80","rounded-md","hover:bg-gray-300","dark:hover:bg-gray-700","transition-colors",3,"click"],[1,"px-2","py-1","text-xs","font-semibold","text-indigo-700","dark:text-indigo-200","bg-indigo-100","dark:bg-indigo-500/20","rounded-md","hover:bg-indigo-200","dark:hover:bg-indigo-500/40","transition-colors",3,"click"],["type","text","placeholder","Enter template name...",1,"flex-grow","bg-white","dark:bg-gray-900/50","border","border-gray-300","dark:border-gray-600","rounded-md","px-2","py-1","text-sm","text-gray-800","dark:text-gray-200","placeholder-gray-500","focus:ring-1","focus:ring-indigo-500","focus:border-indigo-500",3,"input","value"],[1,"px-3","py-1","text-xs","font-bold","text-white","bg-indigo-600","rounded-md","hover:bg-indigo-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"px-3","py-1","text-xs","font-semibold","text-gray-700","dark:text-gray-300","bg-gray-200","dark:bg-gray-600","rounded-md","hover:bg-gray-300","dark:hover:bg-gray-700",3,"click"],[1,"px-2","py-1","bg-gray-200","dark:bg-gray-700","text-gray-600","dark:text-gray-300","rounded-md","hover:bg-gray-300","dark:hover:bg-gray-600","transition-colors","text-xs","font-mono",3,"click"],[1,"text-gray-400","dark:text-gray-500"],[1,"bg-gray-100","dark:bg-gray-800","p-4","rounded-lg","flex","flex-col"],[1,"text-lg","font-bold","text-indigo-500","dark:text-indigo-400","mb-3"],[1,"group","relative","flex-grow","max-h-[400px]","overflow-y-auto","pr-2"],[1,"text-gray-700","dark:text-gray-300","whitespace-pre-wrap"],["title","Copy narration",1,"absolute","top-1","right-3","p-1.5","bg-gray-200","dark:bg-gray-700","rounded-md","opacity-0","group-hover:opacity-100","focus:opacity-100","transition-opacity",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4","text-gray-600","dark:text-gray-300"],[1,"mt-3","pt-3","border-t","border-gray-200","dark:border-gray-700","flex","items-center","justify-end","gap-4","text-xs","text-gray-500","dark:text-gray-400","font-mono"],[1,"flex","flex-wrap","justify-between","items-center","gap-2","mb-3"],[1,"text-lg","font-bold","text-indigo-500","dark:text-indigo-400"],[1,"flex","items-center","gap-2"],[1,"space-y-3","max-h-[400px]","overflow-y-auto","pr-2"],[1,"text-gray-400","dark:text-gray-500","text-center","py-4"],[1,"flex","items-center","gap-1.5","px-2","py-1","text-xs","font-semibold","text-gray-600","dark:text-gray-300","bg-gray-200","dark:bg-gray-700","rounded-md","hover:bg-gray-300","dark:hover:bg-gray-600","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"flex","items-center","gap-1.5","px-2","py-1","text-xs","font-semibold","text-indigo-700","dark:text-indigo-200","bg-indigo-100","dark:bg-indigo-500/20","rounded-md","hover:bg-indigo-200","dark:hover:bg-indigo-500/40","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-4","w-4"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"],["stroke-linecap","round","stroke-linejoin","round","d","M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"bg-white/50","dark:bg-gray-900/50","p-3","rounded-lg","text-sm","group","flex","flex-col","gap-3"],[1,"flex","justify-between","items-start","gap-3"],[1,"w-24","h-[135px]","flex-shrink-0","bg-gray-300","dark:bg-gray-700","rounded-md","animate-pulse"],[1,"relative","w-24","flex-shrink-0","group/thumb"],[1,"text-gray-600","dark:text-gray-400"],[1,"text-indigo-600","dark:text-indigo-400","font-semibold"],[1,"flex-shrink-0","p-1","bg-gray-200","dark:bg-gray-700","rounded-md","opacity-0","group-hover:opacity-100","focus:opacity-100","transition-opacity","self-start",3,"click"],[1,"pt-2","border-t","border-gray-200","dark:border-gray-700/50","flex","flex-col","items-start","gap-2"],[1,"text-xs","w-full"],[1,"flex","items-center","gap-1.5","text-xs","text-purple-500","dark:text-purple-300","font-semibold"],[1,"flex","items-center","gap-1.5","text-xs","text-purple-600","dark:text-purple-300","hover:text-purple-500","dark:hover:text-purple-200","font-semibold","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"flex","items-center","gap-1.5","text-xs","text-indigo-600","dark:text-indigo-300","hover:text-indigo-500","dark:hover:text-indigo-200","font-semibold","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"flex","items-center","gap-2","text-xs","text-red-600","dark:text-red-400"],[1,"w-full","aspect-[9/16]","bg-gray-300","dark:bg-gray-700","rounded-md","overflow-hidden",3,"click"],["alt","Generated image",1,"w-full","h-full","object-cover",3,"src"],["title","Download Image",1,"absolute","top-1","right-1","p-1.5","bg-black/50","rounded-full","text-white","opacity-0","group-hover/thumb:opacity-100","focus:opacity-100","transition-opacity",3,"click"],["fill-rule","evenodd","d","M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z","clip-rule","evenodd"],[1,"font-semibold","text-purple-600","dark:text-purple-400","mb-1"],[1,"group/video","relative"],[1,"absolute","top-0","right-0","p-1","bg-gray-200","dark:bg-gray-700","rounded-md","opacity-0","group-hover/video:opacity-100","focus:opacity-100","transition-opacity",3,"click"],[1,"flex","items-center","gap-1.5","text-xs","text-purple-600","dark:text-purple-300","hover:text-purple-500","dark:hover:text-purple-200","font-semibold","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["d","M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2-2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 001.553.832l3-2a1 1 0 000-1.664l-3-2z"],[1,"flex","items-center","gap-1.5","text-xs","text-indigo-600","dark:text-indigo-300","hover:text-indigo-500","dark:hover:text-indigo-200","font-semibold","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"underline","font-semibold","hover:text-red-500","dark:hover:text-red-300","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"p-4","bg-gray-100","dark:bg-gray-900/50","flex","justify-between","items-center","border-b","border-gray-200","dark:border-gray-700"],[1,"text-lg","font-semibold","text-gray-800","dark:text-gray-200"],[1,"flex","items-center","gap-2","px-4","py-2","text-sm","font-semibold","text-indigo-700","dark:text-indigo-200","bg-indigo-100","dark:bg-indigo-500/20","rounded-md","hover:bg-indigo-200","dark:hover:bg-indigo-500/40","transition-colors",3,"click"],[1,"excel-view"],[1,"row-header"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-green-400"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[3,"title"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"mx-auto","h-12","w-12","text-gray-400","dark:text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4M4 7s0 0 0 0m16 0s0 0 0 0M12 11v6"],[1,"mt-2","text-xl","font-semibold","text-gray-700","dark:text-gray-200"],[1,"mt-1","text-gray-500","dark:text-gray-400"],["title","Scroll Up",1,"fixed","bottom-6","right-6","w-12","h-12","rounded-full","bg-indigo-600/80","backdrop-blur-sm","text-white","shadow-lg","hover:bg-indigo-500","transition-all","duration-300","flex","items-center","justify-center","z-50",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","d","M5 15l7-7 7 7"],[1,"fixed","inset-0","bg-black/70","backdrop-blur-sm","z-50","flex","items-center","justify-center","p-4",3,"click"],[1,"w-full","max-w-2xl","bg-white","dark:bg-gray-800","border","border-gray-200","dark:border-gray-700","rounded-2xl","shadow-2xl","max-h-[90vh]","flex","flex-col",3,"click"],[1,"p-4","border-b","border-gray-200","dark:border-gray-700","flex","justify-between","items-center"],[1,"text-xl","font-bold","text-gray-800","dark:text-gray-100"],[1,"p-1","rounded-full","text-gray-500","dark:text-gray-400","hover:bg-gray-100","dark:hover:bg-gray-700","hover:text-gray-800","dark:hover:text-white",3,"click"],[1,"p-6","overflow-y-auto","space-y-4"],[1,"p-3","bg-yellow-50","dark:bg-yellow-900/50","border","border-yellow-200","dark:border-yellow-700","rounded-lg","flex","justify-between","items-center","text-sm","transition-opacity","duration-300"],[1,"bg-gray-50","dark:bg-gray-900/50","p-4","rounded-lg","border","border-gray-200","dark:border-gray-700"],[1,"text-center","text-gray-500","py-8"],[1,"text-yellow-700","dark:text-yellow-200"],[1,"font-semibold","text-yellow-800","dark:text-yellow-300","hover:text-yellow-600","dark:hover:text-yellow-200","underline",3,"click"],[1,"flex","flex-col","gap-3"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["type","text",1,"w-full","bg-white","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-md","px-3","py-1.5","text-sm","text-gray-800","dark:text-gray-200","placeholder-gray-500","focus:ring-1","focus:ring-indigo-500","focus:border-indigo-500",3,"input","value"],["appAutoresize","",1,"w-full","min-h-48","max-h-[60vh]","bg-white","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-md","px-3","py-1.5","text-sm","text-gray-800","dark:text-gray-200","placeholder-gray-500","focus:ring-1","focus:ring-indigo-500","focus:border-indigo-500","font-mono","resize-none",3,"input","triggerResize","value"],[1,"flex","items-center","gap-2","justify-end"],[1,"px-3","py-1","text-xs","font-bold","text-white","bg-indigo-600","rounded-md","hover:bg-indigo-700","disabled:opacity-50",3,"click","disabled"],[1,"font-semibold","text-indigo-500","dark:text-indigo-400"],[1,"mt-2","text-sm","text-gray-500","dark:text-gray-400","line-clamp-3","whitespace-pre-wrap"],[1,"mt-4","flex","items-center","gap-2"],[1,"px-3","py-1","text-xs","font-bold","text-white","bg-indigo-600","rounded-md","hover:bg-indigo-700",3,"click"],[1,"px-3","py-1","text-xs","font-semibold","text-red-600","dark:text-red-300","bg-red-100","dark:bg-red-900/50","rounded-md","hover:bg-red-200","dark:hover:bg-red-900/80"],[1,"px-3","py-1","text-xs","font-semibold","text-red-600","dark:text-red-300","bg-red-100","dark:bg-red-900/50","rounded-md","hover:bg-red-200","dark:hover:bg-red-900/80",3,"click"],[1,"p-4","border-b","border-gray-200","dark:border-gray-700","flex","justify-between","items-center","flex-shrink-0"],[1,"p-1","rounded-full","text-gray-500","dark:text-gray-400","hover:bg-gray-100","dark:hover:bg-gray-700","text-2xl","leading-none",3,"click"],[1,"p-6","overflow-y-auto","flex-grow"],[1,"mb-4","p-3","bg-gray-100/50","dark:bg-gray-900/50","rounded-md","border","border-gray-200","dark:border-gray-700"],[1,"flex","items-center","space-x-3","cursor-pointer"],["type","checkbox",1,"h-5","w-5","rounded","bg-gray-200","dark:bg-gray-700","border-gray-300","dark:border-gray-600","text-indigo-600","focus:ring-indigo-500",3,"change","checked","indeterminate"],[1,"font-semibold","text-gray-700","dark:text-gray-200"],[1,"space-y-2"],[1,"flex","items-center","p-3","space-x-4","bg-gray-100/50","dark:bg-gray-900/50","rounded-md","hover:bg-gray-200/50","dark:hover:bg-gray-700/50","transition-colors","border","border-gray-200","dark:border-gray-700","cursor-pointer","text-gray-700","dark:text-gray-300"],[1,"p-4","border-t","border-gray-200","dark:border-gray-700","flex","justify-end","items-center","gap-3","flex-shrink-0","bg-white/50","dark:bg-gray-800/50","rounded-b-2xl"],[1,"px-4","py-2","text-sm","font-semibold","text-gray-700","dark:text-gray-300","bg-gray-200","dark:bg-gray-600","rounded-md","hover:bg-gray-300","dark:hover:bg-gray-700","transition-colors",3,"click"],[1,"px-4","py-2","text-sm","font-bold","text-white","bg-purple-600","rounded-md","hover:bg-purple-700","disabled:opacity-50","disabled:cursor-not-allowed","transition-colors",3,"click","disabled"],["type","checkbox",1,"h-5","w-5","rounded","bg-gray-200","dark:bg-gray-700","border-gray-300","dark:border-gray-600","text-indigo-600","focus:ring-indigo-500","flex-shrink-0",3,"change","checked"],[1,"flex-1","flex","items-center","gap-2","min-w-0"],[1,"truncate",3,"title"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","title","Narration already generated",1,"h-5","w-5","text-sky-600","dark:text-sky-400","flex-shrink-0"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"w-full","max-w-md","bg-white","dark:bg-gray-800","border","border-gray-200","dark:border-gray-700","rounded-2xl","shadow-2xl",3,"click"],[1,"p-6","text-center"],[1,"mx-auto","flex","h-12","w-12","items-center","justify-center","rounded-full","bg-yellow-100","dark:bg-yellow-900/50"],["fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor","aria-hidden","true",1,"h-6","w-6","text-yellow-500","dark:text-yellow-400"],["stroke-linecap","round","stroke-linejoin","round","d","M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"],[1,"mt-4","text-lg","font-semibold","text-gray-800","dark:text-gray-100"],[1,"mt-2","text-sm","text-gray-500","dark:text-gray-400"],[1,"bg-gray-50","dark:bg-gray-800/50","px-6","py-4","flex","flex-col-reverse","sm:flex-row","sm:justify-center","gap-3"],["type","button",1,"w-full","sm:w-auto","inline-flex","justify-center","rounded-md","bg-indigo-600","px-4","py-2","text-sm","font-semibold","text-white","shadow-sm","hover:bg-indigo-700",3,"click"],["type","button",1,"w-full","sm:w-auto","inline-flex","justify-center","rounded-md","bg-gray-200","dark:bg-gray-700","px-4","py-2","text-sm","font-semibold","text-gray-800","dark:text-gray-200","shadow-sm","hover:bg-gray-300","dark:hover:bg-gray-600",3,"click"],[1,"mx-auto","flex","h-12","w-12","items-center","justify-center","rounded-full","bg-red-100","dark:bg-red-900/50"],["fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor","aria-hidden","true",1,"h-6","w-6","text-red-500","dark:text-red-400"],["type","button",1,"w-full","sm:w-auto","inline-flex","justify-center","rounded-md","bg-red-600","px-4","py-2","text-sm","font-semibold","text-white","shadow-sm","hover:bg-red-700",3,"click"],[1,"fixed","inset-0","bg-black/80","backdrop-blur-md","z-[60]","flex","items-center","justify-center","p-4"],[1,"fixed","inset-0","bg-black/80","backdrop-blur-md","z-[60]","flex","items-center","justify-center","p-4",3,"click"],[1,"absolute","top-4","right-4","z-20","w-10","h-10","rounded-full","bg-black/50","text-white","flex","items-center","justify-center","text-2xl","font-bold","hover:bg-black/80","transition-colors","backdrop-blur-sm",3,"click"],["title","Previous Image",1,"absolute","left-2","sm:left-4","top-1/2","-translate-y-1/2","z-10","p-2","sm:p-3","bg-white/10","rounded-full","hover:bg-white/20","transition-colors","backdrop-blur-sm"],[1,"relative","w-full","h-full","max-w-screen-xl","mx-auto","flex","flex-col","lg:flex-row","items-center","justify-center","gap-6",3,"click"],[1,"relative","flex-1","w-full","h-full","flex","items-center","justify-center"],["alt","Generated image full view",1,"max-w-full","max-h-full","object-contain","drop-shadow-2xl",3,"src"],[1,"w-full","lg:w-96","lg:max-w-sm","flex-shrink-0","bg-white/70","dark:bg-gray-900/70","backdrop-blur-sm","p-4","rounded-lg","max-h-[40%]","lg:max-h-[85vh]","overflow-y-auto","text-sm","flex","flex-col","gap-4"],["title","Next Image",1,"absolute","right-2","sm:right-4","top-1/2","-translate-y-1/2","z-10","p-2","sm:p-3","bg-white/10","rounded-full","hover:bg-white/20","transition-colors","backdrop-blur-sm"],["title","Previous Image",1,"absolute","left-2","sm:left-4","top-1/2","-translate-y-1/2","z-10","p-2","sm:p-3","bg-white/10","rounded-full","hover:bg-white/20","transition-colors","backdrop-blur-sm",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","sm:h-8","sm:w-8","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7 7"],["title","Download Image",1,"flex","items-center","justify-center","gap-2","w-full","px-4","py-2","text-sm","font-semibold","text-white","bg-indigo-600","hover:bg-indigo-700","transition-colors","rounded-lg",3,"click"],[1,"group","relative"],[1,"font-bold","text-indigo-600","dark:text-indigo-300","uppercase","tracking-wider","text-xs","mb-1"],[1,"text-gray-800","dark:text-gray-200"],[1,"absolute","top-0","right-0","p-1","bg-gray-200","dark:bg-gray-700","rounded-md","opacity-0","group-hover:opacity-100","focus:opacity-100","transition-opacity",3,"click"],[1,"group","relative","pt-4","border-t","border-gray-300/50","dark:border-gray-600/50"],[1,"font-bold","text-purple-600","dark:text-purple-300","uppercase","tracking-wider","text-xs","mb-1"],[1,"absolute","top-4","right-0","p-1","bg-gray-200","dark:bg-gray-700","rounded-md","opacity-0","group-hover:opacity-100","focus:opacity-100","transition-opacity",3,"click"],["title","Next Image",1,"absolute","right-2","sm:right-4","top-1/2","-translate-y-1/2","z-10","p-2","sm:p-3","bg-white/10","rounded-full","hover:bg-white/20","transition-colors","backdrop-blur-sm",3,"click"],[1,"w-full","max-w-lg","bg-white","dark:bg-gray-800","border","border-gray-200","dark:border-gray-700","rounded-2xl","shadow-2xl",3,"click"],[1,"p-1","rounded-full","text-gray-500","dark:text-gray-400","hover:bg-gray-100","dark:hover:bg-gray-700","text-2xl","leading-none"],[1,"p-6","space-y-4"],[1,"text-sm","text-gray-600","dark:text-gray-400"],["href","https://aistudio.google.com/app/apikey","target","_blank","rel","noopener noreferrer",1,"text-indigo-500","hover:underline"],["for","apiKeyInput",1,"font-semibold","text-gray-700","dark:text-gray-300"],["id","apiKeyInput","type","password","placeholder","Enter your Google AI API key",1,"w-full","p-3","bg-gray-100/50","dark:bg-gray-900/50","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-indigo-500","focus:border-indigo-500","transition-all","text-gray-800","dark:text-gray-200","placeholder-gray-400","dark:placeholder-gray-500",3,"input","keydown.enter","value"],[1,"min-h-[20px]","text-sm","text-center"],[1,"text-red-500","dark:text-red-400"],[1,"text-green-500","dark:text-green-400"],[1,"text-xs","text-gray-500"],[1,"p-4","bg-gray-50","dark:bg-gray-800/50","border-t","border-gray-200","dark:border-gray-700","flex","justify-end","items-center","gap-3"],[1,"px-4","py-2","text-sm","font-semibold","text-red-700","dark:text-red-300","bg-red-100","dark:bg-red-900/50","rounded-md","hover:bg-red-200","dark:hover:bg-red-900/80","transition-colors"],[1,"relative","inline-flex","items-center","justify-center","px-4","py-2","text-sm","font-bold","text-white","bg-indigo-600","rounded-md","hover:bg-indigo-700","disabled:opacity-50","disabled:cursor-not-allowed","transition-colors","w-32",3,"click","disabled"],[1,"px-4","py-2","text-sm","font-semibold","text-red-700","dark:text-red-300","bg-red-100","dark:bg-red-900/50","rounded-md","hover:bg-red-200","dark:hover:bg-red-900/80","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-4","w-4","text-white"],[1,"p-6","space-y-6"],[1,"text-sm"],[1,"text-lg","font-semibold","text-gray-800","dark:text-gray-100","mb-3"],[1,"flex","justify-between","items-center"],["for","textModelSelect",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["role","status",1,"text-xs","font-medium","text-green-600","dark:text-green-400","flex","items-center","gap-1","transition-opacity","duration-300"],["id","textModelSelect",1,"mt-1","block","w-full","pl-3","pr-10","py-2","text-base","border-gray-300","dark:border-gray-600","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm","rounded-md","bg-gray-100/50","dark:bg-gray-900/50","text-gray-800","dark:text-gray-200",3,"change","value"],[3,"value"],["for","imageModelSelect",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","imageModelSelect",1,"mt-1","block","w-full","pl-3","pr-10","py-2","text-base","border-gray-300","dark:border-gray-600","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm","rounded-md","bg-gray-100/50","dark:bg-gray-900/50","text-gray-800","dark:text-gray-200",3,"change","value"],[3,"value","disabled"],[1,"p-4","bg-gray-50","dark:bg-gray-800/50","border-t","border-gray-200","dark:border-gray-700","flex","justify-end"],[1,"px-4","py-2","text-sm","font-bold","text-white","bg-indigo-600","rounded-md","hover:bg-indigo-700",3,"click"]],template:function(n,r){if(n&1){let i=fe();_(0,"div",2)(1,"main",3),O("scroll",function(s){return L(i),F(r.onMainScroll(s))}),_(2,"div",4)(3,"header",5)(4,"div")(5,"h1",6),b(6," Content Idea Generator "),E(),_(7,"span"),b(8,"Active Text gen Model: "),_(9,"strong",7),b(10),E()(),G(11,"br"),_(12,"span"),b(13,"Active Image gen Model: "),_(14,"strong",7),b(15),E()()(),_(16,"div",8)(17,"button",9),O("click",function(){return L(i),F(r.openApiKeyModal())}),J(),_(18,"svg",10),G(19,"path",11),E(),et(),_(20,"span",12),b(21,"API Key"),E()(),_(22,"button",13),O("click",function(){return L(i),F(r.toggleTheme())}),j(23,o6,2,0,":svg:svg",14)(24,s6,2,0,":svg:svg",14),E(),_(25,"button",15),O("click",function(){return L(i),F(r.openAboutModal())}),J(),_(26,"svg",14),G(27,"path",16),E()(),et(),_(28,"input",17,0),O("change",function(s){return L(i),F(r.handleFileImport(s))}),E(),_(30,"button",18),O("click",function(){return L(i),F(r.triggerImport())}),J(),_(31,"svg",10),G(32,"path",19),E(),et(),_(33,"span",12),b(34,"Import"),E()(),_(35,"button",20),O("click",function(){return L(i),F(r.exportData())}),J(),_(36,"svg",10),G(37,"path",21),E(),et(),_(38,"span",12),b(39,"Export"),E()()()(),_(40,"div",22)(41,"div",23)(42,"div",24)(43,"label",25),b(44,"Content Topic"),E(),_(45,"textarea",26),O("input",function(s){return L(i),F(r.topic.set(s.target.value))}),E()(),_(46,"div",24)(47,"label",27),b(48,"Custom Columns"),E(),_(49,"app-chip-input",28),fp("chipsChange",function(s){return L(i),Py(r.customColumns,s)||(r.customColumns=s),F(s)}),E(),_(50,"p",29),b(51,"'Idea' column is always included."),E()()(),_(52,"div",30)(53,"div",31)(54,"button",32),O("click",function(){return L(i),F(r.generateIdeas())}),j(55,a6,4,0)(56,l6,3,0),E(),_(57,"div",33)(58,"label",34),b(59,"Jumlah"),E(),_(60,"input",35),O("input",function(s){return L(i),F(r.initialGenerationCount.set(+s.target.value||10))}),E()()(),_(61,"div",36)(62,"div",37,1)(64,"div")(65,"button",38),O("click",function(){return L(i),F(r.toggleHistoryDropdown())}),J(),_(66,"svg",39),G(67,"path",40),E(),b(68," History "),_(69,"svg",41),G(70,"path",42),E()()(),j(71,f6,4,1,"div",43),E(),et(),_(72,"div",44)(73,"button",45),O("click",function(){return L(i),F(r.setViewMode("normal"))}),J(),_(74,"svg",14),G(75,"path",46),E()(),et(),_(76,"button",47),O("click",function(){return L(i),F(r.setViewMode("compact"))}),J(),_(77,"svg",14),G(78,"path",48),E()()(),et(),_(79,"button",49),O("click",function(){return L(i),F(r.openResetConfirmModal())}),J(),_(80,"svg",10),G(81,"path",50),E(),et(),_(82,"span",51),b(83,"Hapus Semua Data"),E()()()()(),j(84,p6,5,1,"div",52),_(85,"div",53),j(86,m6,3,1,"div",54)(87,hq,11,4)(88,vq,8,1,"div",55),E()()(),j(89,yq,3,0,"button",56),j(90,Dq,12,2,"div",57),j(91,kq,21,4,"div",57),j(92,Nq,15,0,"div",57),j(93,Mq,15,0,"div",57),j(94,Hq,1,1),j(95,Kq,25,10,"div",58),j(96,t9,36,4,"div",57),E()}if(n&2){let i,o;A(10),Fe(r.modelSettingsService.textModel()),A(5),Fe(r.modelSettingsService.imageModel()),A(2),Dn("text-green-700",r.hasApiKey())("dark:text-green-300",r.hasApiKey())("bg-green-100",r.hasApiKey())("dark:bg-green-900/50",r.hasApiKey())("hover:bg-green-200",r.hasApiKey())("dark:hover:bg-green-900/80",r.hasApiKey())("text-red-700",!r.hasApiKey())("dark:text-red-300",!r.hasApiKey())("bg-red-100",!r.hasApiKey())("dark:bg-red-900/50",!r.hasApiKey())("hover:bg-red-200",!r.hasApiKey())("dark:hover:bg-red-900/80",!r.hasApiKey()),A(5),ge("title","Switch to "+(r.theme()==="dark"?"light":"dark")+" mode"),A(),Y(r.theme()==="dark"?23:24),A(22),ge("value",r.topic()),A(4),dp("chips",r.customColumns),A(5),ge("disabled",r.loadingIdeas()||!r.topic().trim()||!r.hasApiKey()),A(),Y(r.loadingIdeas()?55:56),A(5),ge("value",r.initialGenerationCount()),A(11),Y(r.isHistoryDropdownOpen()?71:-1),A(2),Dn("bg-indigo-600",r.viewMode()==="normal")("text-white",r.viewMode()==="normal")("text-gray-600",r.viewMode()!=="normal")("dark:text-gray-300",r.viewMode()!=="normal")("hover:bg-gray-200",r.viewMode()!=="normal")("dark:hover:bg-gray-700",r.viewMode()!=="normal"),A(3),Dn("bg-indigo-600",r.viewMode()==="compact")("text-white",r.viewMode()==="compact")("text-gray-600",r.viewMode()!=="compact")("dark:text-gray-300",r.viewMode()!=="compact")("hover:bg-gray-200",r.viewMode()!=="compact")("dark:hover:bg-gray-700",r.viewMode()!=="compact"),A(8),Y(r.apiError()?84:-1),A(2),Y(r.loadingIdeas()&&r.currentIdeas().length===0?86:r.currentIdeas().length>0?87:r.loadingIdeas()?-1:88),A(3),Y(r.isScrolled()?89:-1),A(),Y((i=r.isTemplatesModalOpen()&&r.activeIdeaForModal())?90:-1,i),A(),Y(r.isBatchGenerateModalOpen()?91:-1),A(),Y(r.isImportConfirmModalOpen()?92:-1),A(),Y(r.isResetConfirmModalOpen()?93:-1),A(),Y((o=r.lightboxState())?94:-1,o),A(),Y(r.isApiKeyModalOpen()?95:-1),A(),Y(r.isAboutModalOpen()?96:-1)}},dependencies:[na,Gp,zp],styles:['tr.has-narration[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:var(--narration-text-color)}.excel-view-container[_ngcontent-%COMP%]{border-radius:.5rem;overflow:hidden}.excel-view[_ngcontent-%COMP%]{max-height:70vh;overflow:auto;font-family:Segoe UI,Calibri,Arial,sans-serif;font-size:.8rem}.excel-view[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.excel-view[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .excel-view[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:3px 6px;min-width:100px;max-width:350px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.excel-view[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .excel-view[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .row-header[_ngcontent-%COMP%]{font-weight:600;text-align:center;font-size:.75rem}.excel-view[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;z-index:20}.excel-view[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .row-header[_ngcontent-%COMP%]{position:sticky;left:0;z-index:10;min-width:40px!important;text-align:center}.excel-view[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{position:sticky;left:0;top:0;z-index:30;min-width:40px!important}.excel-view-container[_ngcontent-%COMP%]{background-color:#f9fafb;border:1px solid #d1d5db}.excel-view[_ngcontent-%COMP%]{color:#374151}.excel-view[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .excel-view[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #e5e7eb}.excel-view[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .excel-view[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .row-header[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#4b5563}.excel-view[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#fff}.excel-view[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;background-color:#e5e7eb}.excel-view[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(:first-child):hover   td[_ngcontent-%COMP%]{background-color:#f9fafb}.excel-view[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(:first-child):hover   .row-header[_ngcontent-%COMP%]{background-color:#f3f4f6}.dark[_ngcontent-%COMP%]   .excel-view-container[_ngcontent-%COMP%]{background-color:#1f2937;border:1px solid #4b5563}.dark[_ngcontent-%COMP%]   .excel-view[_ngcontent-%COMP%]{color:#d1d5db}.dark[_ngcontent-%COMP%]   .excel-view[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .excel-view[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #374151}.dark[_ngcontent-%COMP%]   .excel-view[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .excel-view[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .row-header[_ngcontent-%COMP%]{background-color:#111827;color:#9ca3af}.dark[_ngcontent-%COMP%]   .excel-view[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#1f2937}.dark[_ngcontent-%COMP%]   .excel-view[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%]{font-weight:600;color:#d1d5db;background-color:#374151}.dark[_ngcontent-%COMP%]   .excel-view[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(:first-child):hover   td[_ngcontent-%COMP%]{background-color:#374151}.dark[_ngcontent-%COMP%]   .excel-view[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(:first-child):hover   .row-header[_ngcontent-%COMP%]{background-color:#4b5563}@media (max-width: 767px){.responsive-table[_ngcontent-%COMP%]{border:none;background:transparent!important}.responsive-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.responsive-table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%]{counter-reset:row-num}.responsive-table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{display:block;background-color:#fff;border:1px solid #e5e7eb;border-radius:.75rem;margin-bottom:1rem;overflow:hidden;box-shadow:0 1px 2px #0000000d}.responsive-table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:has(>td.expand-cell){position:relative;counter-increment:row-num}.responsive-table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:has(>td.expand-cell):before{content:"#" counter(row-num);position:absolute;left:1rem;top:.85rem;font-size:1rem;font-weight:700;font-family:monospace;color:#9ca3af;z-index:1}.dark[_ngcontent-%COMP%]   .responsive-table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:has(>td.expand-cell):before{color:#6b7280}.dark[_ngcontent-%COMP%]   .responsive-table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{background-color:#1f2937;border-color:#374151}.responsive-table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr.hover\\:bg-gray-100[_ngcontent-%COMP%]:hover{background-color:#fff!important}.dark[_ngcontent-%COMP%]   .responsive-table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr.dark\\:hover\\:bg-gray-800[_ngcontent-%COMP%]:hover{background-color:#1f2937!important}.responsive-table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{border-bottom-width:1px}.dark[_ngcontent-%COMP%]   .responsive-table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{border-bottom-color:#374151}.responsive-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block;padding:.75rem 1rem;text-align:left;border-bottom:1px solid #f3f4f6;white-space:normal}.dark[_ngcontent-%COMP%]   .responsive-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-color:#2c384a}.responsive-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]:last-child{border-bottom:none}.responsive-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);display:block;font-size:.75rem;font-weight:600;text-transform:uppercase;color:#6b7280;margin-bottom:.25rem}.dark[_ngcontent-%COMP%]   .responsive-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{color:#9ca3af}.responsive-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{padding-right:0}.responsive-table[_ngcontent-%COMP%]   td.expand-cell[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#f9fafb;padding:.75rem 1rem .75rem 3.5rem}.dark[_ngcontent-%COMP%]   .responsive-table[_ngcontent-%COMP%]   td.expand-cell[_ngcontent-%COMP%]{background-color:#2c384a}.responsive-table[_ngcontent-%COMP%]   td.expand-cell[_ngcontent-%COMP%]:before{flex-grow:1;font-size:1.125rem;font-weight:700;color:#4f46e5;text-transform:none;margin-bottom:0;padding-right:.5rem;white-space:normal}.dark[_ngcontent-%COMP%]   .responsive-table[_ngcontent-%COMP%]   td.expand-cell[_ngcontent-%COMP%]:before{color:#818cf8}.responsive-table[_ngcontent-%COMP%]   td.index-cell[_ngcontent-%COMP%], .responsive-table[_ngcontent-%COMP%]   td[data-label=Idea][_ngcontent-%COMP%]{display:none}.responsive-table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] + tr[class*=bg-gray-50][_ngcontent-%COMP%]{display:block;border:none;border-radius:0;margin-bottom:1rem;box-shadow:none;margin-top:-1rem;border-top:1px solid #e5e7eb}.dark[_ngcontent-%COMP%]   .responsive-table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] + tr[class*=bg-gray-900][_ngcontent-%COMP%]{border-top-color:#374151}.responsive-table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] + tr[class*=bg-gray-50][_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{display:block;border-bottom:none;padding:0}}'],changeDetection:0});var Wp=va;Xy(Wp,{providers:[Oy(),e0()]}).catch(t=>console.error(t));
